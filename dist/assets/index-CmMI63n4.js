(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Gl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yy={exports:{}},Yl={},vy={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bs=Symbol.for("react.element"),Vw=Symbol.for("react.portal"),Mw=Symbol.for("react.fragment"),Lw=Symbol.for("react.strict_mode"),$w=Symbol.for("react.profiler"),Fw=Symbol.for("react.provider"),jw=Symbol.for("react.context"),bw=Symbol.for("react.forward_ref"),Bw=Symbol.for("react.suspense"),Uw=Symbol.for("react.memo"),zw=Symbol.for("react.lazy"),$p=Symbol.iterator;function Hw(t){return t===null||typeof t!="object"?null:(t=$p&&t[$p]||t["@@iterator"],typeof t=="function"?t:null)}var _y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ey=Object.assign,wy={};function lo(t,e,n){this.props=t,this.context=e,this.refs=wy,this.updater=n||_y}lo.prototype.isReactComponent={};lo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};lo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ty(){}Ty.prototype=lo.prototype;function Dd(t,e,n){this.props=t,this.context=e,this.refs=wy,this.updater=n||_y}var Nd=Dd.prototype=new Ty;Nd.constructor=Dd;Ey(Nd,lo.prototype);Nd.isPureReactComponent=!0;var Fp=Array.isArray,Sy=Object.prototype.hasOwnProperty,Od={current:null},Iy={key:!0,ref:!0,__self:!0,__source:!0};function Cy(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Sy.call(e,r)&&!Iy.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:bs,type:t,key:o,ref:s,props:i,_owner:Od.current}}function Ww(t,e){return{$$typeof:bs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vd(t){return typeof t=="object"&&t!==null&&t.$$typeof===bs}function qw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jp=/\/+/g;function Ju(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qw(""+t.key):e.toString(36)}function ja(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case bs:case Vw:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Ju(s,0):r,Fp(i)?(n="",t!=null&&(n=t.replace(jp,"$&/")+"/"),ja(i,e,n,"",function(u){return u})):i!=null&&(Vd(i)&&(i=Ww(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(jp,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Fp(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Ju(o,a);s+=ja(o,e,n,l,i)}else if(l=Hw(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Ju(o,a++),s+=ja(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ca(t,e,n){if(t==null)return t;var r=[],i=0;return ja(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Qw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _t={current:null},ba={transition:null},Kw={ReactCurrentDispatcher:_t,ReactCurrentBatchConfig:ba,ReactCurrentOwner:Od};K.Children={map:ca,forEach:function(t,e,n){ca(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ca(t,function(){e++}),e},toArray:function(t){return ca(t,function(e){return e})||[]},only:function(t){if(!Vd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};K.Component=lo;K.Fragment=Mw;K.Profiler=$w;K.PureComponent=Dd;K.StrictMode=Lw;K.Suspense=Bw;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kw;K.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ey({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Od.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Sy.call(e,l)&&!Iy.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:bs,type:t.type,key:i,ref:o,props:r,_owner:s}};K.createContext=function(t){return t={$$typeof:jw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Fw,_context:t},t.Consumer=t};K.createElement=Cy;K.createFactory=function(t){var e=Cy.bind(null,t);return e.type=t,e};K.createRef=function(){return{current:null}};K.forwardRef=function(t){return{$$typeof:bw,render:t}};K.isValidElement=Vd;K.lazy=function(t){return{$$typeof:zw,_payload:{_status:-1,_result:t},_init:Qw}};K.memo=function(t,e){return{$$typeof:Uw,type:t,compare:e===void 0?null:e}};K.startTransition=function(t){var e=ba.transition;ba.transition={};try{t()}finally{ba.transition=e}};K.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};K.useCallback=function(t,e){return _t.current.useCallback(t,e)};K.useContext=function(t){return _t.current.useContext(t)};K.useDebugValue=function(){};K.useDeferredValue=function(t){return _t.current.useDeferredValue(t)};K.useEffect=function(t,e){return _t.current.useEffect(t,e)};K.useId=function(){return _t.current.useId()};K.useImperativeHandle=function(t,e,n){return _t.current.useImperativeHandle(t,e,n)};K.useInsertionEffect=function(t,e){return _t.current.useInsertionEffect(t,e)};K.useLayoutEffect=function(t,e){return _t.current.useLayoutEffect(t,e)};K.useMemo=function(t,e){return _t.current.useMemo(t,e)};K.useReducer=function(t,e,n){return _t.current.useReducer(t,e,n)};K.useRef=function(t){return _t.current.useRef(t)};K.useState=function(t){return _t.current.useState(t)};K.useSyncExternalStore=function(t,e,n){return _t.current.useSyncExternalStore(t,e,n)};K.useTransition=function(){return _t.current.useTransition()};K.version="18.2.0";vy.exports=K;var v=vy.exports;const j=Gl(v);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gw=v,Yw=Symbol.for("react.element"),Xw=Symbol.for("react.fragment"),Jw=Object.prototype.hasOwnProperty,Zw=Gw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eT={key:!0,ref:!0,__self:!0,__source:!0};function Ry(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Jw.call(e,r)&&!eT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Yw,type:t,key:o,ref:s,props:i,_owner:Zw.current}}Yl.Fragment=Xw;Yl.jsx=Ry;Yl.jsxs=Ry;yy.exports=Yl;var g=yy.exports,Yc={},ky={exports:{}},$t={},Ay={exports:{}},xy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,$){var b=k.length;k.push($);e:for(;0<b;){var Z=b-1>>>1,te=k[Z];if(0<i(te,$))k[Z]=$,k[b]=te,b=Z;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var $=k[0],b=k.pop();if(b!==$){k[0]=b;e:for(var Z=0,te=k.length,Oe=te>>>1;Z<Oe;){var ct=2*(Z+1)-1,Gt=k[ct],ht=ct+1,ln=k[ht];if(0>i(Gt,b))ht<te&&0>i(ln,Gt)?(k[Z]=ln,k[ht]=b,Z=ht):(k[Z]=Gt,k[ct]=b,Z=ct);else if(ht<te&&0>i(ln,b))k[Z]=ln,k[ht]=b,Z=ht;else break e}}return $}function i(k,$){var b=k.sortIndex-$.sortIndex;return b!==0?b:k.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,_=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(k){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=k)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function w(k){if(E=!1,y(k),!_)if(n(l)!==null)_=!0,ne(I);else{var $=n(u);$!==null&&Se(w,$.startTime-k)}}function I(k,$){_=!1,E&&(E=!1,m(D),D=-1),f=!0;var b=d;try{for(y($),h=n(l);h!==null&&(!(h.expirationTime>$)||k&&!se());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,d=h.priorityLevel;var te=Z(h.expirationTime<=$);$=t.unstable_now(),typeof te=="function"?h.callback=te:h===n(l)&&r(l),y($)}else r(l);h=n(l)}if(h!==null)var Oe=!0;else{var ct=n(u);ct!==null&&Se(w,ct.startTime-$),Oe=!1}return Oe}finally{h=null,d=b,f=!1}}var x=!1,P=null,D=-1,W=5,L=-1;function se(){return!(t.unstable_now()-L<W)}function le(){if(P!==null){var k=t.unstable_now();L=k;var $=!0;try{$=P(!0,k)}finally{$?Te():(x=!1,P=null)}}else x=!1}var Te;if(typeof p=="function")Te=function(){p(le)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Ae=ye.port2;ye.port1.onmessage=le,Te=function(){Ae.postMessage(null)}}else Te=function(){T(le,0)};function ne(k){P=k,x||(x=!0,Te())}function Se(k,$){D=T(function(){k(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){_||f||(_=!0,ne(I))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(k){switch(d){case 1:case 2:case 3:var $=3;break;default:$=d}var b=d;d=$;try{return k()}finally{d=b}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,$){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var b=d;d=k;try{return $()}finally{d=b}},t.unstable_scheduleCallback=function(k,$,b){var Z=t.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?Z+b:Z):b=Z,k){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=b+te,k={id:c++,callback:$,priorityLevel:k,startTime:b,expirationTime:te,sortIndex:-1},b>Z?(k.sortIndex=b,e(u,k),n(l)===null&&k===n(u)&&(E?(m(D),D=-1):E=!0,Se(w,b-Z))):(k.sortIndex=te,e(l,k),_||f||(_=!0,ne(I))),k},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(k){var $=d;return function(){var b=d;d=$;try{return k.apply(this,arguments)}finally{d=b}}}})(xy);Ay.exports=xy;var tT=Ay.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py=v,Mt=tT;function A(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dy=new Set,ss={};function oi(t,e){qi(t,e),qi(t+"Capture",e)}function qi(t,e){for(ss[t]=e,t=0;t<e.length;t++)Dy.add(e[t])}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xc=Object.prototype.hasOwnProperty,nT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bp={},Bp={};function rT(t){return Xc.call(Bp,t)?!0:Xc.call(bp,t)?!1:nT.test(t)?Bp[t]=!0:(bp[t]=!0,!1)}function iT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oT(t,e,n,r){if(e===null||typeof e>"u"||iT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Et(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Je[t]=new Et(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Je[e]=new Et(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Je[t]=new Et(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Je[t]=new Et(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Je[t]=new Et(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Je[t]=new Et(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Je[t]=new Et(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Je[t]=new Et(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Je[t]=new Et(t,5,!1,t.toLowerCase(),null,!1,!1)});var Md=/[\-:]([a-z])/g;function Ld(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Md,Ld);Je[e]=new Et(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Md,Ld);Je[e]=new Et(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Md,Ld);Je[e]=new Et(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Je[t]=new Et(t,1,!1,t.toLowerCase(),null,!1,!1)});Je.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Je[t]=new Et(t,1,!1,t.toLowerCase(),null,!0,!0)});function $d(t,e,n,r){var i=Je.hasOwnProperty(e)?Je[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(oT(e,n,i,r)&&(n=null),r||i===null?rT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var jn=Py.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ha=Symbol.for("react.element"),Ti=Symbol.for("react.portal"),Si=Symbol.for("react.fragment"),Fd=Symbol.for("react.strict_mode"),Jc=Symbol.for("react.profiler"),Ny=Symbol.for("react.provider"),Oy=Symbol.for("react.context"),jd=Symbol.for("react.forward_ref"),Zc=Symbol.for("react.suspense"),eh=Symbol.for("react.suspense_list"),bd=Symbol.for("react.memo"),Hn=Symbol.for("react.lazy"),Vy=Symbol.for("react.offscreen"),Up=Symbol.iterator;function Eo(t){return t===null||typeof t!="object"?null:(t=Up&&t[Up]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Object.assign,Zu;function No(t){if(Zu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zu=e&&e[1]||""}return`
`+Zu+t}var ec=!1;function tc(t,e){if(!t||ec)return"";ec=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{ec=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?No(t):""}function sT(t){switch(t.tag){case 5:return No(t.type);case 16:return No("Lazy");case 13:return No("Suspense");case 19:return No("SuspenseList");case 0:case 2:case 15:return t=tc(t.type,!1),t;case 11:return t=tc(t.type.render,!1),t;case 1:return t=tc(t.type,!0),t;default:return""}}function th(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Si:return"Fragment";case Ti:return"Portal";case Jc:return"Profiler";case Fd:return"StrictMode";case Zc:return"Suspense";case eh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Oy:return(t.displayName||"Context")+".Consumer";case Ny:return(t._context.displayName||"Context")+".Provider";case jd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bd:return e=t.displayName||null,e!==null?e:th(t.type)||"Memo";case Hn:e=t._payload,t=t._init;try{return th(t(e))}catch{}}return null}function aT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return th(e);case 8:return e===Fd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function dr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function My(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lT(t){var e=My(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function da(t){t._valueTracker||(t._valueTracker=lT(t))}function Ly(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=My(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function il(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function nh(t,e){var n=e.checked;return Ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=dr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $y(t,e){e=e.checked,e!=null&&$d(t,"checked",e,!1)}function rh(t,e){$y(t,e);var n=dr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ih(t,e.type,n):e.hasOwnProperty("defaultValue")&&ih(t,e.type,dr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Hp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ih(t,e,n){(e!=="number"||il(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Oo=Array.isArray;function Li(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+dr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function oh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return Ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(A(92));if(Oo(n)){if(1<n.length)throw Error(A(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:dr(n)}}function Fy(t,e){var n=dr(e.value),r=dr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function qp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fa,by=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fa=fa||document.createElement("div"),fa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function as(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uT=["Webkit","ms","Moz","O"];Object.keys(zo).forEach(function(t){uT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zo[e]=zo[t]})});function By(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zo.hasOwnProperty(t)&&zo[t]?(""+e).trim():e+"px"}function Uy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=By(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var cT=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ah(t,e){if(e){if(cT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function lh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uh=null;function Bd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ch=null,$i=null,Fi=null;function Qp(t){if(t=zs(t)){if(typeof ch!="function")throw Error(A(280));var e=t.stateNode;e&&(e=tu(e),ch(t.stateNode,t.type,e))}}function zy(t){$i?Fi?Fi.push(t):Fi=[t]:$i=t}function Hy(){if($i){var t=$i,e=Fi;if(Fi=$i=null,Qp(t),e)for(t=0;t<e.length;t++)Qp(e[t])}}function Wy(t,e){return t(e)}function qy(){}var nc=!1;function Qy(t,e,n){if(nc)return t(e,n);nc=!0;try{return Wy(t,e,n)}finally{nc=!1,($i!==null||Fi!==null)&&(qy(),Hy())}}function ls(t,e){var n=t.stateNode;if(n===null)return null;var r=tu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(A(231,e,typeof n));return n}var hh=!1;if(Dn)try{var wo={};Object.defineProperty(wo,"passive",{get:function(){hh=!0}}),window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{hh=!1}function hT(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Ho=!1,ol=null,sl=!1,dh=null,dT={onError:function(t){Ho=!0,ol=t}};function fT(t,e,n,r,i,o,s,a,l){Ho=!1,ol=null,hT.apply(dT,arguments)}function pT(t,e,n,r,i,o,s,a,l){if(fT.apply(this,arguments),Ho){if(Ho){var u=ol;Ho=!1,ol=null}else throw Error(A(198));sl||(sl=!0,dh=u)}}function si(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ky(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Kp(t){if(si(t)!==t)throw Error(A(188))}function mT(t){var e=t.alternate;if(!e){if(e=si(t),e===null)throw Error(A(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Kp(i),t;if(o===r)return Kp(i),e;o=o.sibling}throw Error(A(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?t:e}function Gy(t){return t=mT(t),t!==null?Yy(t):null}function Yy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Yy(t);if(e!==null)return e;t=t.sibling}return null}var Xy=Mt.unstable_scheduleCallback,Gp=Mt.unstable_cancelCallback,gT=Mt.unstable_shouldYield,yT=Mt.unstable_requestPaint,Re=Mt.unstable_now,vT=Mt.unstable_getCurrentPriorityLevel,Ud=Mt.unstable_ImmediatePriority,Jy=Mt.unstable_UserBlockingPriority,al=Mt.unstable_NormalPriority,_T=Mt.unstable_LowPriority,Zy=Mt.unstable_IdlePriority,Xl=null,gn=null;function ET(t){if(gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(Xl,t,void 0,(t.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:ST,wT=Math.log,TT=Math.LN2;function ST(t){return t>>>=0,t===0?32:31-(wT(t)/TT|0)|0}var pa=64,ma=4194304;function Vo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ll(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Vo(a):(o&=s,o!==0&&(r=Vo(o)))}else s=n&~i,s!==0?r=Vo(s):o!==0&&(r=Vo(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tn(e),i=1<<n,r|=t[n],e&=~i;return r}function IT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-tn(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=IT(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function fh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ev(){var t=pa;return pa<<=1,!(pa&4194240)&&(pa=64),t}function rc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tn(e),t[e]=n}function RT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-tn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function zd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ie=0;function tv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nv,Hd,rv,iv,ov,ph=!1,ga=[],Zn=null,er=null,tr=null,us=new Map,cs=new Map,Qn=[],kT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yp(t,e){switch(t){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":us.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cs.delete(e.pointerId)}}function To(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=zs(e),e!==null&&Hd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function AT(t,e,n,r,i){switch(e){case"focusin":return Zn=To(Zn,t,e,n,r,i),!0;case"dragenter":return er=To(er,t,e,n,r,i),!0;case"mouseover":return tr=To(tr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return us.set(o,To(us.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,cs.set(o,To(cs.get(o)||null,t,e,n,r,i)),!0}return!1}function sv(t){var e=$r(t.target);if(e!==null){var n=si(e);if(n!==null){if(e=n.tag,e===13){if(e=Ky(n),e!==null){t.blockedOn=e,ov(t.priority,function(){rv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ba(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);uh=r,n.target.dispatchEvent(r),uh=null}else return e=zs(n),e!==null&&Hd(e),t.blockedOn=n,!1;e.shift()}return!0}function Xp(t,e,n){Ba(t)&&n.delete(e)}function xT(){ph=!1,Zn!==null&&Ba(Zn)&&(Zn=null),er!==null&&Ba(er)&&(er=null),tr!==null&&Ba(tr)&&(tr=null),us.forEach(Xp),cs.forEach(Xp)}function So(t,e){t.blockedOn===e&&(t.blockedOn=null,ph||(ph=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,xT)))}function hs(t){function e(i){return So(i,t)}if(0<ga.length){So(ga[0],t);for(var n=1;n<ga.length;n++){var r=ga[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zn!==null&&So(Zn,t),er!==null&&So(er,t),tr!==null&&So(tr,t),us.forEach(e),cs.forEach(e),n=0;n<Qn.length;n++)r=Qn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qn.length&&(n=Qn[0],n.blockedOn===null);)sv(n),n.blockedOn===null&&Qn.shift()}var ji=jn.ReactCurrentBatchConfig,ul=!0;function PT(t,e,n,r){var i=ie,o=ji.transition;ji.transition=null;try{ie=1,Wd(t,e,n,r)}finally{ie=i,ji.transition=o}}function DT(t,e,n,r){var i=ie,o=ji.transition;ji.transition=null;try{ie=4,Wd(t,e,n,r)}finally{ie=i,ji.transition=o}}function Wd(t,e,n,r){if(ul){var i=mh(t,e,n,r);if(i===null)fc(t,e,r,cl,n),Yp(t,r);else if(AT(i,t,e,n,r))r.stopPropagation();else if(Yp(t,r),e&4&&-1<kT.indexOf(t)){for(;i!==null;){var o=zs(i);if(o!==null&&nv(o),o=mh(t,e,n,r),o===null&&fc(t,e,r,cl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else fc(t,e,r,null,n)}}var cl=null;function mh(t,e,n,r){if(cl=null,t=Bd(r),t=$r(t),t!==null)if(e=si(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ky(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cl=t,null}function av(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vT()){case Ud:return 1;case Jy:return 4;case al:case _T:return 16;case Zy:return 536870912;default:return 16}default:return 16}}var Gn=null,qd=null,Ua=null;function lv(){if(Ua)return Ua;var t,e=qd,n=e.length,r,i="value"in Gn?Gn.value:Gn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Ua=i.slice(t,1<r?1-r:void 0)}function za(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ya(){return!0}function Jp(){return!1}function Ft(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ya:Jp,this.isPropagationStopped=Jp,this}return Ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ya)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ya)},persist:function(){},isPersistent:ya}),e}var uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qd=Ft(uo),Us=Ee({},uo,{view:0,detail:0}),NT=Ft(Us),ic,oc,Io,Jl=Ee({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Io&&(Io&&t.type==="mousemove"?(ic=t.screenX-Io.screenX,oc=t.screenY-Io.screenY):oc=ic=0,Io=t),ic)},movementY:function(t){return"movementY"in t?t.movementY:oc}}),Zp=Ft(Jl),OT=Ee({},Jl,{dataTransfer:0}),VT=Ft(OT),MT=Ee({},Us,{relatedTarget:0}),sc=Ft(MT),LT=Ee({},uo,{animationName:0,elapsedTime:0,pseudoElement:0}),$T=Ft(LT),FT=Ee({},uo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jT=Ft(FT),bT=Ee({},uo,{data:0}),em=Ft(bT),BT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zT[t])?!!e[t]:!1}function Kd(){return HT}var WT=Ee({},Us,{key:function(t){if(t.key){var e=BT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=za(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kd,charCode:function(t){return t.type==="keypress"?za(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?za(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qT=Ft(WT),QT=Ee({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tm=Ft(QT),KT=Ee({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kd}),GT=Ft(KT),YT=Ee({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),XT=Ft(YT),JT=Ee({},Jl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZT=Ft(JT),eS=[9,13,27,32],Gd=Dn&&"CompositionEvent"in window,Wo=null;Dn&&"documentMode"in document&&(Wo=document.documentMode);var tS=Dn&&"TextEvent"in window&&!Wo,uv=Dn&&(!Gd||Wo&&8<Wo&&11>=Wo),nm=" ",rm=!1;function cv(t,e){switch(t){case"keyup":return eS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ii=!1;function nS(t,e){switch(t){case"compositionend":return hv(e);case"keypress":return e.which!==32?null:(rm=!0,nm);case"textInput":return t=e.data,t===nm&&rm?null:t;default:return null}}function rS(t,e){if(Ii)return t==="compositionend"||!Gd&&cv(t,e)?(t=lv(),Ua=qd=Gn=null,Ii=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uv&&e.locale!=="ko"?null:e.data;default:return null}}var iS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function im(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!iS[t.type]:e==="textarea"}function dv(t,e,n,r){zy(r),e=hl(e,"onChange"),0<e.length&&(n=new Qd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qo=null,ds=null;function oS(t){Sv(t,0)}function Zl(t){var e=ki(t);if(Ly(e))return t}function sS(t,e){if(t==="change")return e}var fv=!1;if(Dn){var ac;if(Dn){var lc="oninput"in document;if(!lc){var om=document.createElement("div");om.setAttribute("oninput","return;"),lc=typeof om.oninput=="function"}ac=lc}else ac=!1;fv=ac&&(!document.documentMode||9<document.documentMode)}function sm(){qo&&(qo.detachEvent("onpropertychange",pv),ds=qo=null)}function pv(t){if(t.propertyName==="value"&&Zl(ds)){var e=[];dv(e,ds,t,Bd(t)),Qy(oS,e)}}function aS(t,e,n){t==="focusin"?(sm(),qo=e,ds=n,qo.attachEvent("onpropertychange",pv)):t==="focusout"&&sm()}function lS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zl(ds)}function uS(t,e){if(t==="click")return Zl(e)}function cS(t,e){if(t==="input"||t==="change")return Zl(e)}function hS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var on=typeof Object.is=="function"?Object.is:hS;function fs(t,e){if(on(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Xc.call(e,i)||!on(t[i],e[i]))return!1}return!0}function am(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lm(t,e){var n=am(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=am(n)}}function mv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gv(){for(var t=window,e=il();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=il(t.document)}return e}function Yd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dS(t){var e=gv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&mv(n.ownerDocument.documentElement,n)){if(r!==null&&Yd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=lm(n,o);var s=lm(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fS=Dn&&"documentMode"in document&&11>=document.documentMode,Ci=null,gh=null,Qo=null,yh=!1;function um(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yh||Ci==null||Ci!==il(r)||(r=Ci,"selectionStart"in r&&Yd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qo&&fs(Qo,r)||(Qo=r,r=hl(gh,"onSelect"),0<r.length&&(e=new Qd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ci)))}function va(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ri={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionend:va("Transition","TransitionEnd")},uc={},yv={};Dn&&(yv=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function eu(t){if(uc[t])return uc[t];if(!Ri[t])return t;var e=Ri[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yv)return uc[t]=e[n];return t}var vv=eu("animationend"),_v=eu("animationiteration"),Ev=eu("animationstart"),wv=eu("transitionend"),Tv=new Map,cm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vr(t,e){Tv.set(t,e),oi(e,[t])}for(var cc=0;cc<cm.length;cc++){var hc=cm[cc],pS=hc.toLowerCase(),mS=hc[0].toUpperCase()+hc.slice(1);vr(pS,"on"+mS)}vr(vv,"onAnimationEnd");vr(_v,"onAnimationIteration");vr(Ev,"onAnimationStart");vr("dblclick","onDoubleClick");vr("focusin","onFocus");vr("focusout","onBlur");vr(wv,"onTransitionEnd");qi("onMouseEnter",["mouseout","mouseover"]);qi("onMouseLeave",["mouseout","mouseover"]);qi("onPointerEnter",["pointerout","pointerover"]);qi("onPointerLeave",["pointerout","pointerover"]);oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mo));function hm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,pT(r,e,void 0,t),t.currentTarget=null}function Sv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;hm(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;hm(i,a,u),o=l}}}if(sl)throw t=dh,sl=!1,dh=null,t}function he(t,e){var n=e[Th];n===void 0&&(n=e[Th]=new Set);var r=t+"__bubble";n.has(r)||(Iv(e,t,2,!1),n.add(r))}function dc(t,e,n){var r=0;e&&(r|=4),Iv(n,t,r,e)}var _a="_reactListening"+Math.random().toString(36).slice(2);function ps(t){if(!t[_a]){t[_a]=!0,Dy.forEach(function(n){n!=="selectionchange"&&(gS.has(n)||dc(n,!1,t),dc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_a]||(e[_a]=!0,dc("selectionchange",!1,e))}}function Iv(t,e,n,r){switch(av(e)){case 1:var i=PT;break;case 4:i=DT;break;default:i=Wd}n=i.bind(null,e,n,t),i=void 0,!hh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function fc(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=$r(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}Qy(function(){var u=o,c=Bd(n),h=[];e:{var d=Tv.get(t);if(d!==void 0){var f=Qd,_=t;switch(t){case"keypress":if(za(n)===0)break e;case"keydown":case"keyup":f=qT;break;case"focusin":_="focus",f=sc;break;case"focusout":_="blur",f=sc;break;case"beforeblur":case"afterblur":f=sc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Zp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=VT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=GT;break;case vv:case _v:case Ev:f=$T;break;case wv:f=XT;break;case"scroll":f=NT;break;case"wheel":f=ZT;break;case"copy":case"cut":case"paste":f=jT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=tm}var E=(e&4)!==0,T=!E&&t==="scroll",m=E?d!==null?d+"Capture":null:d;E=[];for(var p=u,y;p!==null;){y=p;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,m!==null&&(w=ls(p,m),w!=null&&E.push(ms(p,w,y)))),T)break;p=p.return}0<E.length&&(d=new f(d,_,null,n,c),h.push({event:d,listeners:E}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==uh&&(_=n.relatedTarget||n.fromElement)&&($r(_)||_[Nn]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(_=n.relatedTarget||n.toElement,f=u,_=_?$r(_):null,_!==null&&(T=si(_),_!==T||_.tag!==5&&_.tag!==6)&&(_=null)):(f=null,_=u),f!==_)){if(E=Zp,w="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(E=tm,w="onPointerLeave",m="onPointerEnter",p="pointer"),T=f==null?d:ki(f),y=_==null?d:ki(_),d=new E(w,p+"leave",f,n,c),d.target=T,d.relatedTarget=y,w=null,$r(c)===u&&(E=new E(m,p+"enter",_,n,c),E.target=y,E.relatedTarget=T,w=E),T=w,f&&_)t:{for(E=f,m=_,p=0,y=E;y;y=pi(y))p++;for(y=0,w=m;w;w=pi(w))y++;for(;0<p-y;)E=pi(E),p--;for(;0<y-p;)m=pi(m),y--;for(;p--;){if(E===m||m!==null&&E===m.alternate)break t;E=pi(E),m=pi(m)}E=null}else E=null;f!==null&&dm(h,d,f,E,!1),_!==null&&T!==null&&dm(h,T,_,E,!0)}}e:{if(d=u?ki(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var I=sS;else if(im(d))if(fv)I=cS;else{I=lS;var x=aS}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(I=uS);if(I&&(I=I(t,u))){dv(h,I,n,c);break e}x&&x(t,d,u),t==="focusout"&&(x=d._wrapperState)&&x.controlled&&d.type==="number"&&ih(d,"number",d.value)}switch(x=u?ki(u):window,t){case"focusin":(im(x)||x.contentEditable==="true")&&(Ci=x,gh=u,Qo=null);break;case"focusout":Qo=gh=Ci=null;break;case"mousedown":yh=!0;break;case"contextmenu":case"mouseup":case"dragend":yh=!1,um(h,n,c);break;case"selectionchange":if(fS)break;case"keydown":case"keyup":um(h,n,c)}var P;if(Gd)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Ii?cv(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(uv&&n.locale!=="ko"&&(Ii||D!=="onCompositionStart"?D==="onCompositionEnd"&&Ii&&(P=lv()):(Gn=c,qd="value"in Gn?Gn.value:Gn.textContent,Ii=!0)),x=hl(u,D),0<x.length&&(D=new em(D,t,null,n,c),h.push({event:D,listeners:x}),P?D.data=P:(P=hv(n),P!==null&&(D.data=P)))),(P=tS?nS(t,n):rS(t,n))&&(u=hl(u,"onBeforeInput"),0<u.length&&(c=new em("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=P))}Sv(h,e)})}function ms(t,e,n){return{instance:t,listener:e,currentTarget:n}}function hl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ls(t,n),o!=null&&r.unshift(ms(t,o,i)),o=ls(t,e),o!=null&&r.push(ms(t,o,i))),t=t.return}return r}function pi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dm(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ls(n,o),l!=null&&s.unshift(ms(n,l,a))):i||(l=ls(n,o),l!=null&&s.push(ms(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var yS=/\r\n?/g,vS=/\u0000|\uFFFD/g;function fm(t){return(typeof t=="string"?t:""+t).replace(yS,`
`).replace(vS,"")}function Ea(t,e,n){if(e=fm(e),fm(t)!==e&&n)throw Error(A(425))}function dl(){}var vh=null,_h=null;function Eh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wh=typeof setTimeout=="function"?setTimeout:void 0,_S=typeof clearTimeout=="function"?clearTimeout:void 0,pm=typeof Promise=="function"?Promise:void 0,ES=typeof queueMicrotask=="function"?queueMicrotask:typeof pm<"u"?function(t){return pm.resolve(null).then(t).catch(wS)}:wh;function wS(t){setTimeout(function(){throw t})}function pc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),hs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);hs(e)}function nr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var co=Math.random().toString(36).slice(2),hn="__reactFiber$"+co,gs="__reactProps$"+co,Nn="__reactContainer$"+co,Th="__reactEvents$"+co,TS="__reactListeners$"+co,SS="__reactHandles$"+co;function $r(t){var e=t[hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nn]||n[hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=mm(t);t!==null;){if(n=t[hn])return n;t=mm(t)}return e}t=n,n=t.parentNode}return null}function zs(t){return t=t[hn]||t[Nn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ki(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(A(33))}function tu(t){return t[gs]||null}var Sh=[],Ai=-1;function _r(t){return{current:t}}function pe(t){0>Ai||(t.current=Sh[Ai],Sh[Ai]=null,Ai--)}function ce(t,e){Ai++,Sh[Ai]=t.current,t.current=e}var fr={},lt=_r(fr),kt=_r(!1),Gr=fr;function Qi(t,e){var n=t.type.contextTypes;if(!n)return fr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function At(t){return t=t.childContextTypes,t!=null}function fl(){pe(kt),pe(lt)}function gm(t,e,n){if(lt.current!==fr)throw Error(A(168));ce(lt,e),ce(kt,n)}function Cv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(A(108,aT(t)||"Unknown",i));return Ee({},n,r)}function pl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fr,Gr=lt.current,ce(lt,t),ce(kt,kt.current),!0}function ym(t,e,n){var r=t.stateNode;if(!r)throw Error(A(169));n?(t=Cv(t,e,Gr),r.__reactInternalMemoizedMergedChildContext=t,pe(kt),pe(lt),ce(lt,t)):pe(kt),ce(kt,n)}var Cn=null,nu=!1,mc=!1;function Rv(t){Cn===null?Cn=[t]:Cn.push(t)}function IS(t){nu=!0,Rv(t)}function Er(){if(!mc&&Cn!==null){mc=!0;var t=0,e=ie;try{var n=Cn;for(ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Cn=null,nu=!1}catch(i){throw Cn!==null&&(Cn=Cn.slice(t+1)),Xy(Ud,Er),i}finally{ie=e,mc=!1}}return null}var xi=[],Pi=0,ml=null,gl=0,Bt=[],Ut=0,Yr=null,Rn=1,kn="";function Dr(t,e){xi[Pi++]=gl,xi[Pi++]=ml,ml=t,gl=e}function kv(t,e,n){Bt[Ut++]=Rn,Bt[Ut++]=kn,Bt[Ut++]=Yr,Yr=t;var r=Rn;t=kn;var i=32-tn(r)-1;r&=~(1<<i),n+=1;var o=32-tn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Rn=1<<32-tn(e)+i|n<<i|r,kn=o+t}else Rn=1<<o|n<<i|r,kn=t}function Xd(t){t.return!==null&&(Dr(t,1),kv(t,1,0))}function Jd(t){for(;t===ml;)ml=xi[--Pi],xi[Pi]=null,gl=xi[--Pi],xi[Pi]=null;for(;t===Yr;)Yr=Bt[--Ut],Bt[Ut]=null,kn=Bt[--Ut],Bt[Ut]=null,Rn=Bt[--Ut],Bt[Ut]=null}var Vt=null,Nt=null,ge=!1,en=null;function Av(t,e){var n=Ht(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vt=t,Nt=nr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vt=t,Nt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yr!==null?{id:Rn,overflow:kn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ht(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vt=t,Nt=null,!0):!1;default:return!1}}function Ih(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ch(t){if(ge){var e=Nt;if(e){var n=e;if(!vm(t,e)){if(Ih(t))throw Error(A(418));e=nr(n.nextSibling);var r=Vt;e&&vm(t,e)?Av(r,n):(t.flags=t.flags&-4097|2,ge=!1,Vt=t)}}else{if(Ih(t))throw Error(A(418));t.flags=t.flags&-4097|2,ge=!1,Vt=t}}}function _m(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vt=t}function wa(t){if(t!==Vt)return!1;if(!ge)return _m(t),ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Eh(t.type,t.memoizedProps)),e&&(e=Nt)){if(Ih(t))throw xv(),Error(A(418));for(;e;)Av(t,e),e=nr(e.nextSibling)}if(_m(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nt=nr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nt=null}}else Nt=Vt?nr(t.stateNode.nextSibling):null;return!0}function xv(){for(var t=Nt;t;)t=nr(t.nextSibling)}function Ki(){Nt=Vt=null,ge=!1}function Zd(t){en===null?en=[t]:en.push(t)}var CS=jn.ReactCurrentBatchConfig;function Jt(t,e){if(t&&t.defaultProps){e=Ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var yl=_r(null),vl=null,Di=null,ef=null;function tf(){ef=Di=vl=null}function nf(t){var e=yl.current;pe(yl),t._currentValue=e}function Rh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bi(t,e){vl=t,ef=Di=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ct=!0),t.firstContext=null)}function qt(t){var e=t._currentValue;if(ef!==t)if(t={context:t,memoizedValue:e,next:null},Di===null){if(vl===null)throw Error(A(308));Di=t,vl.dependencies={lanes:0,firstContext:t}}else Di=Di.next=t;return e}var Fr=null;function rf(t){Fr===null?Fr=[t]:Fr.push(t)}function Pv(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,rf(e)):(n.next=i.next,i.next=n),e.interleaved=n,On(t,r)}function On(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wn=!1;function of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,On(t,n)}return i=r.interleaved,i===null?(e.next=e,rf(r)):(e.next=i.next,i.next=e),r.interleaved=e,On(t,n)}function Ha(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zd(t,n)}}function Em(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function _l(t,e,n,r){var i=t.updateQueue;Wn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,E=a;switch(d=e,f=n,E.tag){case 1:if(_=E.payload,typeof _=="function"){h=_.call(f,h,d);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=E.payload,d=typeof _=="function"?_.call(f,h,d):_,d==null)break e;h=Ee({},h,d);break e;case 2:Wn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Jr|=s,t.lanes=s,t.memoizedState=h}}function wm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(A(191,i));i.call(r)}}}var Nv=new Py.Component().refs;function kh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ru={isMounted:function(t){return(t=t._reactInternals)?si(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vt(),i=or(t),o=Pn(r,i);o.payload=e,n!=null&&(o.callback=n),e=rr(t,o,i),e!==null&&(nn(e,t,i,r),Ha(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vt(),i=or(t),o=Pn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=rr(t,o,i),e!==null&&(nn(e,t,i,r),Ha(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vt(),r=or(t),i=Pn(n,r);i.tag=2,e!=null&&(i.callback=e),e=rr(t,i,r),e!==null&&(nn(e,t,r,n),Ha(e,t,r))}};function Tm(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!fs(n,r)||!fs(i,o):!0}function Ov(t,e,n){var r=!1,i=fr,o=e.contextType;return typeof o=="object"&&o!==null?o=qt(o):(i=At(e)?Gr:lt.current,r=e.contextTypes,o=(r=r!=null)?Qi(t,i):fr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ru,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Sm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ru.enqueueReplaceState(e,e.state,null)}function Ah(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Nv,of(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=qt(o):(o=At(e)?Gr:lt.current,i.context=Qi(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(kh(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ru.enqueueReplaceState(i,i.state,null),_l(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Co(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===Nv&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,t))}return t}function Ta(t,e){throw t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Im(t){var e=t._init;return e(t._payload)}function Vv(t){function e(m,p){if(t){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=sr(m,p),m.index=0,m.sibling=null,m}function o(m,p,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,y,w){return p===null||p.tag!==6?(p=Tc(y,m.mode,w),p.return=m,p):(p=i(p,y),p.return=m,p)}function l(m,p,y,w){var I=y.type;return I===Si?c(m,p,y.props.children,w,y.key):p!==null&&(p.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Hn&&Im(I)===p.type)?(w=i(p,y.props),w.ref=Co(m,p,y),w.return=m,w):(w=Ya(y.type,y.key,y.props,null,m.mode,w),w.ref=Co(m,p,y),w.return=m,w)}function u(m,p,y,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Sc(y,m.mode,w),p.return=m,p):(p=i(p,y.children||[]),p.return=m,p)}function c(m,p,y,w,I){return p===null||p.tag!==7?(p=Wr(y,m.mode,w,I),p.return=m,p):(p=i(p,y),p.return=m,p)}function h(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Tc(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ha:return y=Ya(p.type,p.key,p.props,null,m.mode,y),y.ref=Co(m,null,p),y.return=m,y;case Ti:return p=Sc(p,m.mode,y),p.return=m,p;case Hn:var w=p._init;return h(m,w(p._payload),y)}if(Oo(p)||Eo(p))return p=Wr(p,m.mode,y,null),p.return=m,p;Ta(m,p)}return null}function d(m,p,y,w){var I=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return I!==null?null:a(m,p,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ha:return y.key===I?l(m,p,y,w):null;case Ti:return y.key===I?u(m,p,y,w):null;case Hn:return I=y._init,d(m,p,I(y._payload),w)}if(Oo(y)||Eo(y))return I!==null?null:c(m,p,y,w,null);Ta(m,y)}return null}function f(m,p,y,w,I){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(y)||null,a(p,m,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ha:return m=m.get(w.key===null?y:w.key)||null,l(p,m,w,I);case Ti:return m=m.get(w.key===null?y:w.key)||null,u(p,m,w,I);case Hn:var x=w._init;return f(m,p,y,x(w._payload),I)}if(Oo(w)||Eo(w))return m=m.get(y)||null,c(p,m,w,I,null);Ta(p,w)}return null}function _(m,p,y,w){for(var I=null,x=null,P=p,D=p=0,W=null;P!==null&&D<y.length;D++){P.index>D?(W=P,P=null):W=P.sibling;var L=d(m,P,y[D],w);if(L===null){P===null&&(P=W);break}t&&P&&L.alternate===null&&e(m,P),p=o(L,p,D),x===null?I=L:x.sibling=L,x=L,P=W}if(D===y.length)return n(m,P),ge&&Dr(m,D),I;if(P===null){for(;D<y.length;D++)P=h(m,y[D],w),P!==null&&(p=o(P,p,D),x===null?I=P:x.sibling=P,x=P);return ge&&Dr(m,D),I}for(P=r(m,P);D<y.length;D++)W=f(P,m,D,y[D],w),W!==null&&(t&&W.alternate!==null&&P.delete(W.key===null?D:W.key),p=o(W,p,D),x===null?I=W:x.sibling=W,x=W);return t&&P.forEach(function(se){return e(m,se)}),ge&&Dr(m,D),I}function E(m,p,y,w){var I=Eo(y);if(typeof I!="function")throw Error(A(150));if(y=I.call(y),y==null)throw Error(A(151));for(var x=I=null,P=p,D=p=0,W=null,L=y.next();P!==null&&!L.done;D++,L=y.next()){P.index>D?(W=P,P=null):W=P.sibling;var se=d(m,P,L.value,w);if(se===null){P===null&&(P=W);break}t&&P&&se.alternate===null&&e(m,P),p=o(se,p,D),x===null?I=se:x.sibling=se,x=se,P=W}if(L.done)return n(m,P),ge&&Dr(m,D),I;if(P===null){for(;!L.done;D++,L=y.next())L=h(m,L.value,w),L!==null&&(p=o(L,p,D),x===null?I=L:x.sibling=L,x=L);return ge&&Dr(m,D),I}for(P=r(m,P);!L.done;D++,L=y.next())L=f(P,m,D,L.value,w),L!==null&&(t&&L.alternate!==null&&P.delete(L.key===null?D:L.key),p=o(L,p,D),x===null?I=L:x.sibling=L,x=L);return t&&P.forEach(function(le){return e(m,le)}),ge&&Dr(m,D),I}function T(m,p,y,w){if(typeof y=="object"&&y!==null&&y.type===Si&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ha:e:{for(var I=y.key,x=p;x!==null;){if(x.key===I){if(I=y.type,I===Si){if(x.tag===7){n(m,x.sibling),p=i(x,y.props.children),p.return=m,m=p;break e}}else if(x.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Hn&&Im(I)===x.type){n(m,x.sibling),p=i(x,y.props),p.ref=Co(m,x,y),p.return=m,m=p;break e}n(m,x);break}else e(m,x);x=x.sibling}y.type===Si?(p=Wr(y.props.children,m.mode,w,y.key),p.return=m,m=p):(w=Ya(y.type,y.key,y.props,null,m.mode,w),w.ref=Co(m,p,y),w.return=m,m=w)}return s(m);case Ti:e:{for(x=y.key;p!==null;){if(p.key===x)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(m,p.sibling),p=i(p,y.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=Sc(y,m.mode,w),p.return=m,m=p}return s(m);case Hn:return x=y._init,T(m,p,x(y._payload),w)}if(Oo(y))return _(m,p,y,w);if(Eo(y))return E(m,p,y,w);Ta(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,y),p.return=m,m=p):(n(m,p),p=Tc(y,m.mode,w),p.return=m,m=p),s(m)):n(m,p)}return T}var Gi=Vv(!0),Mv=Vv(!1),Hs={},yn=_r(Hs),ys=_r(Hs),vs=_r(Hs);function jr(t){if(t===Hs)throw Error(A(174));return t}function sf(t,e){switch(ce(vs,e),ce(ys,t),ce(yn,Hs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:sh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=sh(e,t)}pe(yn),ce(yn,e)}function Yi(){pe(yn),pe(ys),pe(vs)}function Lv(t){jr(vs.current);var e=jr(yn.current),n=sh(e,t.type);e!==n&&(ce(ys,t),ce(yn,n))}function af(t){ys.current===t&&(pe(yn),pe(ys))}var ve=_r(0);function El(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gc=[];function lf(){for(var t=0;t<gc.length;t++)gc[t]._workInProgressVersionPrimary=null;gc.length=0}var Wa=jn.ReactCurrentDispatcher,yc=jn.ReactCurrentBatchConfig,Xr=0,_e=null,Ve=null,je=null,wl=!1,Ko=!1,_s=0,RS=0;function et(){throw Error(A(321))}function uf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!on(t[n],e[n]))return!1;return!0}function cf(t,e,n,r,i,o){if(Xr=o,_e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wa.current=t===null||t.memoizedState===null?PS:DS,t=n(r,i),Ko){o=0;do{if(Ko=!1,_s=0,25<=o)throw Error(A(301));o+=1,je=Ve=null,e.updateQueue=null,Wa.current=NS,t=n(r,i)}while(Ko)}if(Wa.current=Tl,e=Ve!==null&&Ve.next!==null,Xr=0,je=Ve=_e=null,wl=!1,e)throw Error(A(300));return t}function hf(){var t=_s!==0;return _s=0,t}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?_e.memoizedState=je=t:je=je.next=t,je}function Qt(){if(Ve===null){var t=_e.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var e=je===null?_e.memoizedState:je.next;if(e!==null)je=e,Ve=t;else{if(t===null)throw Error(A(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},je===null?_e.memoizedState=je=t:je=je.next=t}return je}function Es(t,e){return typeof e=="function"?e(t):e}function vc(t){var e=Qt(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=Ve,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Xr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,_e.lanes|=c,Jr|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,on(r,e.memoizedState)||(Ct=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,_e.lanes|=o,Jr|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _c(t){var e=Qt(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);on(o,e.memoizedState)||(Ct=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function $v(){}function Fv(t,e){var n=_e,r=Qt(),i=e(),o=!on(r.memoizedState,i);if(o&&(r.memoizedState=i,Ct=!0),r=r.queue,df(Bv.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,ws(9,bv.bind(null,n,r,i,e),void 0,null),be===null)throw Error(A(349));Xr&30||jv(n,e,i)}return i}function jv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function bv(t,e,n,r){e.value=n,e.getSnapshot=r,Uv(e)&&zv(t)}function Bv(t,e,n){return n(function(){Uv(e)&&zv(t)})}function Uv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!on(t,n)}catch{return!0}}function zv(t){var e=On(t,1);e!==null&&nn(e,t,1,-1)}function Cm(t){var e=cn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:t},e.queue=t,t=t.dispatch=xS.bind(null,_e,t),[e.memoizedState,t]}function ws(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=_e.updateQueue,e===null?(e={lastEffect:null,stores:null},_e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Hv(){return Qt().memoizedState}function qa(t,e,n,r){var i=cn();_e.flags|=t,i.memoizedState=ws(1|e,n,void 0,r===void 0?null:r)}function iu(t,e,n,r){var i=Qt();r=r===void 0?null:r;var o=void 0;if(Ve!==null){var s=Ve.memoizedState;if(o=s.destroy,r!==null&&uf(r,s.deps)){i.memoizedState=ws(e,n,o,r);return}}_e.flags|=t,i.memoizedState=ws(1|e,n,o,r)}function Rm(t,e){return qa(8390656,8,t,e)}function df(t,e){return iu(2048,8,t,e)}function Wv(t,e){return iu(4,2,t,e)}function qv(t,e){return iu(4,4,t,e)}function Qv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Kv(t,e,n){return n=n!=null?n.concat([t]):null,iu(4,4,Qv.bind(null,e,t),n)}function ff(){}function Gv(t,e){var n=Qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Yv(t,e){var n=Qt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Xv(t,e,n){return Xr&21?(on(n,e)||(n=ev(),_e.lanes|=n,Jr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ct=!0),t.memoizedState=n)}function kS(t,e){var n=ie;ie=n!==0&&4>n?n:4,t(!0);var r=yc.transition;yc.transition={};try{t(!1),e()}finally{ie=n,yc.transition=r}}function Jv(){return Qt().memoizedState}function AS(t,e,n){var r=or(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zv(t))e_(e,n);else if(n=Pv(t,e,n,r),n!==null){var i=vt();nn(n,t,r,i),t_(n,e,r)}}function xS(t,e,n){var r=or(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zv(t))e_(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,on(a,s)){var l=e.interleaved;l===null?(i.next=i,rf(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Pv(t,e,i,r),n!==null&&(i=vt(),nn(n,t,r,i),t_(n,e,r))}}function Zv(t){var e=t.alternate;return t===_e||e!==null&&e===_e}function e_(t,e){Ko=wl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function t_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zd(t,n)}}var Tl={readContext:qt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},PS={readContext:qt,useCallback:function(t,e){return cn().memoizedState=[t,e===void 0?null:e],t},useContext:qt,useEffect:Rm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qa(4194308,4,Qv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qa(4194308,4,t,e)},useInsertionEffect:function(t,e){return qa(4,2,t,e)},useMemo:function(t,e){var n=cn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=cn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=AS.bind(null,_e,t),[r.memoizedState,t]},useRef:function(t){var e=cn();return t={current:t},e.memoizedState=t},useState:Cm,useDebugValue:ff,useDeferredValue:function(t){return cn().memoizedState=t},useTransition:function(){var t=Cm(!1),e=t[0];return t=kS.bind(null,t[1]),cn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=_e,i=cn();if(ge){if(n===void 0)throw Error(A(407));n=n()}else{if(n=e(),be===null)throw Error(A(349));Xr&30||jv(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Rm(Bv.bind(null,r,o,t),[t]),r.flags|=2048,ws(9,bv.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=cn(),e=be.identifierPrefix;if(ge){var n=kn,r=Rn;n=(r&~(1<<32-tn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_s++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=RS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},DS={readContext:qt,useCallback:Gv,useContext:qt,useEffect:df,useImperativeHandle:Kv,useInsertionEffect:Wv,useLayoutEffect:qv,useMemo:Yv,useReducer:vc,useRef:Hv,useState:function(){return vc(Es)},useDebugValue:ff,useDeferredValue:function(t){var e=Qt();return Xv(e,Ve.memoizedState,t)},useTransition:function(){var t=vc(Es)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:$v,useSyncExternalStore:Fv,useId:Jv,unstable_isNewReconciler:!1},NS={readContext:qt,useCallback:Gv,useContext:qt,useEffect:df,useImperativeHandle:Kv,useInsertionEffect:Wv,useLayoutEffect:qv,useMemo:Yv,useReducer:_c,useRef:Hv,useState:function(){return _c(Es)},useDebugValue:ff,useDeferredValue:function(t){var e=Qt();return Ve===null?e.memoizedState=t:Xv(e,Ve.memoizedState,t)},useTransition:function(){var t=_c(Es)[0],e=Qt().memoizedState;return[t,e]},useMutableSource:$v,useSyncExternalStore:Fv,useId:Jv,unstable_isNewReconciler:!1};function Xi(t,e){try{var n="",r=e;do n+=sT(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ec(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var OS=typeof WeakMap=="function"?WeakMap:Map;function n_(t,e,n){n=Pn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Il||(Il=!0,jh=r),xh(t,e)},n}function r_(t,e,n){n=Pn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){xh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){xh(t,e),typeof r!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function km(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new OS;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=QS.bind(null,t,e,n),e.then(t,t))}function Am(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xm(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pn(-1,1),e.tag=2,rr(n,e,1))),n.lanes|=1),t)}var VS=jn.ReactCurrentOwner,Ct=!1;function mt(t,e,n,r){e.child=t===null?Mv(e,null,n,r):Gi(e,t.child,n,r)}function Pm(t,e,n,r,i){n=n.render;var o=e.ref;return bi(e,i),r=cf(t,e,n,r,o,i),n=hf(),t!==null&&!Ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vn(t,e,i)):(ge&&n&&Xd(e),e.flags|=1,mt(t,e,r,i),e.child)}function Dm(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!wf(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,i_(t,e,o,r,i)):(t=Ya(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:fs,n(s,r)&&t.ref===e.ref)return Vn(t,e,i)}return e.flags|=1,t=sr(o,r),t.ref=e.ref,t.return=e,e.child=t}function i_(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(fs(o,r)&&t.ref===e.ref)if(Ct=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Ct=!0);else return e.lanes=t.lanes,Vn(t,e,i)}return Ph(t,e,n,r,i)}function o_(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Oi,Dt),Dt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ce(Oi,Dt),Dt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ce(Oi,Dt),Dt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ce(Oi,Dt),Dt|=r;return mt(t,e,i,n),e.child}function s_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ph(t,e,n,r,i){var o=At(n)?Gr:lt.current;return o=Qi(e,o),bi(e,i),n=cf(t,e,n,r,o,i),r=hf(),t!==null&&!Ct?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vn(t,e,i)):(ge&&r&&Xd(e),e.flags|=1,mt(t,e,n,i),e.child)}function Nm(t,e,n,r,i){if(At(n)){var o=!0;pl(e)}else o=!1;if(bi(e,i),e.stateNode===null)Qa(t,e),Ov(e,n,r),Ah(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=qt(u):(u=At(n)?Gr:lt.current,u=Qi(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Sm(e,s,r,u),Wn=!1;var d=e.memoizedState;s.state=d,_l(e,r,s,i),l=e.memoizedState,a!==r||d!==l||kt.current||Wn?(typeof c=="function"&&(kh(e,n,c,r),l=e.memoizedState),(a=Wn||Tm(e,n,a,r,d,l,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Dv(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Jt(e.type,a),s.props=u,h=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=qt(l):(l=At(n)?Gr:lt.current,l=Qi(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Sm(e,s,r,l),Wn=!1,d=e.memoizedState,s.state=d,_l(e,r,s,i);var _=e.memoizedState;a!==h||d!==_||kt.current||Wn?(typeof f=="function"&&(kh(e,n,f,r),_=e.memoizedState),(u=Wn||Tm(e,n,u,r,d,_,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,_,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,_,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),s.props=r,s.state=_,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Dh(t,e,n,r,o,i)}function Dh(t,e,n,r,i,o){s_(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&ym(e,n,!1),Vn(t,e,o);r=e.stateNode,VS.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Gi(e,t.child,null,o),e.child=Gi(e,null,a,o)):mt(t,e,a,o),e.memoizedState=r.state,i&&ym(e,n,!0),e.child}function a_(t){var e=t.stateNode;e.pendingContext?gm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gm(t,e.context,!1),sf(t,e.containerInfo)}function Om(t,e,n,r,i){return Ki(),Zd(i),e.flags|=256,mt(t,e,n,r),e.child}var Nh={dehydrated:null,treeContext:null,retryLane:0};function Oh(t){return{baseLanes:t,cachePool:null,transitions:null}}function l_(t,e,n){var r=e.pendingProps,i=ve.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ce(ve,i&1),t===null)return Ch(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=au(s,r,0,null),t=Wr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Oh(n),e.memoizedState=Nh,t):pf(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return MS(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=sr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=sr(a,o):(o=Wr(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Oh(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Nh,r}return o=t.child,t=o.sibling,r=sr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function pf(t,e){return e=au({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Sa(t,e,n,r){return r!==null&&Zd(r),Gi(e,t.child,null,n),t=pf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function MS(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Ec(Error(A(422))),Sa(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=au({mode:"visible",children:r.children},i,0,null),o=Wr(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Gi(e,t.child,null,s),e.child.memoizedState=Oh(s),e.memoizedState=Nh,o);if(!(e.mode&1))return Sa(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(A(419)),r=Ec(o,r,void 0),Sa(t,e,s,r)}if(a=(s&t.childLanes)!==0,Ct||a){if(r=be,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,On(t,i),nn(r,t,i,-1))}return Ef(),r=Ec(Error(A(421))),Sa(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=KS.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Nt=nr(i.nextSibling),Vt=e,ge=!0,en=null,t!==null&&(Bt[Ut++]=Rn,Bt[Ut++]=kn,Bt[Ut++]=Yr,Rn=t.id,kn=t.overflow,Yr=e),e=pf(e,r.children),e.flags|=4096,e)}function Vm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Rh(t.return,e,n)}function wc(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function u_(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(mt(t,e,r.children,n),r=ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Vm(t,n,e);else if(t.tag===19)Vm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ce(ve,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&El(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),wc(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&El(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}wc(e,!0,n,null,o);break;case"together":wc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Jr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,n=sr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=sr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function LS(t,e,n){switch(e.tag){case 3:a_(e),Ki();break;case 5:Lv(e);break;case 1:At(e.type)&&pl(e);break;case 4:sf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ce(yl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ce(ve,ve.current&1),e.flags|=128,null):n&e.child.childLanes?l_(t,e,n):(ce(ve,ve.current&1),t=Vn(t,e,n),t!==null?t.sibling:null);ce(ve,ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return u_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ce(ve,ve.current),r)break;return null;case 22:case 23:return e.lanes=0,o_(t,e,n)}return Vn(t,e,n)}var c_,Vh,h_,d_;c_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vh=function(){};h_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,jr(yn.current);var o=null;switch(n){case"input":i=nh(t,i),r=nh(t,r),o=[];break;case"select":i=Ee({},i,{value:void 0}),r=Ee({},r,{value:void 0}),o=[];break;case"textarea":i=oh(t,i),r=oh(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=dl)}ah(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ss.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ss.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&he("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};d_=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ro(t,e){if(!ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $S(t,e,n){var r=e.pendingProps;switch(Jd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(e),null;case 1:return At(e.type)&&fl(),tt(e),null;case 3:return r=e.stateNode,Yi(),pe(kt),pe(lt),lf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,en!==null&&(Uh(en),en=null))),Vh(t,e),tt(e),null;case 5:af(e);var i=jr(vs.current);if(n=e.type,t!==null&&e.stateNode!=null)h_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(A(166));return tt(e),null}if(t=jr(yn.current),wa(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[hn]=e,r[gs]=o,t=(e.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(i=0;i<Mo.length;i++)he(Mo[i],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":zp(r,o),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},he("invalid",r);break;case"textarea":Wp(r,o),he("invalid",r)}ah(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ea(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ea(r.textContent,a,t),i=["children",""+a]):ss.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&he("scroll",r)}switch(n){case"input":da(r),Hp(r,o,!0);break;case"textarea":da(r),qp(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=dl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[hn]=e,t[gs]=r,c_(t,e,!1,!1),e.stateNode=t;e:{switch(s=lh(n,r),n){case"dialog":he("cancel",t),he("close",t),i=r;break;case"iframe":case"object":case"embed":he("load",t),i=r;break;case"video":case"audio":for(i=0;i<Mo.length;i++)he(Mo[i],t);i=r;break;case"source":he("error",t),i=r;break;case"img":case"image":case"link":he("error",t),he("load",t),i=r;break;case"details":he("toggle",t),i=r;break;case"input":zp(t,r),i=nh(t,r),he("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ee({},r,{value:void 0}),he("invalid",t);break;case"textarea":Wp(t,r),i=oh(t,r),he("invalid",t);break;default:i=r}ah(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Uy(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&by(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&as(t,l):typeof l=="number"&&as(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ss.hasOwnProperty(o)?l!=null&&o==="onScroll"&&he("scroll",t):l!=null&&$d(t,o,l,s))}switch(n){case"input":da(t),Hp(t,r,!1);break;case"textarea":da(t),qp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+dr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Li(t,!!r.multiple,o,!1):r.defaultValue!=null&&Li(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=dl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tt(e),null;case 6:if(t&&e.stateNode!=null)d_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(A(166));if(n=jr(vs.current),jr(yn.current),wa(e)){if(r=e.stateNode,n=e.memoizedProps,r[hn]=e,(o=r.nodeValue!==n)&&(t=Vt,t!==null))switch(t.tag){case 3:Ea(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ea(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hn]=e,e.stateNode=r}return tt(e),null;case 13:if(pe(ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ge&&Nt!==null&&e.mode&1&&!(e.flags&128))xv(),Ki(),e.flags|=98560,o=!1;else if(o=wa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(A(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(A(317));o[hn]=e}else Ki(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tt(e),o=!1}else en!==null&&(Uh(en),en=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ve.current&1?Me===0&&(Me=3):Ef())),e.updateQueue!==null&&(e.flags|=4),tt(e),null);case 4:return Yi(),Vh(t,e),t===null&&ps(e.stateNode.containerInfo),tt(e),null;case 10:return nf(e.type._context),tt(e),null;case 17:return At(e.type)&&fl(),tt(e),null;case 19:if(pe(ve),o=e.memoizedState,o===null)return tt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ro(o,!1);else{if(Me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=El(t),s!==null){for(e.flags|=128,Ro(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ce(ve,ve.current&1|2),e.child}t=t.sibling}o.tail!==null&&Re()>Ji&&(e.flags|=128,r=!0,Ro(o,!1),e.lanes=4194304)}else{if(!r)if(t=El(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ro(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ge)return tt(e),null}else 2*Re()-o.renderingStartTime>Ji&&n!==1073741824&&(e.flags|=128,r=!0,Ro(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Re(),e.sibling=null,n=ve.current,ce(ve,r?n&1|2:n&1),e):(tt(e),null);case 22:case 23:return _f(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Dt&1073741824&&(tt(e),e.subtreeFlags&6&&(e.flags|=8192)):tt(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}function FS(t,e){switch(Jd(e),e.tag){case 1:return At(e.type)&&fl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yi(),pe(kt),pe(lt),lf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return af(e),null;case 13:if(pe(ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));Ki()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pe(ve),null;case 4:return Yi(),null;case 10:return nf(e.type._context),null;case 22:case 23:return _f(),null;case 24:return null;default:return null}}var Ia=!1,it=!1,jS=typeof WeakSet=="function"?WeakSet:Set,O=null;function Ni(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ie(t,e,r)}else n.current=null}function Mh(t,e,n){try{n()}catch(r){Ie(t,e,r)}}var Mm=!1;function bS(t,e){if(vh=ul,t=gv(),Yd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_h={focusedElem:t,selectionRange:n},ul=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var E=_.memoizedProps,T=_.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?E:Jt(e.type,E),T);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(w){Ie(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return _=Mm,Mm=!1,_}function Go(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Mh(e,n,o)}i=i.next}while(i!==r)}}function ou(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function f_(t){var e=t.alternate;e!==null&&(t.alternate=null,f_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hn],delete e[gs],delete e[Th],delete e[TS],delete e[SS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function p_(t){return t.tag===5||t.tag===3||t.tag===4}function Lm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||p_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $h(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=dl));else if(r!==4&&(t=t.child,t!==null))for($h(t,e,n),t=t.sibling;t!==null;)$h(t,e,n),t=t.sibling}function Fh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fh(t,e,n),t=t.sibling;t!==null;)Fh(t,e,n),t=t.sibling}var He=null,Zt=!1;function zn(t,e,n){for(n=n.child;n!==null;)m_(t,e,n),n=n.sibling}function m_(t,e,n){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(Xl,n)}catch{}switch(n.tag){case 5:it||Ni(n,e);case 6:var r=He,i=Zt;He=null,zn(t,e,n),He=r,Zt=i,He!==null&&(Zt?(t=He,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):He.removeChild(n.stateNode));break;case 18:He!==null&&(Zt?(t=He,n=n.stateNode,t.nodeType===8?pc(t.parentNode,n):t.nodeType===1&&pc(t,n),hs(t)):pc(He,n.stateNode));break;case 4:r=He,i=Zt,He=n.stateNode.containerInfo,Zt=!0,zn(t,e,n),He=r,Zt=i;break;case 0:case 11:case 14:case 15:if(!it&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Mh(n,e,s),i=i.next}while(i!==r)}zn(t,e,n);break;case 1:if(!it&&(Ni(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ie(n,e,a)}zn(t,e,n);break;case 21:zn(t,e,n);break;case 22:n.mode&1?(it=(r=it)||n.memoizedState!==null,zn(t,e,n),it=r):zn(t,e,n);break;default:zn(t,e,n)}}function $m(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new jS),e.forEach(function(r){var i=GS.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:He=a.stateNode,Zt=!1;break e;case 3:He=a.stateNode.containerInfo,Zt=!0;break e;case 4:He=a.stateNode.containerInfo,Zt=!0;break e}a=a.return}if(He===null)throw Error(A(160));m_(o,s,i),He=null,Zt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ie(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)g_(e,t),e=e.sibling}function g_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xt(e,t),un(t),r&4){try{Go(3,t,t.return),ou(3,t)}catch(E){Ie(t,t.return,E)}try{Go(5,t,t.return)}catch(E){Ie(t,t.return,E)}}break;case 1:Xt(e,t),un(t),r&512&&n!==null&&Ni(n,n.return);break;case 5:if(Xt(e,t),un(t),r&512&&n!==null&&Ni(n,n.return),t.flags&32){var i=t.stateNode;try{as(i,"")}catch(E){Ie(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&$y(i,o),lh(a,s);var u=lh(a,o);for(s=0;s<l.length;s+=2){var c=l[s],h=l[s+1];c==="style"?Uy(i,h):c==="dangerouslySetInnerHTML"?by(i,h):c==="children"?as(i,h):$d(i,c,h,u)}switch(a){case"input":rh(i,o);break;case"textarea":Fy(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?Li(i,!!o.multiple,f,!1):d!==!!o.multiple&&(o.defaultValue!=null?Li(i,!!o.multiple,o.defaultValue,!0):Li(i,!!o.multiple,o.multiple?[]:"",!1))}i[gs]=o}catch(E){Ie(t,t.return,E)}}break;case 6:if(Xt(e,t),un(t),r&4){if(t.stateNode===null)throw Error(A(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(E){Ie(t,t.return,E)}}break;case 3:if(Xt(e,t),un(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{hs(e.containerInfo)}catch(E){Ie(t,t.return,E)}break;case 4:Xt(e,t),un(t);break;case 13:Xt(e,t),un(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(yf=Re())),r&4&&$m(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(it=(u=it)||c,Xt(e,t),it=u):Xt(e,t),un(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(O=t,c=t.child;c!==null;){for(h=O=c;O!==null;){switch(d=O,f=d.child,d.tag){case 0:case 11:case 14:case 15:Go(4,d,d.return);break;case 1:Ni(d,d.return);var _=d.stateNode;if(typeof _.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(E){Ie(r,n,E)}}break;case 5:Ni(d,d.return);break;case 22:if(d.memoizedState!==null){jm(h);continue}}f!==null?(f.return=d,O=f):jm(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=By("display",s))}catch(E){Ie(t,t.return,E)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(E){Ie(t,t.return,E)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xt(e,t),un(t),r&4&&$m(t);break;case 21:break;default:Xt(e,t),un(t)}}function un(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(p_(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(as(i,""),r.flags&=-33);var o=Lm(t);Fh(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Lm(t);$h(t,a,s);break;default:throw Error(A(161))}}catch(l){Ie(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function BS(t,e,n){O=t,y_(t)}function y_(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var i=O,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ia;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||it;a=Ia;var u=it;if(Ia=s,(it=l)&&!u)for(O=i;O!==null;)s=O,l=s.child,s.tag===22&&s.memoizedState!==null?bm(i):l!==null?(l.return=s,O=l):bm(i);for(;o!==null;)O=o,y_(o),o=o.sibling;O=i,Ia=a,it=u}Fm(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,O=o):Fm(t)}}function Fm(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:it||ou(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!it)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Jt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&wm(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}wm(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&hs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}it||e.flags&512&&Lh(e)}catch(d){Ie(e,e.return,d)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function jm(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function bm(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ou(4,e)}catch(l){Ie(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ie(e,i,l)}}var o=e.return;try{Lh(e)}catch(l){Ie(e,o,l)}break;case 5:var s=e.return;try{Lh(e)}catch(l){Ie(e,s,l)}}}catch(l){Ie(e,e.return,l)}if(e===t){O=null;break}var a=e.sibling;if(a!==null){a.return=e.return,O=a;break}O=e.return}}var US=Math.ceil,Sl=jn.ReactCurrentDispatcher,mf=jn.ReactCurrentOwner,Wt=jn.ReactCurrentBatchConfig,J=0,be=null,De=null,Ge=0,Dt=0,Oi=_r(0),Me=0,Ts=null,Jr=0,su=0,gf=0,Yo=null,St=null,yf=0,Ji=1/0,In=null,Il=!1,jh=null,ir=null,Ca=!1,Yn=null,Cl=0,Xo=0,bh=null,Ka=-1,Ga=0;function vt(){return J&6?Re():Ka!==-1?Ka:Ka=Re()}function or(t){return t.mode&1?J&2&&Ge!==0?Ge&-Ge:CS.transition!==null?(Ga===0&&(Ga=ev()),Ga):(t=ie,t!==0||(t=window.event,t=t===void 0?16:av(t.type)),t):1}function nn(t,e,n,r){if(50<Xo)throw Xo=0,bh=null,Error(A(185));Bs(t,n,r),(!(J&2)||t!==be)&&(t===be&&(!(J&2)&&(su|=n),Me===4&&Kn(t,Ge)),xt(t,r),n===1&&J===0&&!(e.mode&1)&&(Ji=Re()+500,nu&&Er()))}function xt(t,e){var n=t.callbackNode;CT(t,e);var r=ll(t,t===be?Ge:0);if(r===0)n!==null&&Gp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Gp(n),e===1)t.tag===0?IS(Bm.bind(null,t)):Rv(Bm.bind(null,t)),ES(function(){!(J&6)&&Er()}),n=null;else{switch(tv(r)){case 1:n=Ud;break;case 4:n=Jy;break;case 16:n=al;break;case 536870912:n=Zy;break;default:n=al}n=C_(n,v_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function v_(t,e){if(Ka=-1,Ga=0,J&6)throw Error(A(327));var n=t.callbackNode;if(Bi()&&t.callbackNode!==n)return null;var r=ll(t,t===be?Ge:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rl(t,r);else{e=r;var i=J;J|=2;var o=E_();(be!==t||Ge!==e)&&(In=null,Ji=Re()+500,Hr(t,e));do try{WS();break}catch(a){__(t,a)}while(!0);tf(),Sl.current=o,J=i,De!==null?e=0:(be=null,Ge=0,e=Me)}if(e!==0){if(e===2&&(i=fh(t),i!==0&&(r=i,e=Bh(t,i))),e===1)throw n=Ts,Hr(t,0),Kn(t,r),xt(t,Re()),n;if(e===6)Kn(t,r);else{if(i=t.current.alternate,!(r&30)&&!zS(i)&&(e=Rl(t,r),e===2&&(o=fh(t),o!==0&&(r=o,e=Bh(t,o))),e===1))throw n=Ts,Hr(t,0),Kn(t,r),xt(t,Re()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(A(345));case 2:Nr(t,St,In);break;case 3:if(Kn(t,r),(r&130023424)===r&&(e=yf+500-Re(),10<e)){if(ll(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){vt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=wh(Nr.bind(null,t,St,In),e);break}Nr(t,St,In);break;case 4:if(Kn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-tn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*US(r/1960))-r,10<r){t.timeoutHandle=wh(Nr.bind(null,t,St,In),r);break}Nr(t,St,In);break;case 5:Nr(t,St,In);break;default:throw Error(A(329))}}}return xt(t,Re()),t.callbackNode===n?v_.bind(null,t):null}function Bh(t,e){var n=Yo;return t.current.memoizedState.isDehydrated&&(Hr(t,e).flags|=256),t=Rl(t,e),t!==2&&(e=St,St=n,e!==null&&Uh(e)),t}function Uh(t){St===null?St=t:St.push.apply(St,t)}function zS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!on(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Kn(t,e){for(e&=~gf,e&=~su,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tn(e),r=1<<n;t[n]=-1,e&=~r}}function Bm(t){if(J&6)throw Error(A(327));Bi();var e=ll(t,0);if(!(e&1))return xt(t,Re()),null;var n=Rl(t,e);if(t.tag!==0&&n===2){var r=fh(t);r!==0&&(e=r,n=Bh(t,r))}if(n===1)throw n=Ts,Hr(t,0),Kn(t,e),xt(t,Re()),n;if(n===6)throw Error(A(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Nr(t,St,In),xt(t,Re()),null}function vf(t,e){var n=J;J|=1;try{return t(e)}finally{J=n,J===0&&(Ji=Re()+500,nu&&Er())}}function Zr(t){Yn!==null&&Yn.tag===0&&!(J&6)&&Bi();var e=J;J|=1;var n=Wt.transition,r=ie;try{if(Wt.transition=null,ie=1,t)return t()}finally{ie=r,Wt.transition=n,J=e,!(J&6)&&Er()}}function _f(){Dt=Oi.current,pe(Oi)}function Hr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_S(n)),De!==null)for(n=De.return;n!==null;){var r=n;switch(Jd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fl();break;case 3:Yi(),pe(kt),pe(lt),lf();break;case 5:af(r);break;case 4:Yi();break;case 13:pe(ve);break;case 19:pe(ve);break;case 10:nf(r.type._context);break;case 22:case 23:_f()}n=n.return}if(be=t,De=t=sr(t.current,null),Ge=Dt=e,Me=0,Ts=null,gf=su=Jr=0,St=Yo=null,Fr!==null){for(e=0;e<Fr.length;e++)if(n=Fr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Fr=null}return t}function __(t,e){do{var n=De;try{if(tf(),Wa.current=Tl,wl){for(var r=_e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}wl=!1}if(Xr=0,je=Ve=_e=null,Ko=!1,_s=0,mf.current=null,n===null||n.return===null){Me=1,Ts=e,De=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=Ge,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Am(s);if(f!==null){f.flags&=-257,xm(f,s,a,o,e),f.mode&1&&km(o,u,e),e=f,l=u;var _=e.updateQueue;if(_===null){var E=new Set;E.add(l),e.updateQueue=E}else _.add(l);break e}else{if(!(e&1)){km(o,u,e),Ef();break e}l=Error(A(426))}}else if(ge&&a.mode&1){var T=Am(s);if(T!==null){!(T.flags&65536)&&(T.flags|=256),xm(T,s,a,o,e),Zd(Xi(l,a));break e}}o=l=Xi(l,a),Me!==4&&(Me=2),Yo===null?Yo=[o]:Yo.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=n_(o,l,e);Em(o,m);break e;case 1:a=l;var p=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ir===null||!ir.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=r_(o,a,e);Em(o,w);break e}}o=o.return}while(o!==null)}T_(n)}catch(I){e=I,De===n&&n!==null&&(De=n=n.return);continue}break}while(!0)}function E_(){var t=Sl.current;return Sl.current=Tl,t===null?Tl:t}function Ef(){(Me===0||Me===3||Me===2)&&(Me=4),be===null||!(Jr&268435455)&&!(su&268435455)||Kn(be,Ge)}function Rl(t,e){var n=J;J|=2;var r=E_();(be!==t||Ge!==e)&&(In=null,Hr(t,e));do try{HS();break}catch(i){__(t,i)}while(!0);if(tf(),J=n,Sl.current=r,De!==null)throw Error(A(261));return be=null,Ge=0,Me}function HS(){for(;De!==null;)w_(De)}function WS(){for(;De!==null&&!gT();)w_(De)}function w_(t){var e=I_(t.alternate,t,Dt);t.memoizedProps=t.pendingProps,e===null?T_(t):De=e,mf.current=null}function T_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=FS(n,e),n!==null){n.flags&=32767,De=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Me=6,De=null;return}}else if(n=$S(n,e,Dt),n!==null){De=n;return}if(e=e.sibling,e!==null){De=e;return}De=e=t}while(e!==null);Me===0&&(Me=5)}function Nr(t,e,n){var r=ie,i=Wt.transition;try{Wt.transition=null,ie=1,qS(t,e,n,r)}finally{Wt.transition=i,ie=r}return null}function qS(t,e,n,r){do Bi();while(Yn!==null);if(J&6)throw Error(A(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(A(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(RT(t,o),t===be&&(De=be=null,Ge=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ca||(Ca=!0,C_(al,function(){return Bi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Wt.transition,Wt.transition=null;var s=ie;ie=1;var a=J;J|=4,mf.current=null,bS(t,n),g_(n,t),dS(_h),ul=!!vh,_h=vh=null,t.current=n,BS(n),yT(),J=a,ie=s,Wt.transition=o}else t.current=n;if(Ca&&(Ca=!1,Yn=t,Cl=i),o=t.pendingLanes,o===0&&(ir=null),ET(n.stateNode),xt(t,Re()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Il)throw Il=!1,t=jh,jh=null,t;return Cl&1&&t.tag!==0&&Bi(),o=t.pendingLanes,o&1?t===bh?Xo++:(Xo=0,bh=t):Xo=0,Er(),null}function Bi(){if(Yn!==null){var t=tv(Cl),e=Wt.transition,n=ie;try{if(Wt.transition=null,ie=16>t?16:t,Yn===null)var r=!1;else{if(t=Yn,Yn=null,Cl=0,J&6)throw Error(A(331));var i=J;for(J|=4,O=t.current;O!==null;){var o=O,s=o.child;if(O.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(O=u;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:Go(8,c,o)}var h=c.child;if(h!==null)h.return=c,O=h;else for(;O!==null;){c=O;var d=c.sibling,f=c.return;if(f_(c),c===u){O=null;break}if(d!==null){d.return=f,O=d;break}O=f}}}var _=o.alternate;if(_!==null){var E=_.child;if(E!==null){_.child=null;do{var T=E.sibling;E.sibling=null,E=T}while(E!==null)}}O=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,O=s;else e:for(;O!==null;){if(o=O,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Go(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,O=m;break e}O=o.return}}var p=t.current;for(O=p;O!==null;){s=O;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,O=y;else e:for(s=p;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ou(9,a)}}catch(I){Ie(a,a.return,I)}if(a===s){O=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,O=w;break e}O=a.return}}if(J=i,Er(),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(Xl,t)}catch{}r=!0}return r}finally{ie=n,Wt.transition=e}}return!1}function Um(t,e,n){e=Xi(n,e),e=n_(t,e,1),t=rr(t,e,1),e=vt(),t!==null&&(Bs(t,1,e),xt(t,e))}function Ie(t,e,n){if(t.tag===3)Um(t,t,n);else for(;e!==null;){if(e.tag===3){Um(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ir===null||!ir.has(r))){t=Xi(n,t),t=r_(e,t,1),e=rr(e,t,1),t=vt(),e!==null&&(Bs(e,1,t),xt(e,t));break}}e=e.return}}function QS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vt(),t.pingedLanes|=t.suspendedLanes&n,be===t&&(Ge&n)===n&&(Me===4||Me===3&&(Ge&130023424)===Ge&&500>Re()-yf?Hr(t,0):gf|=n),xt(t,e)}function S_(t,e){e===0&&(t.mode&1?(e=ma,ma<<=1,!(ma&130023424)&&(ma=4194304)):e=1);var n=vt();t=On(t,e),t!==null&&(Bs(t,e,n),xt(t,n))}function KS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),S_(t,n)}function GS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(e),S_(t,n)}var I_;I_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kt.current)Ct=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ct=!1,LS(t,e,n);Ct=!!(t.flags&131072)}else Ct=!1,ge&&e.flags&1048576&&kv(e,gl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qa(t,e),t=e.pendingProps;var i=Qi(e,lt.current);bi(e,n),i=cf(null,e,r,t,i,n);var o=hf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,At(r)?(o=!0,pl(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,of(e),i.updater=ru,e.stateNode=i,i._reactInternals=e,Ah(e,r,t,n),e=Dh(null,e,r,!0,o,n)):(e.tag=0,ge&&o&&Xd(e),mt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Qa(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=XS(r),t=Jt(r,t),i){case 0:e=Ph(null,e,r,t,n);break e;case 1:e=Nm(null,e,r,t,n);break e;case 11:e=Pm(null,e,r,t,n);break e;case 14:e=Dm(null,e,r,Jt(r.type,t),n);break e}throw Error(A(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),Ph(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),Nm(t,e,r,i,n);case 3:e:{if(a_(e),t===null)throw Error(A(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Dv(t,e),_l(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Xi(Error(A(423)),e),e=Om(t,e,r,n,i);break e}else if(r!==i){i=Xi(Error(A(424)),e),e=Om(t,e,r,n,i);break e}else for(Nt=nr(e.stateNode.containerInfo.firstChild),Vt=e,ge=!0,en=null,n=Mv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ki(),r===i){e=Vn(t,e,n);break e}mt(t,e,r,n)}e=e.child}return e;case 5:return Lv(e),t===null&&Ch(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Eh(r,i)?s=null:o!==null&&Eh(r,o)&&(e.flags|=32),s_(t,e),mt(t,e,s,n),e.child;case 6:return t===null&&Ch(e),null;case 13:return l_(t,e,n);case 4:return sf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Gi(e,null,r,n):mt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),Pm(t,e,r,i,n);case 7:return mt(t,e,e.pendingProps,n),e.child;case 8:return mt(t,e,e.pendingProps.children,n),e.child;case 12:return mt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ce(yl,r._currentValue),r._currentValue=s,o!==null)if(on(o.value,s)){if(o.children===i.children&&!kt.current){e=Vn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Pn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Rh(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(A(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Rh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}mt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,bi(e,n),i=qt(i),r=r(i),e.flags|=1,mt(t,e,r,n),e.child;case 14:return r=e.type,i=Jt(r,e.pendingProps),i=Jt(r.type,i),Dm(t,e,r,i,n);case 15:return i_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),Qa(t,e),e.tag=1,At(r)?(t=!0,pl(e)):t=!1,bi(e,n),Ov(e,r,i),Ah(e,r,i,n),Dh(null,e,r,!0,t,n);case 19:return u_(t,e,n);case 22:return o_(t,e,n)}throw Error(A(156,e.tag))};function C_(t,e){return Xy(t,e)}function YS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(t,e,n,r){return new YS(t,e,n,r)}function wf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function XS(t){if(typeof t=="function")return wf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jd)return 11;if(t===bd)return 14}return 2}function sr(t,e){var n=t.alternate;return n===null?(n=Ht(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ya(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")wf(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Si:return Wr(n.children,i,o,e);case Fd:s=8,i|=8;break;case Jc:return t=Ht(12,n,e,i|2),t.elementType=Jc,t.lanes=o,t;case Zc:return t=Ht(13,n,e,i),t.elementType=Zc,t.lanes=o,t;case eh:return t=Ht(19,n,e,i),t.elementType=eh,t.lanes=o,t;case Vy:return au(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ny:s=10;break e;case Oy:s=9;break e;case jd:s=11;break e;case bd:s=14;break e;case Hn:s=16,r=null;break e}throw Error(A(130,t==null?t:typeof t,""))}return e=Ht(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Wr(t,e,n,r){return t=Ht(7,t,r,e),t.lanes=n,t}function au(t,e,n,r){return t=Ht(22,t,r,e),t.elementType=Vy,t.lanes=n,t.stateNode={isHidden:!1},t}function Tc(t,e,n){return t=Ht(6,t,null,e),t.lanes=n,t}function Sc(t,e,n){return e=Ht(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function JS(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rc(0),this.expirationTimes=rc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Tf(t,e,n,r,i,o,s,a,l){return t=new JS(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ht(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},of(o),t}function ZS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ti,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function R_(t){if(!t)return fr;t=t._reactInternals;e:{if(si(t)!==t||t.tag!==1)throw Error(A(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(At(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(t.tag===1){var n=t.type;if(At(n))return Cv(t,n,e)}return e}function k_(t,e,n,r,i,o,s,a,l){return t=Tf(n,r,!0,t,i,o,s,a,l),t.context=R_(null),n=t.current,r=vt(),i=or(n),o=Pn(r,i),o.callback=e??null,rr(n,o,i),t.current.lanes=i,Bs(t,i,r),xt(t,r),t}function lu(t,e,n,r){var i=e.current,o=vt(),s=or(i);return n=R_(n),e.context===null?e.context=n:e.pendingContext=n,e=Pn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=rr(i,e,s),t!==null&&(nn(t,i,s,o),Ha(t,i,s)),s}function kl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Sf(t,e){zm(t,e),(t=t.alternate)&&zm(t,e)}function eI(){return null}var A_=typeof reportError=="function"?reportError:function(t){console.error(t)};function If(t){this._internalRoot=t}uu.prototype.render=If.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));lu(t,e,null,null)};uu.prototype.unmount=If.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zr(function(){lu(null,t,null,null)}),e[Nn]=null}};function uu(t){this._internalRoot=t}uu.prototype.unstable_scheduleHydration=function(t){if(t){var e=iv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qn.length&&e!==0&&e<Qn[n].priority;n++);Qn.splice(n,0,t),n===0&&sv(t)}};function Cf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hm(){}function tI(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=kl(s);o.call(u)}}var s=k_(e,r,t,0,null,!1,!1,"",Hm);return t._reactRootContainer=s,t[Nn]=s.current,ps(t.nodeType===8?t.parentNode:t),Zr(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=kl(l);a.call(u)}}var l=Tf(t,0,!1,null,null,!1,!1,"",Hm);return t._reactRootContainer=l,t[Nn]=l.current,ps(t.nodeType===8?t.parentNode:t),Zr(function(){lu(e,l,n,r)}),l}function hu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=kl(s);a.call(l)}}lu(e,s,t,i)}else s=tI(n,e,t,i,r);return kl(s)}nv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Vo(e.pendingLanes);n!==0&&(zd(e,n|1),xt(e,Re()),!(J&6)&&(Ji=Re()+500,Er()))}break;case 13:Zr(function(){var r=On(t,1);if(r!==null){var i=vt();nn(r,t,1,i)}}),Sf(t,1)}};Hd=function(t){if(t.tag===13){var e=On(t,134217728);if(e!==null){var n=vt();nn(e,t,134217728,n)}Sf(t,134217728)}};rv=function(t){if(t.tag===13){var e=or(t),n=On(t,e);if(n!==null){var r=vt();nn(n,t,e,r)}Sf(t,e)}};iv=function(){return ie};ov=function(t,e){var n=ie;try{return ie=t,e()}finally{ie=n}};ch=function(t,e,n){switch(e){case"input":if(rh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=tu(r);if(!i)throw Error(A(90));Ly(r),rh(r,i)}}}break;case"textarea":Fy(t,n);break;case"select":e=n.value,e!=null&&Li(t,!!n.multiple,e,!1)}};Wy=vf;qy=Zr;var nI={usingClientEntryPoint:!1,Events:[zs,ki,tu,zy,Hy,vf]},ko={findFiberByHostInstance:$r,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rI={bundleType:ko.bundleType,version:ko.version,rendererPackageName:ko.rendererPackageName,rendererConfig:ko.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Gy(t),t===null?null:t.stateNode},findFiberByHostInstance:ko.findFiberByHostInstance||eI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ra=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ra.isDisabled&&Ra.supportsFiber)try{Xl=Ra.inject(rI),gn=Ra}catch{}}$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nI;$t.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cf(e))throw Error(A(200));return ZS(t,e,null,n)};$t.createRoot=function(t,e){if(!Cf(t))throw Error(A(299));var n=!1,r="",i=A_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Tf(t,1,!1,null,null,n,!1,r,i),t[Nn]=e.current,ps(t.nodeType===8?t.parentNode:t),new If(e)};$t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=Gy(e),t=t===null?null:t.stateNode,t};$t.flushSync=function(t){return Zr(t)};$t.hydrate=function(t,e,n){if(!cu(e))throw Error(A(200));return hu(null,t,e,!0,n)};$t.hydrateRoot=function(t,e,n){if(!Cf(t))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=A_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=k_(e,null,t,1,n??null,i,!1,o,s),t[Nn]=e.current,ps(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new uu(e)};$t.render=function(t,e,n){if(!cu(e))throw Error(A(200));return hu(null,t,e,!1,n)};$t.unmountComponentAtNode=function(t){if(!cu(t))throw Error(A(40));return t._reactRootContainer?(Zr(function(){hu(null,null,t,!1,function(){t._reactRootContainer=null,t[Nn]=null})}),!0):!1};$t.unstable_batchedUpdates=vf;$t.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!cu(n))throw Error(A(200));if(t==null||t._reactInternals===void 0)throw Error(A(38));return hu(t,e,n,!1,r)};$t.version="18.2.0-next-9e3b772b8-20220608";function x_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x_)}catch(t){console.error(t)}}x_(),ky.exports=$t;var P_=ky.exports;const br=Gl(P_);var Wm=P_;Yc.createRoot=Wm.createRoot,Yc.hydrateRoot=Wm.hydrateRoot;var D_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var o=arguments[i];if(o){var s=typeof o;if(s==="string"||s==="number")r.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&r.push(a)}}else if(s==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){r.push(o.toString());continue}for(var l in o)e.call(o,l)&&o[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(D_);var iI=D_.exports;const ae=Gl(iI);function oI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function zh(t,e){return zh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zh(t,e)}function sI(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,zh(t,e)}const aI=["xxl","xl","lg","md","sm","xs"],lI="xs",du=v.createContext({prefixes:{},breakpoints:aI,minBreakpoint:lI});function ke(t,e){const{prefixes:n}=v.useContext(du);return t||n[e]||e}function N_(){const{breakpoints:t}=v.useContext(du);return t}function O_(){const{minBreakpoint:t}=v.useContext(du);return t}function uI(){const{dir:t}=v.useContext(du);return t==="rtl"}function fu(t){return t&&t.ownerDocument||document}function cI(t){var e=fu(t);return e&&e.defaultView||window}function hI(t,e){return cI(t).getComputedStyle(t,e)}var dI=/([A-Z])/g;function fI(t){return t.replace(dI,"-$1").toLowerCase()}var pI=/^ms-/;function ka(t){return fI(t).replace(pI,"-ms-")}var mI=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function gI(t){return!!(t&&mI.test(t))}function qr(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(ka(e))||hI(t).getPropertyValue(ka(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?t.style.removeProperty(ka(i)):gI(i)?r+=i+"("+o+") ":n+=ka(i)+": "+o+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var V_={exports:{}},yI="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",vI=yI,_I=vI;function M_(){}function L_(){}L_.resetWarningCache=M_;var EI=function(){function t(r,i,o,s,a,l){if(l!==_I){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:L_,resetWarningCache:M_};return n.PropTypes=n,n};V_.exports=EI();var wI=V_.exports;const S=Gl(wI),qm={disabled:!1},$_=j.createContext(null);var TI=function(e){return e.scrollTop},Lo="unmounted",Or="exited",qn="entering",Lr="entered",Hh="exiting",bn=function(t){sI(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=Or,o.appearStatus=qn):l=Lr:r.unmountOnExit||r.mountOnEnter?l=Lo:l=Or,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Lo?{status:Or}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==qn&&s!==Lr&&(o=qn):(s===qn||s===Lr)&&(o=Hh)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===qn){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:br.findDOMNode(this);s&&TI(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Or&&this.setState({status:Lo})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[br.findDOMNode(this),a],u=l[0],c=l[1],h=this.getTimeouts(),d=a?h.appear:h.enter;if(!i&&!s||qm.disabled){this.safeSetState({status:Lr},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:qn},function(){o.props.onEntering(u,c),o.onTransitionEnd(d,function(){o.safeSetState({status:Lr},function(){o.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:br.findDOMNode(this);if(!o||qm.disabled){this.safeSetState({status:Or},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Hh},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Or},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:br.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Lo)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=oI(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return j.createElement($_.Provider,{value:null},typeof s=="function"?s(i,a):j.cloneElement(j.Children.only(s),a))},e}(j.Component);bn.contextType=$_;bn.propTypes={};function mi(){}bn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:mi,onEntering:mi,onEntered:mi,onExit:mi,onExiting:mi,onExited:mi};bn.UNMOUNTED=Lo;bn.EXITED=Or;bn.ENTERING=qn;bn.ENTERED=Lr;bn.EXITING=Hh;const SI=bn,ho=!!(typeof window<"u"&&window.document&&window.document.createElement);var Wh=!1,qh=!1;try{var Ic={get passive(){return Wh=!0},get once(){return qh=Wh=!0}};ho&&(window.addEventListener("test",Ic,Ic),window.removeEventListener("test",Ic,!0))}catch{}function F_(t,e,n,r){if(r&&typeof r!="boolean"&&!qh){var i=r.once,o=r.capture,s=n;!qh&&i&&(s=n.__once||function a(l){this.removeEventListener(e,a,o),n.call(this,l)},n.__once=s),t.addEventListener(e,s,Wh?r:o)}t.addEventListener(e,n,r)}function Qh(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function Al(t,e,n,r){return F_(t,e,n,r),function(){Qh(t,e,n,r)}}function II(t,e,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function CI(t){var e=qr(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function RI(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||II(t,"transitionend",!0)},e+n),o=Al(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),o()}}function j_(t,e,n,r){n==null&&(n=CI(t)||0);var i=RI(t,n,r),o=Al(t,"transitionend",e);return function(){i(),o()}}function Qm(t,e){const n=qr(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function kI(t,e){const n=Qm(t,"transitionDuration"),r=Qm(t,"transitionDelay"),i=j_(t,o=>{o.target===t&&(i(),e(o))},n+r)}function AI(t){t.offsetHeight}const Km=t=>!t||typeof t=="function"?t:e=>{t.current=e};function xI(t,e){const n=Km(t),r=Km(e);return i=>{n&&n(i),r&&r(i)}}function pu(t,e){return v.useMemo(()=>xI(t,e),[t,e])}function PI(t){return t&&"setState"in t?br.findDOMNode(t):t??null}const DI=j.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:o,addEndListener:s,children:a,childRef:l,...u},c)=>{const h=v.useRef(null),d=pu(h,l),f=x=>{d(PI(x))},_=x=>P=>{x&&h.current&&x(h.current,P)},E=v.useCallback(_(t),[t]),T=v.useCallback(_(e),[e]),m=v.useCallback(_(n),[n]),p=v.useCallback(_(r),[r]),y=v.useCallback(_(i),[i]),w=v.useCallback(_(o),[o]),I=v.useCallback(_(s),[s]);return g.jsx(SI,{ref:c,...u,onEnter:E,onEntered:m,onEntering:T,onExit:p,onExited:w,onExiting:y,addEndListener:I,nodeRef:h,children:typeof a=="function"?(x,P)=>a(x,{...P,ref:f}):j.cloneElement(a,{ref:f})})}),NI=DI;function OI(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t},[t]),e}function dn(t){const e=OI(t);return v.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const VI=t=>v.forwardRef((e,n)=>g.jsx("div",{...e,ref:n,className:ae(e.className,t)}));function MI(){return v.useState(null)}function LI(){const t=v.useRef(!0),e=v.useRef(()=>t.current);return v.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function $I(t){const e=v.useRef(null);return v.useEffect(()=>{e.current=t}),e.current}const FI=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",jI=typeof document<"u",Gm=jI||FI?v.useLayoutEffect:v.useEffect,bI=["as","disabled"];function BI(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function UI(t){return!t||t.trim()==="#"}function b_({tagName:t,disabled:e,href:n,target:r,rel:i,role:o,onClick:s,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const u={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},u];const c=d=>{if((e||t==="a"&&UI(n))&&d.preventDefault(),e){d.stopPropagation();return}s==null||s(d)},h=d=>{d.key===" "&&(d.preventDefault(),c(d))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:c,onKeyDown:h},u]}const zI=v.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=BI(t,bI);const[o,{tagName:s}]=b_(Object.assign({tagName:n,disabled:r},i));return g.jsx(s,Object.assign({},i,o,{ref:e}))});zI.displayName="Button";const HI={[qn]:"show",[Lr]:"show"},B_=v.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},o)=>{const s={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},a=v.useCallback((l,u)=>{AI(l),r==null||r(l,u)},[r]);return g.jsx(NI,{ref:o,addEndListener:kI,...s,onEnter:a,childRef:e.ref,children:(l,u)=>v.cloneElement(e,{...u,className:ae("fade",t,e.props.className,HI[l],n[l])})})});B_.displayName="Fade";const U_=B_,WI={"aria-label":S.string,onClick:S.func,variant:S.oneOf(["white"])},Rf=v.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>g.jsx("button",{ref:i,type:"button",className:ae("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));Rf.displayName="CloseButton";Rf.propTypes=WI;const qI=Rf,z_=v.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:o=!1,className:s,...a},l)=>{const u=ke(e,"btn"),[c,{tagName:h}]=b_({tagName:t,disabled:o,...a}),d=h;return g.jsx(d,{...c,...a,ref:l,disabled:o,className:ae(s,u,i&&"active",n&&`${u}-${n}`,r&&`${u}-${r}`,a.href&&o&&"disabled")})});z_.displayName="Button";const Kh=z_;function QI(t){const e=v.useRef(t);return e.current=t,e}function H_(t){const e=QI(t);v.useEffect(()=>()=>e.current(),[])}function KI(t,e){return v.Children.toArray(t).some(n=>v.isValidElement(n)&&n.type===e)}function GI({as:t,bsPrefix:e,className:n,...r}){e=ke(e,"col");const i=N_(),o=O_(),s=[],a=[];return i.forEach(l=>{const u=r[l];delete r[l];let c,h,d;typeof u=="object"&&u!=null?{span:c,offset:h,order:d}=u:c=u;const f=l!==o?`-${l}`:"";c&&s.push(c===!0?`${e}${f}`:`${e}${f}-${c}`),d!=null&&a.push(`order${f}-${d}`),h!=null&&a.push(`offset${f}-${h}`)}),[{...r,className:ae(n,...s,...a)},{as:t,bsPrefix:e,spans:s}]}const W_=v.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:o,spans:s}]=GI(t);return g.jsx(i,{...r,ref:e,className:ae(n,!s.length&&o)})});W_.displayName="Col";const Qe=W_,q_=v.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...i},o)=>{const s=ke(t,"container"),a=typeof e=="string"?`-${e}`:"-fluid";return g.jsx(n,{ref:o,...i,className:ae(r,e?`${s}${a}`:s)})});q_.displayName="Container";const YI=q_;var XI=Function.prototype.bind.call(Function.prototype.call,[].slice);function gi(t,e){return XI(t.querySelectorAll(e))}function Ym(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}const JI="data-rr-ui-";function ZI(t){return`${JI}${t}`}const Q_=v.createContext(ho?window:void 0);Q_.Provider;function kf(){return v.useContext(Q_)}const eC={type:S.string,tooltip:S.bool,as:S.elementType},Af=v.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},o)=>g.jsx(t,{...i,ref:o,className:ae(e,`${n}-${r?"tooltip":"feedback"}`)}));Af.displayName="Feedback";Af.propTypes=eC;const K_=Af,tC=v.createContext({}),Mn=tC,G_=v.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:o=!1,as:s="input",...a},l)=>{const{controlId:u}=v.useContext(Mn);return e=ke(e,"form-check-input"),g.jsx(s,{...a,ref:l,type:r,id:t||u,className:ae(n,e,i&&"is-valid",o&&"is-invalid")})});G_.displayName="FormCheckInput";const Y_=G_,X_=v.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:o}=v.useContext(Mn);return t=ke(t,"form-check-label"),g.jsx("label",{...r,ref:i,htmlFor:n||o,className:ae(e,t)})});X_.displayName="FormCheckLabel";const Gh=X_,J_=v.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:o=!1,isValid:s=!1,isInvalid:a=!1,feedbackTooltip:l=!1,feedback:u,feedbackType:c,className:h,style:d,title:f="",type:_="checkbox",label:E,children:T,as:m="input",...p},y)=>{e=ke(e,"form-check"),n=ke(n,"form-switch");const{controlId:w}=v.useContext(Mn),I=v.useMemo(()=>({controlId:t||w}),[w,t]),x=!T&&E!=null&&E!==!1||KI(T,Gh),P=g.jsx(Y_,{...p,type:_==="switch"?"checkbox":_,ref:y,isValid:s,isInvalid:a,disabled:o,as:m});return g.jsx(Mn.Provider,{value:I,children:g.jsx("div",{style:d,className:ae(h,x&&e,r&&`${e}-inline`,i&&`${e}-reverse`,_==="switch"&&n),children:T||g.jsxs(g.Fragment,{children:[P,x&&g.jsx(Gh,{title:f,children:E}),u&&g.jsx(K_,{type:c,tooltip:l,children:u})]})})})});J_.displayName="FormCheck";const xl=Object.assign(J_,{Input:Y_,Label:Gh}),Z_=v.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:o,isValid:s=!1,isInvalid:a=!1,plaintext:l,readOnly:u,as:c="input",...h},d)=>{const{controlId:f}=v.useContext(Mn);return t=ke(t,"form-control"),g.jsx(c,{...h,type:e,size:r,ref:d,readOnly:u,id:i||f,className:ae(o,l?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,s&&"is-valid",a&&"is-invalid")})});Z_.displayName="FormControl";const nC=Object.assign(Z_,{Feedback:K_}),e0=v.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ke(e,"form-floating"),g.jsx(n,{ref:i,className:ae(t,e),...r})));e0.displayName="FormFloating";const rC=e0,t0=v.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=v.useMemo(()=>({controlId:t}),[t]);return g.jsx(Mn.Provider,{value:i,children:g.jsx(e,{...n,ref:r})})});t0.displayName="FormGroup";const n0=t0,r0=v.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:o,...s},a)=>{const{controlId:l}=v.useContext(Mn);e=ke(e,"form-label");let u="col-form-label";typeof n=="string"&&(u=`${u} ${u}-${n}`);const c=ae(i,e,r&&"visually-hidden",n&&u);return o=o||l,n?g.jsx(Qe,{ref:a,as:"label",className:c,htmlFor:o,...s}):g.jsx(t,{ref:a,className:c,htmlFor:o,...s})});r0.displayName="FormLabel";const iC=r0,i0=v.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:o}=v.useContext(Mn);return t=ke(t,"form-range"),g.jsx("input",{...r,type:"range",ref:i,className:ae(e,t),id:n||o})});i0.displayName="FormRange";const oC=i0,o0=v.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:o=!1,id:s,...a},l)=>{const{controlId:u}=v.useContext(Mn);return t=ke(t,"form-select"),g.jsx("select",{...a,size:n,ref:l,className:ae(r,t,e&&`${t}-${e}`,i&&"is-valid",o&&"is-invalid"),id:s||u})});o0.displayName="FormSelect";const sC=o0,s0=v.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},o)=>(t=ke(t,"form-text"),g.jsx(n,{...i,ref:o,className:ae(e,t,r&&"text-muted")})));s0.displayName="FormText";const aC=s0,a0=v.forwardRef((t,e)=>g.jsx(xl,{...t,ref:e,type:"switch"}));a0.displayName="Switch";const lC=Object.assign(a0,{Input:xl.Input,Label:xl.Label}),l0=v.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...o},s)=>(t=ke(t,"form-floating"),g.jsxs(n0,{ref:s,className:ae(e,t),controlId:r,...o,children:[n,g.jsx("label",{htmlFor:r,children:i})]})));l0.displayName="FloatingLabel";const uC=l0,cC={_ref:S.any,validated:S.bool,as:S.elementType},xf=v.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>g.jsx(n,{...r,ref:i,className:ae(t,e&&"was-validated")}));xf.displayName="Form";xf.propTypes=cC;const Tt=Object.assign(xf,{Group:n0,Control:nC,Floating:rC,Check:xl,Switch:lC,Label:iC,Text:aC,Range:oC,Select:sC,FloatingLabel:uC});var Aa;function Xm(t){if((!Aa&&Aa!==0||t)&&ho){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Aa=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Aa}function Cc(t){t===void 0&&(t=fu());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function hC(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const Jm=ZI("modal-open");class dC{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return hC(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(qr(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(Jm,""),qr(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(Jm),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Pf=dC,Rc=(t,e)=>ho?t==null?(e||fu()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function fC(t,e){const n=kf(),[r,i]=v.useState(()=>Rc(t,n==null?void 0:n.document));if(!r){const o=Rc(t);o&&i(o)}return v.useEffect(()=>{e&&r&&e(r)},[e,r]),v.useEffect(()=>{const o=Rc(t);o!==r&&i(o)},[t,r]),r}function pC({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const o=v.useRef(null),s=v.useRef(e),a=dn(n);v.useEffect(()=>{e?s.current=!0:a(o.current)},[e,a]);const l=pu(o,t.ref),u=v.cloneElement(t,{ref:l});return e?u:i||!s.current&&r?null:u}function mC({in:t,onTransition:e}){const n=v.useRef(null),r=v.useRef(!0),i=dn(e);return Gm(()=>{if(!n.current)return;let o=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>o}),()=>{o=!0}},[t,i]),Gm(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function gC({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[o,s]=v.useState(!e);e&&o&&s(!1);const a=mC({in:!!e,onTransition:u=>{const c=()=>{u.isStale()||(u.in?r==null||r(u.element,u.initial):(s(!0),n==null||n(u.element)))};Promise.resolve(i(u)).then(c,h=>{throw u.in||s(!0),h})}}),l=pu(a,t.ref);return o&&!e?null:v.cloneElement(t,{ref:l})}function Zm(t,e,n){return t?g.jsx(t,Object.assign({},n)):e?g.jsx(gC,Object.assign({},n,{transition:e})):g.jsx(pC,Object.assign({},n))}function yC(t){return t.code==="Escape"||t.keyCode===27}const vC=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function _C(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let kc;function EC(t){return kc||(kc=new Pf({ownerDocument:t==null?void 0:t.document})),kc}function wC(t){const e=kf(),n=t||EC(e),r=v.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:v.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:v.useCallback(i=>{r.current.backdrop=i},[])})}const u0=v.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:o,children:s,backdrop:a=!0,keyboard:l=!0,onBackdropClick:u,onEscapeKeyDown:c,transition:h,runTransition:d,backdropTransition:f,runBackdropTransition:_,autoFocus:E=!0,enforceFocus:T=!0,restoreFocus:m=!0,restoreFocusOptions:p,renderDialog:y,renderBackdrop:w=ue=>g.jsx("div",Object.assign({},ue)),manager:I,container:x,onShow:P,onHide:D=()=>{},onExit:W,onExited:L,onExiting:se,onEnter:le,onEntering:Te,onEntered:ye}=t,Ae=_C(t,vC);const ne=kf(),Se=fC(x),k=wC(I),$=LI(),b=$I(n),[Z,te]=v.useState(!n),Oe=v.useRef(null);v.useImperativeHandle(e,()=>k,[k]),ho&&!b&&n&&(Oe.current=Cc(ne==null?void 0:ne.document)),n&&Z&&te(!1);const ct=dn(()=>{if(k.add(),Tn.current=Al(document,"keydown",di),Bn.current=Al(document,"focus",()=>setTimeout(ht),!0),P&&P(),E){var ue,dt;const Un=Cc((ue=(dt=k.dialog)==null?void 0:dt.ownerDocument)!=null?ue:ne==null?void 0:ne.document);k.dialog&&Un&&!Ym(k.dialog,Un)&&(Oe.current=Un,k.dialog.focus())}}),Gt=dn(()=>{if(k.remove(),Tn.current==null||Tn.current(),Bn.current==null||Bn.current(),m){var ue;(ue=Oe.current)==null||ue.focus==null||ue.focus(p),Oe.current=null}});v.useEffect(()=>{!n||!Se||ct()},[n,Se,ct]),v.useEffect(()=>{Z&&Gt()},[Z,Gt]),H_(()=>{Gt()});const ht=dn(()=>{if(!T||!$()||!k.isTopModal())return;const ue=Cc(ne==null?void 0:ne.document);k.dialog&&ue&&!Ym(k.dialog,ue)&&k.dialog.focus()}),ln=dn(ue=>{ue.target===ue.currentTarget&&(u==null||u(ue),a===!0&&D())}),di=dn(ue=>{l&&yC(ue)&&k.isTopModal()&&(c==null||c(ue),ue.defaultPrevented||D())}),Bn=v.useRef(),Tn=v.useRef(),Rr=(...ue)=>{te(!0),L==null||L(...ue)};if(!Se)return null;const kr=Object.assign({role:r,ref:k.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Ae,{style:o,className:i,tabIndex:-1});let Ar=y?y(kr):g.jsx("div",Object.assign({},kr,{children:v.cloneElement(s,{role:"document"})}));Ar=Zm(h,d,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:W,onExiting:se,onExited:Rr,onEnter:le,onEntering:Te,onEntered:ye,children:Ar});let jt=null;return a&&(jt=w({ref:k.setBackdropRef,onClick:ln}),jt=Zm(f,_,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:jt})),g.jsx(g.Fragment,{children:br.createPortal(g.jsxs(g.Fragment,{children:[jt,Ar]}),Se)})});u0.displayName="Modal";const TC=Object.assign(u0,{Manager:Pf});function SC(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function IC(t,e){t.classList?t.classList.add(e):SC(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function eg(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function CC(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=eg(t.className,e):t.setAttribute("class",eg(t.className&&t.className.baseVal||"",e))}const yi={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class RC extends Pf{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,qr(n,{[e]:`${parseFloat(qr(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],qr(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(IC(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";gi(n,yi.FIXED_CONTENT).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth)),gi(n,yi.STICKY_CONTENT).forEach(o=>this.adjustAndStore(i,o,-e.scrollBarWidth)),gi(n,yi.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();CC(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";gi(n,yi.FIXED_CONTENT).forEach(o=>this.restore(r,o)),gi(n,yi.STICKY_CONTENT).forEach(o=>this.restore(i,o)),gi(n,yi.NAVBAR_TOGGLER).forEach(o=>this.restore(i,o))}}let Ac;function kC(t){return Ac||(Ac=new RC(t)),Ac}const c0=v.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ke(e,"modal-body"),g.jsx(n,{ref:i,className:ae(t,e),...r})));c0.displayName="ModalBody";const h0=c0,AC=v.createContext({onHide(){}}),d0=AC,f0=v.forwardRef(({bsPrefix:t,className:e,contentClassName:n,centered:r,size:i,fullscreen:o,children:s,scrollable:a,...l},u)=>{t=ke(t,"modal");const c=`${t}-dialog`,h=typeof o=="string"?`${t}-fullscreen-${o}`:`${t}-fullscreen`;return g.jsx("div",{...l,ref:u,className:ae(c,e,i&&`${t}-${i}`,r&&`${c}-centered`,a&&`${c}-scrollable`,o&&h),children:g.jsx("div",{className:ae(`${t}-content`,n),children:s})})});f0.displayName="ModalDialog";const p0=f0,m0=v.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ke(e,"modal-footer"),g.jsx(n,{ref:i,className:ae(t,e),...r})));m0.displayName="ModalFooter";const xC=m0,PC=v.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...o},s)=>{const a=v.useContext(d0),l=dn(()=>{a==null||a.onHide(),r==null||r()});return g.jsxs("div",{ref:s,...o,children:[i,n&&g.jsx(qI,{"aria-label":t,variant:e,onClick:l})]})}),DC=PC,g0=v.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},o)=>(t=ke(t,"modal-header"),g.jsx(DC,{ref:o,...i,className:ae(e,t),closeLabel:n,closeButton:r})));g0.displayName="ModalHeader";const y0=g0,NC=VI("h4"),v0=v.forwardRef(({className:t,bsPrefix:e,as:n=NC,...r},i)=>(e=ke(e,"modal-title"),g.jsx(n,{ref:i,className:ae(t,e),...r})));v0.displayName="ModalTitle";const OC=v0;function VC(t){return g.jsx(U_,{...t,timeout:null})}function MC(t){return g.jsx(U_,{...t,timeout:null})}const _0=v.forwardRef(({bsPrefix:t,className:e,style:n,dialogClassName:r,contentClassName:i,children:o,dialogAs:s=p0,"aria-labelledby":a,"aria-describedby":l,"aria-label":u,show:c=!1,animation:h=!0,backdrop:d=!0,keyboard:f=!0,onEscapeKeyDown:_,onShow:E,onHide:T,container:m,autoFocus:p=!0,enforceFocus:y=!0,restoreFocus:w=!0,restoreFocusOptions:I,onEntered:x,onExit:P,onExiting:D,onEnter:W,onEntering:L,onExited:se,backdropClassName:le,manager:Te,...ye},Ae)=>{const[ne,Se]=v.useState({}),[k,$]=v.useState(!1),b=v.useRef(!1),Z=v.useRef(!1),te=v.useRef(null),[Oe,ct]=MI(),Gt=pu(Ae,ct),ht=dn(T),ln=uI();t=ke(t,"modal");const di=v.useMemo(()=>({onHide:ht}),[ht]);function Bn(){return Te||kC({isRTL:ln})}function Tn(G){if(!ho)return;const pt=Bn().getScrollbarWidth()>0,fi=G.scrollHeight>fu(G).documentElement.clientHeight;Se({paddingRight:pt&&!fi?Xm():void 0,paddingLeft:!pt&&fi?Xm():void 0})}const Rr=dn(()=>{Oe&&Tn(Oe.dialog)});H_(()=>{Qh(window,"resize",Rr),te.current==null||te.current()});const kr=()=>{b.current=!0},Ar=G=>{b.current&&Oe&&G.target===Oe.dialog&&(Z.current=!0),b.current=!1},jt=()=>{$(!0),te.current=j_(Oe.dialog,()=>{$(!1)})},ue=G=>{G.target===G.currentTarget&&jt()},dt=G=>{if(d==="static"){ue(G);return}if(Z.current||G.target!==G.currentTarget){Z.current=!1;return}T==null||T()},Un=G=>{f?_==null||_(G):(G.preventDefault(),d==="static"&&jt())},Yt=(G,pt)=>{G&&Tn(G),W==null||W(G,pt)},ft=G=>{te.current==null||te.current(),P==null||P(G)},Sn=(G,pt)=>{L==null||L(G,pt),F_(window,"resize",Rr)},la=G=>{G&&(G.style.display=""),se==null||se(G),Qh(window,"resize",Rr)},ua=v.useCallback(G=>g.jsx("div",{...G,className:ae(`${t}-backdrop`,le,!h&&"show")}),[h,le,t]),Ze={...n,...ne};Ze.display="block";const xr=G=>g.jsx("div",{role:"dialog",...G,style:Ze,className:ae(e,t,k&&`${t}-static`,!h&&"show"),onClick:d?dt:void 0,onMouseUp:Ar,"aria-label":u,"aria-labelledby":a,"aria-describedby":l,children:g.jsx(s,{...ye,onMouseDown:kr,className:r,contentClassName:i,children:o})});return g.jsx(d0.Provider,{value:di,children:g.jsx(TC,{show:c,ref:Gt,backdrop:d,container:m,keyboard:!0,autoFocus:p,enforceFocus:y,restoreFocus:w,restoreFocusOptions:I,onEscapeKeyDown:Un,onShow:E,onHide:T,onEnter:Yt,onEntering:Sn,onEntered:x,onExit:ft,onExiting:D,onExited:la,manager:Bn(),transition:h?VC:void 0,backdropTransition:h?MC:void 0,renderBackdrop:ua,renderDialog:xr})})});_0.displayName="Modal";const LC=Object.assign(_0,{Body:h0,Header:y0,Title:OC,Footer:xC,Dialog:p0,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),E0=v.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const o=ke(t,"row"),s=N_(),a=O_(),l=`${o}-cols`,u=[];return s.forEach(c=>{const h=r[c];delete r[c];let d;h!=null&&typeof h=="object"?{cols:d}=h:d=h;const f=c!==a?`-${c}`:"";d!=null&&u.push(`${l}${f}-${d}`)}),g.jsx(n,{ref:i,...r,className:ae(e,o,...u)})});E0.displayName="Row";const ai=E0;function w0(t,e){window.dispatchEvent(new StorageEvent("storage",{key:t,newValue:e}))}const tg=(t,e)=>{const n=JSON.stringify(e);window.localStorage.setItem(t,n),w0(t,n)},$C=t=>{window.localStorage.removeItem(t),w0(t,null)},ng=t=>window.localStorage.getItem(t),FC=t=>(window.addEventListener("storage",t),()=>window.removeEventListener("storage",t)),jC=()=>{throw Error("useLocalStorage is a client-only hook")};function T0(t,e){const n=()=>ng(t),r=v.useSyncExternalStore(FC,n,jC),i=v.useCallback(o=>{try{const s=typeof o=="function"?o(JSON.parse(r)):o;s==null?$C(t):tg(t,s)}catch(s){console.warn(s)}},[t,r]);return v.useEffect(()=>{ng(t)===null&&typeof e<"u"&&tg(t,e)},[t,e]),[r?JSON.parse(r):e,i]}function bC(t){return t.toDate().toLocaleDateString("nl-BE")}function BC(t){const e=t.toDate();return e.getHours()+":"+(e.getMinutes()<10?"0":"")+e.getMinutes()}function S0(t){const e=t;return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toJSON().slice(0,10)}function rg(t){const e=new Date("1/1/2013 "+t);return console.log(e),(e.getHours()<9?"0"+e.getHours():e.getHours())+":"+(e.getMinutes()<9?"0"+e.getMinutes():e.getMinutes())}function mu(t){const{children:e,customStyle:n}=t;return g.jsx(ai,{className:"g-0 p-md-1",style:n.section.style,children:e})}mu.propTypes={children:S.any,customStyle:S.shape({})};function An(t){const{title:e,data:n,priority:r}=t;return g.jsxs("p",{children:[g.jsxs("span",{style:{fontSize:"large",fontWeight:"bold",color:r?TD[r]:"white"},children:[e,": "]}),n]})}An.propTypes={title:S.string,data:S.string,priority:S.number};function Ss(t){const{onClick:e,children:n}=t;return g.jsx("button",{className:"p-0 m-0 text-white border-0 bg-transparent",onClick:r=>{r.preventDefault(),e()},children:n})}Ss.propTypes={onClick:S.func,children:S.element};var I0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ig=j.createContext&&j.createContext(I0),ar=function(){return ar=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ar.apply(this,arguments)},UC=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function C0(t){return t&&t.map(function(e,n){return j.createElement(e.tag,ar({key:n},e.attr),C0(e.child))})}function R0(t){return function(e){return j.createElement(zC,ar({attr:ar({},t.attr)},e),C0(t.child))}}function zC(t){var e=function(n){var r=t.attr,i=t.size,o=t.title,s=UC(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),j.createElement("svg",ar({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:ar(ar({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&j.createElement("title",null,o),t.children)};return ig!==void 0?j.createElement(ig.Consumer,null,function(n){return e(n)}):e(I0)}function k0(t){return R0({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m7 17.013 4.413-.015 9.632-9.54c.378-.378.586-.88.586-1.414s-.208-1.036-.586-1.414l-1.586-1.586c-.756-.756-2.075-.752-2.825-.003L7 12.583v4.43zM18.045 4.458l1.589 1.583-1.597 1.582-1.586-1.585 1.594-1.58zM9 13.417l6.03-5.973 1.586 1.586-6.029 5.971L9 15.006v-1.589z"}},{tag:"path",attr:{d:"M5 21h14c1.103 0 2-.897 2-2v-8.668l-2 2V19H8.158c-.026 0-.053.01-.079.01-.033 0-.066-.009-.1-.01H5V5h6.847l2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2z"}}]})(t)}function A0(t){return R0({tag:"svg",attr:{version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 4c-4.419 0-8 3.582-8 8s3.581 8 8 8 8-3.582 8-8-3.581-8-8-8zm3.707 10.293c.391.391.391 1.023 0 1.414-.195.195-.451.293-.707.293s-.512-.098-.707-.293l-2.293-2.293-2.293 2.293c-.195.195-.451.293-.707.293s-.512-.098-.707-.293c-.391-.391-.391-1.023 0-1.414l2.293-2.293-2.293-2.293c-.391-.391-.391-1.023 0-1.414s1.023-.391 1.414 0l2.293 2.293 2.293-2.293c.391-.391 1.023-.391 1.414 0s.391 1.023 0 1.414l-2.293 2.293 2.293 2.293z"}}]})(t)}var og={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},HC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},P0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,h=(o&3)<<4|a>>4;let d=(a&15)<<2|u>>6,f=u&63;l||(f=64,s||(d=64)),r.push(n[c],n[h],n[d],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(x0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):HC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||h==null)throw new WC;const d=o<<2|a>>4;if(r.push(d),u!==64){const f=a<<4&240|u>>2;if(r.push(f),h!==64){const _=u<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class WC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qC=function(t){const e=x0(t);return P0.encodeByteArray(e,!0)},Pl=function(t){return qC(t).replace(/\./g,"")},QC=function(t){try{return P0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=()=>KC().__FIREBASE_DEFAULTS__,YC=()=>{if(typeof process>"u"||typeof og>"u")return;const t=og.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&QC(t[1]);return e&&JSON.parse(e)},D0=()=>{try{return GC()||YC()||XC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JC=t=>{var e,n;return(n=(e=D0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ZC=t=>{const e=JC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},N0=()=>{var t;return(t=D0())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pl(JSON.stringify(n)),Pl(JSON.stringify(s)),""].join(".")}function nR(){try{return typeof indexedDB=="object"}catch{return!1}}function rR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="FirebaseError";class fo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=iR,Object.setPrototypeOf(this,fo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,O0.prototype.create)}}class O0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?oR(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new fo(i,a,r)}}function oR(t,e){return t.replace(sR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const sR=/\{\$([^}]+)}/g;function Yh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(sg(o)&&sg(s)){if(!Yh(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function sg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t){return t&&t._delegate?t._delegate:t}class Is{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new eR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uR(e))try{this.getOrInitializeService({instanceIdentifier:Vr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Vr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vr){return this.instances.has(e)}getOptions(e=Vr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vr){return this.component?this.component.multipleInstances?e:Vr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lR(t){return t===Vr?void 0:t}function uR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(X||(X={}));const hR={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},dR=X.INFO,fR={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},pR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=fR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class V0{constructor(e){this.name=e,this._logLevel=dR,this._logHandler=pR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in X))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...e),this._logHandler(this,X.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...e),this._logHandler(this,X.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,X.INFO,...e),this._logHandler(this,X.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,X.WARN,...e),this._logHandler(this,X.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...e),this._logHandler(this,X.ERROR,...e)}}const mR=(t,e)=>e.some(n=>t instanceof n);let ag,lg;function gR(){return ag||(ag=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yR(){return lg||(lg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M0=new WeakMap,Xh=new WeakMap,L0=new WeakMap,xc=new WeakMap,Df=new WeakMap;function vR(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(lr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&M0.set(n,t)}).catch(()=>{}),Df.set(e,t),e}function _R(t){if(Xh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Xh.set(t,e)}let Jh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||L0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ER(t){Jh=t(Jh)}function wR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pc(this),e,...n);return L0.set(r,e.sort?e.sort():[e]),lr(r)}:yR().includes(t)?function(...e){return t.apply(Pc(this),e),lr(M0.get(this))}:function(...e){return lr(t.apply(Pc(this),e))}}function TR(t){return typeof t=="function"?wR(t):(t instanceof IDBTransaction&&_R(t),mR(t,gR())?new Proxy(t,Jh):t)}function lr(t){if(t instanceof IDBRequest)return vR(t);if(xc.has(t))return xc.get(t);const e=TR(t);return e!==t&&(xc.set(t,e),Df.set(e,t)),e}const Pc=t=>Df.get(t);function SR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=lr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(lr(s.result),l.oldVersion,l.newVersion,lr(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const IR=["get","getKey","getAll","getAllKeys","count"],CR=["put","add","delete","clear"],Dc=new Map;function ug(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dc.get(e))return Dc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=CR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||IR.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Dc.set(e,o),o}ER(t=>({...t,get:(e,n,r)=>ug(e,n)||t.get(e,n,r),has:(e,n)=>!!ug(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zh="@firebase/app",cg="0.9.20";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new V0("@firebase/app"),AR="@firebase/app-compat",xR="@firebase/analytics-compat",PR="@firebase/analytics",DR="@firebase/app-check-compat",NR="@firebase/app-check",OR="@firebase/auth",VR="@firebase/auth-compat",MR="@firebase/database",LR="@firebase/database-compat",$R="@firebase/functions",FR="@firebase/functions-compat",jR="@firebase/installations",bR="@firebase/installations-compat",BR="@firebase/messaging",UR="@firebase/messaging-compat",zR="@firebase/performance",HR="@firebase/performance-compat",WR="@firebase/remote-config",qR="@firebase/remote-config-compat",QR="@firebase/storage",KR="@firebase/storage-compat",GR="@firebase/firestore",YR="@firebase/firestore-compat",XR="firebase",JR="10.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed="[DEFAULT]",ZR={[Zh]:"fire-core",[AR]:"fire-core-compat",[PR]:"fire-analytics",[xR]:"fire-analytics-compat",[NR]:"fire-app-check",[DR]:"fire-app-check-compat",[OR]:"fire-auth",[VR]:"fire-auth-compat",[MR]:"fire-rtdb",[LR]:"fire-rtdb-compat",[$R]:"fire-fn",[FR]:"fire-fn-compat",[jR]:"fire-iid",[bR]:"fire-iid-compat",[BR]:"fire-fcm",[UR]:"fire-fcm-compat",[zR]:"fire-perf",[HR]:"fire-perf-compat",[WR]:"fire-rc",[qR]:"fire-rc-compat",[QR]:"fire-gcs",[KR]:"fire-gcs-compat",[GR]:"fire-fst",[YR]:"fire-fst-compat","fire-js":"fire-js",[XR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=new Map,td=new Map;function ek(t,e){try{t.container.addComponent(e)}catch(n){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Nl(t){const e=t.name;if(td.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;td.set(e,t);for(const n of Dl.values())ek(n,t);return!0}function tk(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ur=new O0("app","Firebase",nk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=JR;function $0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ed,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ur.create("bad-app-name",{appName:String(i)});if(n||(n=N0()),!n)throw ur.create("no-options");const o=Dl.get(i);if(o){if(Yh(n,o.options)&&Yh(r,o.config))return o;throw ur.create("duplicate-app",{appName:i})}const s=new cR(i);for(const l of td.values())s.addComponent(l);const a=new rk(n,r,s);return Dl.set(i,a),a}function ok(t=ed){const e=Dl.get(t);if(!e&&t===ed&&N0())return $0();if(!e)throw ur.create("no-app",{appName:t});return e}function Ui(t,e,n){var r;let i=(r=ZR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(a.join(" "));return}Nl(new Is(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="firebase-heartbeat-database",ak=1,Cs="firebase-heartbeat-store";let Nc=null;function F0(){return Nc||(Nc=SR(sk,ak,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Cs)}}}).catch(t=>{throw ur.create("idb-open",{originalErrorMessage:t.message})})),Nc}async function lk(t){try{return await(await F0()).transaction(Cs).objectStore(Cs).get(j0(t))}catch(e){if(e instanceof fo)ei.warn(e.message);else{const n=ur.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ei.warn(n.message)}}}async function hg(t,e){try{const r=(await F0()).transaction(Cs,"readwrite");await r.objectStore(Cs).put(e,j0(t)),await r.done}catch(n){if(n instanceof fo)ei.warn(n.message);else{const r=ur.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ei.warn(r.message)}}}function j0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=1024,ck=30*24*60*60*1e3;class hk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dg();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const o=new Date(i.date).valueOf();return Date.now()-o<=ck}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=dg(),{heartbeatsToSend:n,unsentEntries:r}=dk(this._heartbeatsCache.heartbeats),i=Pl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function dg(){return new Date().toISOString().substring(0,10)}function dk(t,e=uk){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),fg(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nR()?rR().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await lk(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function fg(t){return Pl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t){Nl(new Is("platform-logger",e=>new RR(e),"PRIVATE")),Nl(new Is("heartbeat",e=>new hk(e),"PRIVATE")),Ui(Zh,cg,t),Ui(Zh,cg,"esm2017"),Ui("fire-js","")}pk("");var mk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},N,Nf=Nf||{},U=mk||self;function gu(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Ws(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function gk(t){return Object.prototype.hasOwnProperty.call(t,Oc)&&t[Oc]||(t[Oc]=++yk)}var Oc="closure_uid_"+(1e9*Math.random()>>>0),yk=0;function vk(t,e,n){return t.call.apply(t.bind,arguments)}function _k(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function st(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?st=vk:st=_k,st.apply(null,arguments)}function xa(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ue(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function wr(){this.s=this.s,this.o=this.o}var Ek=0;wr.prototype.s=!1;wr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Ek!=0)&&gk(this)};wr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const b0=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Of(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function pg(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(gu(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function at(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var wk=function(){if(!U.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{U.addEventListener("test",()=>{},e),U.removeEventListener("test",()=>{},e)}catch{}return t}();function Rs(t){return/^[\s\xa0]*$/.test(t)}function yu(){var t=U.navigator;return t&&(t=t.userAgent)?t:""}function fn(t){return yu().indexOf(t)!=-1}function Vf(t){return Vf[" "](t),t}Vf[" "]=function(){};function Tk(t,e){var n=pA;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Sk=fn("Opera"),Zi=fn("Trident")||fn("MSIE"),B0=fn("Edge"),nd=B0||Zi,U0=fn("Gecko")&&!(yu().toLowerCase().indexOf("webkit")!=-1&&!fn("Edge"))&&!(fn("Trident")||fn("MSIE"))&&!fn("Edge"),Ik=yu().toLowerCase().indexOf("webkit")!=-1&&!fn("Edge");function z0(){var t=U.document;return t?t.documentMode:void 0}var rd;e:{var Vc="",Mc=function(){var t=yu();if(U0)return/rv:([^\);]+)(\)|;)/.exec(t);if(B0)return/Edge\/([\d\.]+)/.exec(t);if(Zi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Ik)return/WebKit\/(\S+)/.exec(t);if(Sk)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Mc&&(Vc=Mc?Mc[1]:""),Zi){var Lc=z0();if(Lc!=null&&Lc>parseFloat(Vc)){rd=String(Lc);break e}}rd=Vc}var id;if(U.document&&Zi){var mg=z0();id=mg||parseInt(rd,10)||void 0}else id=void 0;var Ck=id;function ks(t,e){if(at.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(U0){e:{try{Vf(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Rk[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ks.$.h.call(this)}}Ue(ks,at);var Rk={2:"touch",3:"pen",4:"mouse"};ks.prototype.h=function(){ks.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var qs="closure_listenable_"+(1e6*Math.random()|0),kk=0;function Ak(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++kk,this.fa=this.ia=!1}function vu(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Mf(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function xk(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function H0(t){const e={};for(const n in t)e[n]=t[n];return e}const gg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W0(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<gg.length;o++)n=gg[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function _u(t){this.src=t,this.g={},this.h=0}_u.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=sd(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new Ak(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function od(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=b0(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(vu(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function sd(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Lf="closure_lm_"+(1e6*Math.random()|0),$c={};function q0(t,e,n,r,i){if(r&&r.once)return K0(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)q0(t,e[o],n,r,i);return null}return n=jf(n),t&&t[qs]?t.O(e,n,Ws(r)?!!r.capture:!!r,i):Q0(t,e,n,!1,r,i)}function Q0(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ws(i)?!!i.capture:!!i,a=Ff(t);if(a||(t[Lf]=a=new _u(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=Pk(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)wk||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Y0(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Pk(){function t(n){return e.call(t.src,t.listener,n)}const e=Dk;return t}function K0(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)K0(t,e[o],n,r,i);return null}return n=jf(n),t&&t[qs]?t.P(e,n,Ws(r)?!!r.capture:!!r,i):Q0(t,e,n,!0,r,i)}function G0(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)G0(t,e[o],n,r,i);else r=Ws(r)?!!r.capture:!!r,n=jf(n),t&&t[qs]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=sd(o,n,r,i),-1<n&&(vu(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ff(t))&&(e=t.g[e.toString()],t=-1,e&&(t=sd(e,n,r,i)),(n=-1<t?e[t]:null)&&$f(n))}function $f(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[qs])od(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Y0(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ff(e))?(od(n,t),n.h==0&&(n.src=null,e[Lf]=null)):vu(t)}}}function Y0(t){return t in $c?$c[t]:$c[t]="on"+t}function Dk(t,e){if(t.fa)t=!0;else{e=new ks(e,this);var n=t.listener,r=t.la||t.src;t.ia&&$f(t),t=n.call(r,e)}return t}function Ff(t){return t=t[Lf],t instanceof _u?t:null}var Fc="__closure_events_fn_"+(1e9*Math.random()>>>0);function jf(t){return typeof t=="function"?t:(t[Fc]||(t[Fc]=function(e){return t.handleEvent(e)}),t[Fc])}function Be(){wr.call(this),this.i=new _u(this),this.S=this,this.J=null}Ue(Be,wr);Be.prototype[qs]=!0;Be.prototype.removeEventListener=function(t,e,n,r){G0(this,t,e,n,r)};function Ye(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new at(e,t);else if(e instanceof at)e.target=e.target||t;else{var i=e;e=new at(r,t),W0(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Pa(s,r,!0,e)&&i}if(s=e.g=t,i=Pa(s,r,!0,e)&&i,i=Pa(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Pa(s,r,!1,e)&&i}Be.prototype.N=function(){if(Be.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)vu(n[r]);delete t.g[e],t.h--}}this.J=null};Be.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Be.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Pa(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&od(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var bf=U.JSON.stringify;class Nk{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Ok(){var t=Bf;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Vk{constructor(){this.h=this.g=null}add(e,n){const r=X0.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var X0=new Nk(()=>new Mk,t=>t.reset());class Mk{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Lk(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function $k(t){U.setTimeout(()=>{throw t},0)}let As,xs=!1,Bf=new Vk,J0=()=>{const t=U.Promise.resolve(void 0);As=()=>{t.then(Fk)}};var Fk=()=>{for(var t;t=Ok();){try{t.h.call(t.g)}catch(n){$k(n)}var e=X0;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}xs=!1};function Eu(t,e){Be.call(this),this.h=t||1,this.g=e||U,this.j=st(this.qb,this),this.l=Date.now()}Ue(Eu,Be);N=Eu.prototype;N.ga=!1;N.T=null;N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ye(this,"tick"),this.ga&&(Uf(this),this.start()))}};N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Uf(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}N.N=function(){Eu.$.N.call(this),Uf(this),delete this.g};function zf(t,e,n){if(typeof t=="function")n&&(t=st(t,n));else if(t&&typeof t.handleEvent=="function")t=st(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:U.setTimeout(t,e||0)}function Z0(t){t.g=zf(()=>{t.g=null,t.i&&(t.i=!1,Z0(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class jk extends wr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Z0(this)}N(){super.N(),this.g&&(U.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ps(t){wr.call(this),this.h=t,this.g={}}Ue(Ps,wr);var yg=[];function e1(t,e,n,r){Array.isArray(n)||(n&&(yg[0]=n.toString()),n=yg);for(var i=0;i<n.length;i++){var o=q0(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function t1(t){Mf(t.g,function(e,n){this.g.hasOwnProperty(n)&&$f(e)},t),t.g={}}Ps.prototype.N=function(){Ps.$.N.call(this),t1(this)};Ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function wu(){this.g=!0}wu.prototype.Ea=function(){this.g=!1};function bk(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&h[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function Bk(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function Vi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+zk(t,n)+(r?" "+r:"")})}function Uk(t,e){t.info(function(){return"TIMEOUT: "+e})}wu.prototype.info=function(){};function zk(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return bf(n)}catch{return e}}var li={},vg=null;function Tu(){return vg=vg||new Be}li.Ta="serverreachability";function n1(t){at.call(this,li.Ta,t)}Ue(n1,at);function Ds(t){const e=Tu();Ye(e,new n1(e))}li.STAT_EVENT="statevent";function r1(t,e){at.call(this,li.STAT_EVENT,t),this.stat=e}Ue(r1,at);function gt(t){const e=Tu();Ye(e,new r1(e,t))}li.Ua="timingevent";function i1(t,e){at.call(this,li.Ua,t),this.size=e}Ue(i1,at);function Qs(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return U.setTimeout(function(){t()},e)}var Su={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},o1={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Hf(){}Hf.prototype.h=null;function _g(t){return t.h||(t.h=t.i())}function s1(){}var Ks={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Wf(){at.call(this,"d")}Ue(Wf,at);function qf(){at.call(this,"c")}Ue(qf,at);var ad;function Iu(){}Ue(Iu,Hf);Iu.prototype.g=function(){return new XMLHttpRequest};Iu.prototype.i=function(){return{}};ad=new Iu;function Gs(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ps(this),this.P=Hk,t=nd?125:void 0,this.V=new Eu(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new a1}function a1(){this.i=null,this.g="",this.h=!1}var Hk=45e3,ld={},Ol={};N=Gs.prototype;N.setTimeout=function(t){this.P=t};function ud(t,e,n){t.L=1,t.v=Ru(Ln(e)),t.s=n,t.S=!0,l1(t,null)}function l1(t,e){t.G=Date.now(),Ys(t),t.A=Ln(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),g1(n.i,"t",r),t.C=0,n=t.l.J,t.h=new a1,t.g=$1(t.l,n?e:null,!t.s),0<t.O&&(t.M=new jk(st(t.Pa,t,t.g),t.O)),e1(t.U,t.g,"readystatechange",t.nb),e=t.I?H0(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ds(),bk(t.j,t.u,t.A,t.m,t.W,t.s)}N.nb=function(t){t=t.target;const e=this.M;e&&pn(t)==3?e.l():this.Pa(t)};N.Pa=function(t){try{if(t==this.g)e:{const c=pn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||nd||this.g&&(this.h.h||this.g.ja()||Sg(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?Ds(3):Ds(2)),Cu(this);var n=this.g.da();this.ca=n;t:if(u1(this)){var r=Sg(this.g);t="";var i=r.length,o=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Br(this),Jo(this);var s="";break t}this.h.i=new U.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,Bk(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rs(a)){var u=a;break t}}u=null}if(n=u)Vi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cd(this,n);else{this.i=!1,this.o=3,gt(12),Br(this),Jo(this);break e}}this.S?(c1(this,c,s),nd&&this.i&&c==3&&(e1(this.U,this.V,"tick",this.mb),this.V.start())):(Vi(this.j,this.m,s,null),cd(this,s)),c==4&&Br(this),this.i&&!this.J&&(c==4?O1(this.l,this):(this.i=!1,Ys(this)))}else hA(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.o=3,gt(12)):(this.o=0,gt(13)),Br(this),Jo(this)}}}catch{}finally{}};function u1(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function c1(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=Wk(t,n),i==Ol){e==4&&(t.o=4,gt(14),r=!1),Vi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==ld){t.o=4,gt(15),Vi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Vi(t.j,t.m,i,null),cd(t,i);u1(t)&&i!=Ol&&i!=ld&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,gt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jf(e),e.M=!0,gt(11))):(Vi(t.j,t.m,n,"[Invalid Chunked Response]"),Br(t),Jo(t))}N.mb=function(){if(this.g){var t=pn(this.g),e=this.g.ja();this.C<e.length&&(Cu(this),c1(this,t,e),this.i&&t!=4&&Ys(this))}};function Wk(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Ol:(n=Number(e.substring(n,r)),isNaN(n)?ld:(r+=1,r+n>e.length?Ol:(e=e.slice(r,r+n),t.C=r+n,e)))}N.cancel=function(){this.J=!0,Br(this)};function Ys(t){t.Y=Date.now()+t.P,h1(t,t.P)}function h1(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Qs(st(t.lb,t),e)}function Cu(t){t.B&&(U.clearTimeout(t.B),t.B=null)}N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(Uk(this.j,this.A),this.L!=2&&(Ds(),gt(17)),Br(this),this.o=2,Jo(this)):h1(this,this.Y-t)};function Jo(t){t.l.H==0||t.J||O1(t.l,t)}function Br(t){Cu(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Uf(t.V),t1(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function cd(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||hd(n.i,t))){if(!t.K&&hd(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Ll(n),Pu(n);else break e;Xf(n),gt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Qs(st(n.ib,n),6e3));if(1>=_1(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ur(n,11)}else if((t.K||n.g==t)&&Ll(n),!Rs(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const _=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var o=r.i;o.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Qf(o,o.h),o.h=null))}if(r.F){const E=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,de(r.I,r.F,E))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=L1(r,r.J?r.pa:null,r.Y),s.K){E1(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(Cu(a),Ys(a)),r.g=s}else D1(r);0<n.j.length&&Du(n)}else u[0]!="stop"&&u[0]!="close"||Ur(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Ur(n,7):Yf(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ds(4)}catch{}}function qk(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(gu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Qk(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(gu(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function d1(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(gu(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Qk(t),r=qk(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var f1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kk(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Qr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Qr){this.h=t.h,Vl(this,t.j),this.s=t.s,this.g=t.g,Ml(this,t.m),this.l=t.l;var e=t.i,n=new Ns;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Eg(this,n),this.o=t.o}else t&&(e=String(t).match(f1))?(this.h=!1,Vl(this,e[1]||"",!0),this.s=$o(e[2]||""),this.g=$o(e[3]||"",!0),Ml(this,e[4]),this.l=$o(e[5]||"",!0),Eg(this,e[6]||"",!0),this.o=$o(e[7]||"")):(this.h=!1,this.i=new Ns(null,this.h))}Qr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Fo(e,wg,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Fo(e,wg,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Fo(n,n.charAt(0)=="/"?Xk:Yk,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Fo(n,Zk)),t.join("")};function Ln(t){return new Qr(t)}function Vl(t,e,n){t.j=n?$o(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ml(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Eg(t,e,n){e instanceof Ns?(t.i=e,eA(t.i,t.h)):(n||(e=Fo(e,Jk)),t.i=new Ns(e,t.h))}function de(t,e,n){t.i.set(e,n)}function Ru(t){return de(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function $o(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Gk),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Gk(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var wg=/[#\/\?@]/g,Yk=/[#\?:]/g,Xk=/[#\?]/g,Jk=/[#\?@]/g,Zk=/#/g;function Ns(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Tr(t){t.g||(t.g=new Map,t.h=0,t.i&&Kk(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}N=Ns.prototype;N.add=function(t,e){Tr(this),this.i=null,t=po(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function p1(t,e){Tr(t),e=po(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function m1(t,e){return Tr(t),e=po(t,e),t.g.has(e)}N.forEach=function(t,e){Tr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};N.ta=function(){Tr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};N.Z=function(t){Tr(this);let e=[];if(typeof t=="string")m1(this,t)&&(e=e.concat(this.g.get(po(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};N.set=function(t,e){return Tr(this),this.i=null,t=po(this,t),m1(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};N.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function g1(t,e,n){p1(t,e),0<n.length&&(t.i=null,t.g.set(po(t,e),Of(n)),t.h+=n.length)}N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function po(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function eA(t,e){e&&!t.j&&(Tr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(p1(this,r),g1(this,i,n))},t)),t.j=e}var tA=class{constructor(t,e){this.g=t,this.map=e}};function y1(t){this.l=t||nA,U.PerformanceNavigationTiming?(t=U.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(U.g&&U.g.Ka&&U.g.Ka()&&U.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var nA=10;function v1(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function _1(t){return t.h?1:t.g?t.g.size:0}function hd(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Qf(t,e){t.g?t.g.add(e):t.h=e}function E1(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}y1.prototype.cancel=function(){if(this.i=w1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function w1(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Of(t.i)}var rA=class{stringify(t){return U.JSON.stringify(t,void 0)}parse(t){return U.JSON.parse(t,void 0)}};function iA(){this.g=new rA}function oA(t,e,n){const r=n||"";try{d1(t,function(i,o){let s=i;Ws(i)&&(s=bf(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function sA(t,e){const n=new wu;if(U.Image){const r=new Image;r.onload=xa(Da,n,r,"TestLoadImage: loaded",!0,e),r.onerror=xa(Da,n,r,"TestLoadImage: error",!1,e),r.onabort=xa(Da,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=xa(Da,n,r,"TestLoadImage: timeout",!1,e),U.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Da(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ku(t){this.l=t.ec||null,this.j=t.ob||!1}Ue(ku,Hf);ku.prototype.g=function(){return new Au(this.l,this.j)};ku.prototype.i=function(t){return function(){return t}}({});function Au(t,e){Be.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Kf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ue(Au,Be);var Kf=0;N=Au.prototype;N.open=function(t,e){if(this.readyState!=Kf)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Os(this)};N.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||U).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xs(this)),this.readyState=Kf};N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Os(this)),this.g&&(this.readyState=3,Os(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof U.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;T1(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function T1(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Xs(this):Os(this),this.readyState==3&&T1(this)}};N.Za=function(t){this.g&&(this.response=this.responseText=t,Xs(this))};N.Ya=function(t){this.g&&(this.response=t,Xs(this))};N.ka=function(){this.g&&Xs(this)};function Xs(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Os(t)}N.setRequestHeader=function(t,e){this.v.append(t,e)};N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Os(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Au.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var aA=U.JSON.parse;function Ce(t){Be.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=S1,this.L=this.M=!1}Ue(Ce,Be);var S1="",lA=/^https?$/i,uA=["POST","PUT"];N=Ce.prototype;N.Oa=function(t){this.M=t};N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ad.g(),this.C=this.u?_g(this.u):_g(ad),this.g.onreadystatechange=st(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){Tg(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=U.FormData&&t instanceof U.FormData,!(0<=b0(uA,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{R1(this),0<this.B&&((this.L=cA(this.g))?(this.g.timeout=this.B,this.g.ontimeout=st(this.ua,this)):this.A=zf(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Tg(this,o)}};function cA(t){return Zi&&typeof t.timeout=="number"&&t.ontimeout!==void 0}N.ua=function(){typeof Nf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ye(this,"timeout"),this.abort(8))};function Tg(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,I1(t),xu(t)}function I1(t){t.F||(t.F=!0,Ye(t,"complete"),Ye(t,"error"))}N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ye(this,"complete"),Ye(this,"abort"),xu(this))};N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xu(this,!0)),Ce.$.N.call(this)};N.La=function(){this.s||(this.G||this.v||this.l?C1(this):this.kb())};N.kb=function(){C1(this)};function C1(t){if(t.h&&typeof Nf<"u"&&(!t.C[1]||pn(t)!=4||t.da()!=2)){if(t.v&&pn(t)==4)zf(t.La,0,t);else if(Ye(t,"readystatechange"),pn(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(f1)[1]||null;!i&&U.self&&U.self.location&&(i=U.self.location.protocol.slice(0,-1)),r=!lA.test(i?i.toLowerCase():"")}n=r}if(n)Ye(t,"complete"),Ye(t,"success");else{t.m=6;try{var o=2<pn(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",I1(t)}}finally{xu(t)}}}}function xu(t,e){if(t.g){R1(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ye(t,"ready");try{n.onreadystatechange=r}catch{}}}function R1(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(U.clearTimeout(t.A),t.A=null)}N.isActive=function(){return!!this.g};function pn(t){return t.g?t.g.readyState:0}N.da=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}};N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),aA(e)}};function Sg(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case S1:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function hA(t){const e={};t=(t.g&&2<=pn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Rs(t[r]))continue;var n=Lk(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}xk(e,function(r){return r.join(", ")})}N.Ia=function(){return this.m};N.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function k1(t){let e="";return Mf(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Gf(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=k1(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):de(t,e,n))}function Ao(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function A1(t){this.Ga=0,this.j=[],this.l=new wu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ao("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ao("baseRetryDelayMs",5e3,t),this.hb=Ao("retryDelaySeedMs",1e4,t),this.eb=Ao("forwardChannelMaxRetries",2,t),this.xa=Ao("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new y1(t&&t.concurrentRequestLimit),this.Ja=new iA,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}N=A1.prototype;N.ra=8;N.H=1;function Yf(t){if(x1(t),t.H==3){var e=t.W++,n=Ln(t.I);if(de(n,"SID",t.K),de(n,"RID",e),de(n,"TYPE","terminate"),Js(t,n),e=new Gs(t,t.l,e),e.L=2,e.v=Ru(Ln(n)),n=!1,U.navigator&&U.navigator.sendBeacon)try{n=U.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&U.Image&&(new Image().src=e.v,n=!0),n||(e.g=$1(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Ys(e)}M1(t)}function Pu(t){t.g&&(Jf(t),t.g.cancel(),t.g=null)}function x1(t){Pu(t),t.u&&(U.clearTimeout(t.u),t.u=null),Ll(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&U.clearTimeout(t.m),t.m=null)}function Du(t){if(!v1(t.i)&&!t.m){t.m=!0;var e=t.Na;As||J0(),xs||(As(),xs=!0),Bf.add(e,t),t.C=0}}function dA(t,e){return _1(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Qs(st(t.Na,t,e),V1(t,t.C)),t.C++,!0)}N.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Gs(this,this.l,t);let o=this.s;if(this.U&&(o?(o=H0(o),W0(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=P1(this,i,e),n=Ln(this.I),de(n,"RID",t),de(n,"CVER",22),this.F&&de(n,"X-HTTP-Session-Id",this.F),Js(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(k1(o)))+"&"+e:this.o&&Gf(n,this.o,o)),Qf(this.i,i),this.bb&&de(n,"TYPE","init"),this.P?(de(n,"$req",e),de(n,"SID","null"),i.aa=!0,ud(i,n,null)):ud(i,n,e),this.H=2}}else this.H==3&&(t?Ig(this,t):this.j.length==0||v1(this.i)||Ig(this))};function Ig(t,e){var n;e?n=e.m:n=t.W++;const r=Ln(t.I);de(r,"SID",t.K),de(r,"RID",n),de(r,"AID",t.V),Js(t,r),t.o&&t.s&&Gf(r,t.o,t.s),n=new Gs(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=P1(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Qf(t.i,n),ud(n,r,e)}function Js(t,e){t.na&&Mf(t.na,function(n,r){de(e,r,n)}),t.h&&d1({},function(n,r){de(e,r,n)})}function P1(t,e,n){n=Math.min(t.j.length,n);var r=t.h?st(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{oA(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function D1(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;As||J0(),xs||(As(),xs=!0),Bf.add(e,t),t.A=0}}function Xf(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Qs(st(t.Ma,t),V1(t,t.A)),t.A++,!0)}N.Ma=function(){if(this.u=null,N1(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Qs(st(this.jb,this),t)}};N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,gt(10),Pu(this),N1(this))};function Jf(t){t.B!=null&&(U.clearTimeout(t.B),t.B=null)}function N1(t){t.g=new Gs(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ln(t.wa);de(e,"RID","rpc"),de(e,"SID",t.K),de(e,"AID",t.V),de(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&de(e,"TO",t.qa),de(e,"TYPE","xmlhttp"),Js(t,e),t.o&&t.s&&Gf(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Ru(Ln(e)),n.s=null,n.S=!0,l1(n,t)}N.ib=function(){this.v!=null&&(this.v=null,Pu(this),Xf(this),gt(19))};function Ll(t){t.v!=null&&(U.clearTimeout(t.v),t.v=null)}function O1(t,e){var n=null;if(t.g==e){Ll(t),Jf(t),t.g=null;var r=2}else if(hd(t.i,e))n=e.F,E1(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Tu(),Ye(r,new i1(r,n)),Du(t)}else D1(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&dA(t,e)||r==2&&Xf(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ur(t,5);break;case 4:Ur(t,10);break;case 3:Ur(t,6);break;default:Ur(t,2)}}}function V1(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ur(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=st(t.pb,t);n||(n=new Qr("//www.google.com/images/cleardot.gif"),U.location&&U.location.protocol=="http"||Vl(n,"https"),Ru(n)),sA(n.toString(),r)}else gt(2);t.H=0,t.h&&t.h.za(e),M1(t),x1(t)}N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),gt(2)):(this.l.info("Failed to ping google.com"),gt(1))};function M1(t){if(t.H=0,t.ma=[],t.h){const e=w1(t.i);(e.length!=0||t.j.length!=0)&&(pg(t.ma,e),pg(t.ma,t.j),t.i.i.length=0,Of(t.j),t.j.length=0),t.h.ya()}}function L1(t,e,n){var r=n instanceof Qr?Ln(n):new Qr(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ml(r,r.m);else{var i=U.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Qr(null);r&&Vl(o,r),e&&(o.g=e),i&&Ml(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&de(r,n,e),de(r,"VER",t.ra),Js(t,r),r}function $1(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ce(new ku({ob:!0})):new Ce(t.va),e.Oa(t.J),e}N.isActive=function(){return!!this.h&&this.h.isActive(this)};function F1(){}N=F1.prototype;N.Ba=function(){};N.Aa=function(){};N.za=function(){};N.ya=function(){};N.isActive=function(){return!0};N.Va=function(){};function $l(){if(Zi&&!(10<=Number(Ck)))throw Error("Environmental error: no available transport.")}$l.prototype.g=function(t,e){return new Lt(t,e)};function Lt(t,e){Be.call(this),this.g=new A1(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Rs(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Rs(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new mo(this)}Ue(Lt,Be);Lt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;gt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=L1(t,null,t.Y),Du(t)};Lt.prototype.close=function(){Yf(this.g)};Lt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=bf(t),t=n);e.j.push(new tA(e.fb++,t)),e.H==3&&Du(e)};Lt.prototype.N=function(){this.g.h=null,delete this.j,Yf(this.g),delete this.g,Lt.$.N.call(this)};function j1(t){Wf.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ue(j1,Wf);function b1(){qf.call(this),this.status=1}Ue(b1,qf);function mo(t){this.g=t}Ue(mo,F1);mo.prototype.Ba=function(){Ye(this.g,"a")};mo.prototype.Aa=function(t){Ye(this.g,new j1(t))};mo.prototype.za=function(t){Ye(this.g,new b1)};mo.prototype.ya=function(){Ye(this.g,"b")};function fA(){this.blockSize=-1}function sn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ue(sn,fA);sn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function jc(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}sn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)jc(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){jc(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){jc(this,r),i=0;break}}this.h=i,this.i+=e};sn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function oe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var pA={};function Zf(t){return-128<=t&&128>t?Tk(t,function(e){return new oe([e|0],0>e?-1:0)}):new oe([t|0],0>t?-1:0)}function mn(t){if(isNaN(t)||!isFinite(t))return zi;if(0>t)return qe(mn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=dd;return new oe(e,0)}function B1(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return qe(B1(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=mn(Math.pow(e,8)),r=zi,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=mn(Math.pow(e,o)),r=r.R(o).add(mn(s))):(r=r.R(n),r=r.add(mn(s)))}return r}var dd=4294967296,zi=Zf(0),fd=Zf(1),Cg=Zf(16777216);N=oe.prototype;N.ea=function(){if(zt(this))return-qe(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:dd+r)*e,e*=dd}return t};N.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(xn(this))return"0";if(zt(this))return"-"+qe(this).toString(t);for(var e=mn(Math.pow(t,6)),n=this,r="";;){var i=jl(n,e).g;n=Fl(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,xn(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function xn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function zt(t){return t.h==-1}N.X=function(t){return t=Fl(this,t),zt(t)?-1:xn(t)?0:1};function qe(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new oe(n,~t.h).add(fd)}N.abs=function(){return zt(this)?qe(this):this};N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new oe(n,n[n.length-1]&-2147483648?-1:0)};function Fl(t,e){return t.add(qe(e))}N.R=function(t){if(xn(this)||xn(t))return zi;if(zt(this))return zt(t)?qe(this).R(qe(t)):qe(qe(this).R(t));if(zt(t))return qe(this.R(qe(t)));if(0>this.X(Cg)&&0>t.X(Cg))return mn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,Na(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Na(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Na(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Na(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new oe(n,0)};function Na(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function xo(t,e){this.g=t,this.h=e}function jl(t,e){if(xn(e))throw Error("division by zero");if(xn(t))return new xo(zi,zi);if(zt(t))return e=jl(qe(t),e),new xo(qe(e.g),qe(e.h));if(zt(e))return e=jl(t,qe(e)),new xo(qe(e.g),e.h);if(30<t.g.length){if(zt(t)||zt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=fd,r=e;0>=r.X(t);)n=Rg(n),r=Rg(r);var i=vi(n,1),o=vi(r,1);for(r=vi(r,2),n=vi(n,2);!xn(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=vi(r,1),n=vi(n,1)}return e=Fl(t,i.R(e)),new xo(i,e)}for(i=zi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=mn(n),s=o.R(e);zt(s)||0<s.X(t);)n-=r,o=mn(n),s=o.R(e);xn(o)&&(o=fd),i=i.add(o),t=Fl(t,s)}return new xo(i,t)}N.gb=function(t){return jl(this,t).h};N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new oe(n,this.h&t.h)};N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new oe(n,this.h|t.h)};N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new oe(n,this.h^t.h)};function Rg(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new oe(n,t.h)}function vi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new oe(i,t.h)}$l.prototype.createWebChannel=$l.prototype.g;Lt.prototype.send=Lt.prototype.u;Lt.prototype.open=Lt.prototype.m;Lt.prototype.close=Lt.prototype.close;Su.NO_ERROR=0;Su.TIMEOUT=8;Su.HTTP_ERROR=6;o1.COMPLETE="complete";s1.EventType=Ks;Ks.OPEN="a";Ks.CLOSE="b";Ks.ERROR="c";Ks.MESSAGE="d";Be.prototype.listen=Be.prototype.O;Ce.prototype.listenOnce=Ce.prototype.P;Ce.prototype.getLastError=Ce.prototype.Sa;Ce.prototype.getLastErrorCode=Ce.prototype.Ia;Ce.prototype.getStatus=Ce.prototype.da;Ce.prototype.getResponseJson=Ce.prototype.Wa;Ce.prototype.getResponseText=Ce.prototype.ja;Ce.prototype.send=Ce.prototype.ha;Ce.prototype.setWithCredentials=Ce.prototype.Oa;sn.prototype.digest=sn.prototype.l;sn.prototype.reset=sn.prototype.reset;sn.prototype.update=sn.prototype.j;oe.prototype.add=oe.prototype.add;oe.prototype.multiply=oe.prototype.R;oe.prototype.modulo=oe.prototype.gb;oe.prototype.compare=oe.prototype.X;oe.prototype.toNumber=oe.prototype.ea;oe.prototype.toString=oe.prototype.toString;oe.prototype.getBits=oe.prototype.D;oe.fromNumber=mn;oe.fromString=B1;var mA=function(){return new $l},gA=function(){return Tu()},bc=Su,yA=o1,vA=li,kg={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Oa=s1,_A=Ce,EA=sn,Hi=oe;const Ag="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rt.UNAUTHENTICATED=new rt(null),rt.GOOGLE_CREDENTIALS=new rt("google-credentials-uid"),rt.FIRST_PARTY=new rt("first-party-uid"),rt.MOCK_USER=new rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go="10.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new V0("@firebase/firestore");function Po(){return ti.logLevel}function V(t,...e){if(ti.logLevel<=X.DEBUG){const n=e.map(ep);ti.debug(`Firestore (${go}): ${t}`,...n)}}function $n(t,...e){if(ti.logLevel<=X.ERROR){const n=e.map(ep);ti.error(`Firestore (${go}): ${t}`,...n)}}function eo(t,...e){if(ti.logLevel<=X.WARN){const n=e.map(ep);ti.warn(`Firestore (${go}): ${t}`,...n)}}function ep(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B(t="Unexpected state"){const e=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: `+t;throw $n(e),new Error(e)}function me(t,e){t||B()}function H(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends fo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(rt.UNAUTHENTICATED))}shutdown(){}}class TA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class SA{constructor(e){this.t=e,this.currentUser=rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Kr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Kr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(me(typeof r.accessToken=="string"),new U1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return me(e===null||typeof e=="string"),new rt(e)}}class IA{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=rt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class CA{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new IA(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,V("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(me(typeof n.token=="string"),this.R=n.token,new RA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=AA(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function ee(t,e){return t<e?-1:t>e?1:0}function to(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new M(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new M(C.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new M(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(C.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Le.fromMillis(Date.now())}static fromDate(e){return Le.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Le(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ee(this.nanoseconds,e.nanoseconds):ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new z(e)}static min(){return new z(new Le(0,0))}static max(){return new z(new Le(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n,r){n===void 0?n=0:n>e.length&&B(),r===void 0?r=e.length-n:r>e.length-n&&B(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Vs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class fe extends Vs{construct(e,n,r){return new fe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new M(C.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new fe(n)}static emptyPath(){return new fe([])}}const xA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Vs{construct(e,n,r){return new Ke(e,n,r)}static isValidIdentifier(e){return xA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ke(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new M(C.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new M(C.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new M(C.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new M(C.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ke(n)}static emptyPath(){return new Ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.path=e}static fromPath(e){return new F(fe.fromString(e))}static fromName(e){return new F(fe.fromString(e).popFirst(5))}static empty(){return new F(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new F(new fe(e.slice()))}}function PA(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=z.fromTimestamp(r===1e9?new Le(n+1,0):new Le(n,r));return new pr(i,F.empty(),e)}function DA(t){return new pr(t.readTime,t.key,-1)}class pr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new pr(z.min(),F.empty(),-1)}static max(){return new pr(z.max(),F.empty(),-1)}}function NA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=F.comparator(t.documentKey,e.documentKey),n!==0?n:ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zs(t){if(t.code!==C.FAILED_PRECONDITION||t.message!==OA)throw t;V("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&B(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new R((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof R?n:R.resolve(n)}catch(n){return R.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):R.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):R.reject(n)}static resolve(e){return new R((n,r)=>{n(e)})}static reject(e){return new R((n,r)=>{r(e)})}static waitFor(e){return new R((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=R.resolve(!1);for(const r of e)n=n.next(i=>i?R.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new R((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new R((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function ea(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}tp.ae=-1;function Nu(t){return t==null}function bl(t){return t===0&&1/t==-1/0}function MA(t){return typeof t=="number"&&Number.isInteger(t)&&!bl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ui(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function H1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e,n){this.comparator=e,this.root=n||We.EMPTY}insert(e,n){return new we(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,We.BLACK,null,null))}remove(e){return new we(this.comparator,this.root.remove(e,this.comparator).copy(null,null,We.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Va(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Va(this.root,e,this.comparator,!1)}getReverseIterator(){return new Va(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Va(this.root,e,this.comparator,!0)}}class Va{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class We{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??We.RED,this.left=i??We.EMPTY,this.right=o??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new We(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return We.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw B();const e=this.left.check();if(e!==this.right.check())throw B();return e+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw B()}get value(){throw B()}get color(){throw B()}get left(){throw B()}get right(){throw B()}copy(e,n,r,i,o){return this}insert(e,n,r){return new We(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.comparator=e,this.data=new we(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pg(this.data.getIterator())}getIteratorFrom(e){return new Pg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xe(this.comparator);return n.data=e,n}}class Pg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.fields=e,e.sort(Ke.comparator)}static empty(){return new Ot([])}unionWith(e){let n=new Xe(Ke.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ot(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new W1("Invalid base64 string: "+o):o}}(e);return new ut(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const LA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(t){if(me(!!t),typeof t=="string"){let e=0;const n=LA.exec(t);if(me(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pe(t.seconds),nanos:Pe(t.nanos)}}function Pe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ni(t){return typeof t=="string"?ut.fromBase64String(t):ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function np(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function rp(t){const e=t.mapValue.fields.__previous_value__;return np(e)?rp(e):e}function Ms(t){const e=mr(t.mapValue.fields.__local_write_time__.timestampValue);return new Le(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ls{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ls("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ls&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ri(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?np(t)?4:FA(t)?9007199254740991:10:B()}function En(t,e){if(t===e)return!0;const n=ri(t);if(n!==ri(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ms(t).isEqual(Ms(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=mr(i.timestampValue),a=mr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ni(i.bytesValue).isEqual(ni(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Pe(i.geoPointValue.latitude)===Pe(o.geoPointValue.latitude)&&Pe(i.geoPointValue.longitude)===Pe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Pe(i.integerValue)===Pe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Pe(i.doubleValue),a=Pe(o.doubleValue);return s===a?bl(s)===bl(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return to(t.arrayValue.values||[],e.arrayValue.values||[],En);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(xg(s)!==xg(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!En(s[l],a[l])))return!1;return!0}(t,e);default:return B()}}function $s(t,e){return(t.values||[]).find(n=>En(n,e))!==void 0}function no(t,e){if(t===e)return 0;const n=ri(t),r=ri(e);if(n!==r)return ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ee(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Pe(o.integerValue||o.doubleValue),l=Pe(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Dg(t.timestampValue,e.timestampValue);case 4:return Dg(Ms(t),Ms(e));case 5:return ee(t.stringValue,e.stringValue);case 6:return function(o,s){const a=ni(o),l=ni(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ee(a[u],l[u]);if(c!==0)return c}return ee(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ee(Pe(o.latitude),Pe(s.latitude));return a!==0?a:ee(Pe(o.longitude),Pe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=no(a[u],l[u]);if(c)return c}return ee(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Ma.mapValue&&s===Ma.mapValue)return 0;if(o===Ma.mapValue)return 1;if(s===Ma.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const d=ee(l[h],c[h]);if(d!==0)return d;const f=no(a[l[h]],u[c[h]]);if(f!==0)return f}return ee(l.length,c.length)}(t.mapValue,e.mapValue);default:throw B()}}function Dg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ee(t,e);const n=mr(t),r=mr(e),i=ee(n.seconds,r.seconds);return i!==0?i:ee(n.nanos,r.nanos)}function ro(t){return pd(t)}function pd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=mr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ni(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return F.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=pd(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${pd(n.fields[s])}`;return i+"}"}(t.mapValue):B()}function Ng(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function md(t){return!!t&&"integerValue"in t}function ip(t){return!!t&&"arrayValue"in t}function Og(t){return!!t&&"nullValue"in t}function Vg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xa(t){return!!t&&"mapValue"in t}function Zo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ui(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Zo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function FA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.value=e}static empty(){return new It({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zo(n)}setAll(e){let n=Ke.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Zo(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Xa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return En(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xa(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ui(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new It(Zo(this.value))}}function q1(t){const e=[];return ui(t.fields,(n,r)=>{const i=new Ke([n]);if(Xa(r)){const o=q1(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Ot(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new ot(e,0,z.min(),z.min(),z.min(),It.empty(),0)}static newFoundDocument(e,n,r,i){return new ot(e,1,n,z.min(),r,i,0)}static newNoDocument(e,n){return new ot(e,2,n,z.min(),z.min(),It.empty(),0)}static newUnknownDocument(e,n){return new ot(e,3,n,z.min(),z.min(),It.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=It.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=It.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.position=e,this.inclusive=n}}function Mg(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=F.comparator(F.fromName(s.referenceValue),n.key):r=no(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Lg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!En(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n="asc"){this.field=e,this.dir=n}}function jA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{}class Ne extends Q1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new BA(e,n,r):n==="array-contains"?new HA(e,r):n==="in"?new WA(e,r):n==="not-in"?new qA(e,r):n==="array-contains-any"?new QA(e,r):new Ne(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new UA(e,r):new zA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(no(n,this.value)):n!==null&&ri(this.value)===ri(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return B()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class an extends Q1{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new an(e,n)}matches(e){return K1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function K1(t){return t.op==="and"}function G1(t){return bA(t)&&K1(t)}function bA(t){for(const e of t.filters)if(e instanceof an)return!1;return!0}function gd(t){if(t instanceof Ne)return t.field.canonicalString()+t.op.toString()+ro(t.value);if(G1(t))return t.filters.map(e=>gd(e)).join(",");{const e=t.filters.map(n=>gd(n)).join(",");return`${t.op}(${e})`}}function Y1(t,e){return t instanceof Ne?function(r,i){return i instanceof Ne&&r.op===i.op&&r.field.isEqual(i.field)&&En(r.value,i.value)}(t,e):t instanceof an?function(r,i){return i instanceof an&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Y1(s,i.filters[a]),!0):!1}(t,e):void B()}function X1(t){return t instanceof Ne?function(n){return`${n.field.canonicalString()} ${n.op} ${ro(n.value)}`}(t):t instanceof an?function(n){return n.op.toString()+" {"+n.getFilters().map(X1).join(" ,")+"}"}(t):"Filter"}class BA extends Ne{constructor(e,n,r){super(e,n,r),this.key=F.fromName(r.referenceValue)}matches(e){const n=F.comparator(e.key,this.key);return this.matchesComparison(n)}}class UA extends Ne{constructor(e,n){super(e,"in",n),this.keys=J1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zA extends Ne{constructor(e,n){super(e,"not-in",n),this.keys=J1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function J1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>F.fromName(r.referenceValue))}class HA extends Ne{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ip(n)&&$s(n.arrayValue,this.value)}}class WA extends Ne{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$s(this.value.arrayValue,n)}}class qA extends Ne{constructor(e,n){super(e,"not-in",n)}matches(e){if($s(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!$s(this.value.arrayValue,n)}}class QA extends Ne{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ip(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$s(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.le=null}}function $g(t,e=null,n=[],r=[],i=null,o=null,s=null){return new KA(t,e,n,r,i,o,s)}function op(t){const e=H(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>gd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Nu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ro(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ro(r)).join(",")),e.le=n}return e.le}function sp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Y1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Lg(t.startAt,e.startAt)&&Lg(t.endAt,e.endAt)}function yd(t){return F.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function GA(t,e,n,r,i,o,s,a){return new ta(t,e,n,r,i,o,s,a)}function ap(t){return new ta(t)}function Fg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Z1(t){return t.collectionGroup!==null}function es(t){const e=H(t);if(e.he===null){e.he=[];const n=new Set;for(const o of e.explicitOrderBy)e.he.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Xe(Ke.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.he.push(new Ul(o,r))}),n.has(Ke.keyField().canonicalString())||e.he.push(new Ul(Ke.keyField(),r))}return e.he}function vn(t){const e=H(t);return e.Pe||(e.Pe=YA(e,es(t))),e.Pe}function YA(t,e){if(t.limitType==="F")return $g(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Ul(i.field,o)});const n=t.endAt?new Bl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bl(t.startAt.position,t.startAt.inclusive):null;return $g(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function vd(t,e){const n=t.filters.concat([e]);return new ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function _d(t,e,n){return new ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function na(t,e){return sp(vn(t),vn(e))&&t.limitType===e.limitType}function eE(t){return`${op(vn(t))}|lt:${t.limitType}`}function _i(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>X1(i)).join(", ")}]`),Nu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ro(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ro(i)).join(",")),`Target(${r})`}(vn(t))}; limitType=${t.limitType})`}function Ou(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):F.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of es(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=Mg(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,es(r),i)||r.endAt&&!function(s,a,l){const u=Mg(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,es(r),i))}(t,e)}function XA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tE(t){return(e,n)=>{let r=!1;for(const i of es(t)){const o=JA(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function JA(t,e,n){const r=t.field.isKeyField()?F.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?no(l,u):B()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return B()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ui(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return H1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=new we(F.comparator);function Fn(){return ZA}const nE=new we(F.comparator);function jo(...t){let e=nE;for(const n of t)e=e.insert(n.key,n);return e}function rE(t){let e=nE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zr(){return ts()}function iE(){return ts()}function ts(){return new yo(t=>t.toString(),(t,e)=>t.isEqual(e))}const ex=new we(F.comparator),tx=new Xe(F.comparator);function Q(...t){let e=tx;for(const n of t)e=e.add(n);return e}const nx=new Xe(ee);function rx(){return nx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bl(e)?"-0":e}}function sE(t){return{integerValue:""+t}}function ix(t,e){return MA(e)?sE(e):oE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(){this._=void 0}}function ox(t,e,n){return t instanceof zl?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&np(o)&&(o=rp(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Fs?lE(t,e):t instanceof js?uE(t,e):function(i,o){const s=aE(i,o),a=jg(s)+jg(i.Te);return md(s)&&md(i.Te)?sE(a):oE(i.serializer,a)}(t,e)}function sx(t,e,n){return t instanceof Fs?lE(t,e):t instanceof js?uE(t,e):n}function aE(t,e){return t instanceof Hl?function(r){return md(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class zl extends Vu{}class Fs extends Vu{constructor(e){super(),this.elements=e}}function lE(t,e){const n=cE(e);for(const r of t.elements)n.some(i=>En(i,r))||n.push(r);return{arrayValue:{values:n}}}class js extends Vu{constructor(e){super(),this.elements=e}}function uE(t,e){let n=cE(e);for(const r of t.elements)n=n.filter(i=>!En(i,r));return{arrayValue:{values:n}}}class Hl extends Vu{constructor(e,n){super(),this.serializer=e,this.Te=n}}function jg(t){return Pe(t.integerValue||t.doubleValue)}function cE(t){return ip(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ax(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Fs&&i instanceof Fs||r instanceof js&&i instanceof js?to(r.elements,i.elements,En):r instanceof Hl&&i instanceof Hl?En(r.Te,i.Te):r instanceof zl&&i instanceof zl}(t.transform,e.transform)}class lx{constructor(e,n){this.version=e,this.transformResults=n}}class rn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rn}static exists(e){return new rn(void 0,e)}static updateTime(e){return new rn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ja(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Mu{}function hE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new lp(t.key,rn.none()):new ra(t.key,t.data,rn.none());{const n=t.data,r=It.empty();let i=new Xe(Ke.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Sr(t.key,r,new Ot(i.toArray()),rn.none())}}function ux(t,e,n){t instanceof ra?function(i,o,s){const a=i.value.clone(),l=Bg(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Sr?function(i,o,s){if(!Ja(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Bg(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(dE(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ns(t,e,n,r){return t instanceof ra?function(o,s,a,l){if(!Ja(o.precondition,s))return a;const u=o.value.clone(),c=Ug(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Sr?function(o,s,a,l){if(!Ja(o.precondition,s))return a;const u=Ug(o.fieldTransforms,l,s),c=s.data;return c.setAll(dE(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return Ja(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function cx(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=aE(r.transform,i||null);o!=null&&(n===null&&(n=It.empty()),n.set(r.field,o))}return n||null}function bg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&to(r,i,(o,s)=>ax(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ra extends Mu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Sr extends Mu{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function dE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Bg(t,e,n){const r=new Map;me(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,sx(s,a,n[i]))}return r}function Ug(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,ox(o,s,e))}return r}class lp extends Mu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hx extends Mu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&ux(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ns(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ns(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iE();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=hE(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Q())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(n,r)=>bg(n,r))&&to(this.baseMutations,e.baseMutations,(n,r)=>bg(n,r))}}class up{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){me(e.mutations.length===r.length);let i=function(){return ex}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new up(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,Y;function mx(t){switch(t){default:return B();case C.CANCELLED:case C.UNKNOWN:case C.DEADLINE_EXCEEDED:case C.RESOURCE_EXHAUSTED:case C.INTERNAL:case C.UNAVAILABLE:case C.UNAUTHENTICATED:return!1;case C.INVALID_ARGUMENT:case C.NOT_FOUND:case C.ALREADY_EXISTS:case C.PERMISSION_DENIED:case C.FAILED_PRECONDITION:case C.ABORTED:case C.OUT_OF_RANGE:case C.UNIMPLEMENTED:case C.DATA_LOSS:return!0}}function fE(t){if(t===void 0)return $n("GRPC error has no .code"),C.UNKNOWN;switch(t){case xe.OK:return C.OK;case xe.CANCELLED:return C.CANCELLED;case xe.UNKNOWN:return C.UNKNOWN;case xe.DEADLINE_EXCEEDED:return C.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return C.RESOURCE_EXHAUSTED;case xe.INTERNAL:return C.INTERNAL;case xe.UNAVAILABLE:return C.UNAVAILABLE;case xe.UNAUTHENTICATED:return C.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return C.INVALID_ARGUMENT;case xe.NOT_FOUND:return C.NOT_FOUND;case xe.ALREADY_EXISTS:return C.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return C.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return C.FAILED_PRECONDITION;case xe.ABORTED:return C.ABORTED;case xe.OUT_OF_RANGE:return C.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return C.UNIMPLEMENTED;case xe.DATA_LOSS:return C.DATA_LOSS;default:return B()}}(Y=xe||(xe={}))[Y.OK=0]="OK",Y[Y.CANCELLED=1]="CANCELLED",Y[Y.UNKNOWN=2]="UNKNOWN",Y[Y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Y[Y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Y[Y.NOT_FOUND=5]="NOT_FOUND",Y[Y.ALREADY_EXISTS=6]="ALREADY_EXISTS",Y[Y.PERMISSION_DENIED=7]="PERMISSION_DENIED",Y[Y.UNAUTHENTICATED=16]="UNAUTHENTICATED",Y[Y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Y[Y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Y[Y.ABORTED=10]="ABORTED",Y[Y.OUT_OF_RANGE=11]="OUT_OF_RANGE",Y[Y.UNIMPLEMENTED=12]="UNIMPLEMENTED",Y[Y.INTERNAL=13]="INTERNAL",Y[Y.UNAVAILABLE=14]="UNAVAILABLE",Y[Y.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=new Hi([4294967295,4294967295],0);function zg(t){const e=gx().encode(t),n=new EA;return n.update(e),new Uint8Array(n.digest())}function Hg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Hi([n,r],0),new Hi([i,o],0)]}class cp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bo(`Invalid padding: ${n}`);if(r<0)throw new bo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bo(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Hi.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(Hi.fromNumber(r)));return i.compare(yx)===1&&(i=new Hi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ee===0)return!1;const n=zg(e),[r,i]=Hg(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);if(!this.Re(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new cp(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ee===0)return;const n=zg(e),[r,i]=Hg(n);for(let o=0;o<this.hashCount;o++){const s=this.Ae(r,i,o);this.Ve(s)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class bo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ia.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lu(z.min(),i,new we(ee),Fn(),Q())}}class ia{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ia(r,n,Q(),Q(),Q())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class pE{constructor(e,n){this.targetId=e,this.ge=n}}class mE{constructor(e,n,r=ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Wg{constructor(){this.pe=0,this.ye=Qg(),this.we=ut.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get Ce(){return this.be}ve(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Q(),n=Q(),r=Q();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:B()}}),new ia(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=Qg()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1}Le(){this.be=!0,this.Se=!0}}class vx{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Fn(),this.Ke=qg(),this.$e=new we(ee)}Ue(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.We(n,e.fe):this.Ge(n,e.key,e.fe);for(const n of e.removedTargetIds)this.Ge(n,e.key,e.fe)}ze(e){this.forEachTarget(e,n=>{const r=this.je(n);switch(e.state){case 0:this.He(n)&&r.ve(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.ve(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.He(n)&&(r.Le(),r.ve(e.resumeToken));break;case 4:this.He(n)&&(this.Je(n),r.ve(e.resumeToken));break;default:B()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.He(i)&&n(i)})}Ye(e){const n=e.targetId,r=e.ge.count,i=this.Ze(n);if(i){const o=i.target;if(yd(o))if(r===0){const s=new F(o.path);this.Ge(n,s,ot.newNoDocument(s,z.min()))}else me(r===1);else{const s=this.Xe(n);if(s!==r){const a=this.et(e),l=a?this.tt(a,e,s):1;if(l!==0){this.Je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.$e=this.$e.insert(n,u)}}}}}et(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=ni(r).toUint8Array()}catch(l){if(l instanceof W1)return eo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new cp(s,i,o)}catch(l){return eo(l instanceof bo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}tt(e,n,r){return n.ge.count===r-this.it(e,n.targetId)?0:2}it(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.ke.rt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ge(n,o,null),i++)}),i}st(e){const n=new Map;this.qe.forEach((o,s)=>{const a=this.Ze(s);if(a){if(o.current&&yd(a.target)){const l=new F(a.target.path);this.Qe.get(l)!==null||this.ot(s,l)||this.Ge(s,l,ot.newNoDocument(l,e))}o.Ce&&(n.set(s,o.Fe()),o.Me())}});let r=Q();this.Ke.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ze(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.Qe.forEach((o,s)=>s.setReadTime(e));const i=new Lu(e,n,this.$e,this.Qe,r);return this.Qe=Fn(),this.Ke=qg(),this.$e=new we(ee),i}We(e,n){if(!this.He(e))return;const r=this.ot(e,n.key)?2:0;this.je(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.Ke=this.Ke.insert(n.key,this._t(n.key).add(e))}Ge(e,n,r){if(!this.He(e))return;const i=this.je(e);this.ot(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this._t(n).delete(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}Xe(e){const n=this.je(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.je(e).Ne()}je(e){let n=this.qe.get(e);return n||(n=new Wg,this.qe.set(e,n)),n}_t(e){let n=this.Ke.get(e);return n||(n=new Xe(ee),this.Ke=this.Ke.insert(e,n)),n}He(e){const n=this.Ze(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}Ze(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.ut(e)}Je(e){this.qe.set(e,new Wg),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.Ge(e,n,null)})}ot(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function qg(){return new we(F.comparator)}function Qg(){return new we(F.comparator)}const _x={asc:"ASCENDING",desc:"DESCENDING"},Ex={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wx={and:"AND",or:"OR"};class Tx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ed(t,e){return t.useProto3Json||Nu(e)?e:{value:e}}function Wl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Sx(t,e){return Wl(t,e.toTimestamp())}function _n(t){return me(!!t),z.fromTimestamp(function(n){const r=mr(n);return new Le(r.seconds,r.nanos)}(t))}function hp(t,e){return function(r){return new fe(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function yE(t){const e=fe.fromString(t);return me(wE(e)),e}function wd(t,e){return hp(t.databaseId,e.path)}function Bc(t,e){const n=yE(e);if(n.get(1)!==t.databaseId.projectId)throw new M(C.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new M(C.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new F(vE(n))}function Td(t,e){return hp(t.databaseId,e)}function Ix(t){const e=yE(t);return e.length===4?fe.emptyPath():vE(e)}function Sd(t){return new fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vE(t){return me(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Kg(t,e,n){return{name:wd(t,e),fields:n.value.mapValue.fields}}function Cx(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:B()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(me(c===void 0||typeof c=="string"),ut.fromBase64String(c||"")):(me(c===void 0||c instanceof Uint8Array),ut.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?C.UNKNOWN:fE(u.code);return new M(c,u.message||"")}(s);n=new mE(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Bc(t,r.document.name),o=_n(r.document.updateTime),s=r.document.createTime?_n(r.document.createTime):z.min(),a=new It({mapValue:{fields:r.document.fields}}),l=ot.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Za(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Bc(t,r.document),o=r.readTime?_n(r.readTime):z.min(),s=ot.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Za([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Bc(t,r.document),o=r.removedTargetIds||[];n=new Za([],o,i,null)}else{if(!("filter"in e))return B();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new px(i,o),a=r.targetId;n=new pE(a,s)}}return n}function Rx(t,e){let n;if(e instanceof ra)n={update:Kg(t,e.key,e.value)};else if(e instanceof lp)n={delete:wd(t,e.key)};else if(e instanceof Sr)n={update:Kg(t,e.key,e.data),updateMask:Mx(e.fieldMask)};else{if(!(e instanceof hx))return B();n={verify:wd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof zl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Fs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof js)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Hl)return{fieldPath:s.field.canonicalString(),increment:a.Te};throw B()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Sx(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:B()}(t,e.precondition)),n}function kx(t,e){return t&&t.length>0?(me(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?_n(i.updateTime):_n(o);return s.isEqual(z.min())&&(s=_n(o)),new lx(s,i.transformResults||[])}(n,e))):[]}function Ax(t,e){return{documents:[Td(t,e.path)]}}function xx(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Td(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Td(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return EE(an.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(u=>function(h){return{field:Ei(h.field),direction:Nx(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const s=Ed(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function Px(t){let e=Ix(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){me(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(h){const d=_E(h);return d instanceof an&&G1(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(d=>function(_){return new Ul(wi(_.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,Nu(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new Bl(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const d=!h.before,f=h.values||[];return new Bl(f,d)}(n.endAt)),GA(e,i,s,o,a,"F",l,u)}function Dx(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return B()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _E(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=wi(n.unaryFilter.field);return Ne.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=wi(n.unaryFilter.field);return Ne.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=wi(n.unaryFilter.field);return Ne.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=wi(n.unaryFilter.field);return Ne.create(s,"!=",{nullValue:"NULL_VALUE"});default:return B()}}(t):t.fieldFilter!==void 0?function(n){return Ne.create(wi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return B()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return an.create(n.compositeFilter.filters.map(r=>_E(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return B()}}(n.compositeFilter.op))}(t):B()}function Nx(t){return _x[t]}function Ox(t){return Ex[t]}function Vx(t){return wx[t]}function Ei(t){return{fieldPath:t.canonicalString()}}function wi(t){return Ke.fromServerFormat(t.fieldPath)}function EE(t){return t instanceof Ne?function(n){if(n.op==="=="){if(Vg(n.value))return{unaryFilter:{field:Ei(n.field),op:"IS_NAN"}};if(Og(n.value))return{unaryFilter:{field:Ei(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Vg(n.value))return{unaryFilter:{field:Ei(n.field),op:"IS_NOT_NAN"}};if(Og(n.value))return{unaryFilter:{field:Ei(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ei(n.field),op:Ox(n.op),value:n.value}}}(t):t instanceof an?function(n){const r=n.getFilters().map(i=>EE(i));return r.length===1?r[0]:{compositeFilter:{op:Vx(n.op),filters:r}}}(t):B()}function Mx(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function wE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,n,r,i,o=z.min(),s=z.min(),a=ut.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Xn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.ct=e}}function $x(t){const e=Px({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_d(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this._n=new jx}addToCollectionParentIndex(e,n){return this._n.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(pr.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(pr.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}}class jx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xe(fe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xe(fe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new io(0)}static Bn(){return new io(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(){this.changes=new yo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ns(r.mutation,i,Ot.empty(),Le.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Q()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Q()){const i=zr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=jo();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=zr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Q()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Fn();const s=ts(),a=function(){return ts()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Sr)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),ns(c.mutation,u,c.mutation.getFieldMask(),Le.now())):s.set(u.key,Ot.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new Bx(c,(h=s.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ts();let i=new we((s,a)=>s-a),o=Q();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Ot.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||Q()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=iE();c.forEach(d=>{if(!o.has(d)){const f=hE(n.get(d),r.get(d));f!==null&&h.set(d,f),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,h))}return R.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return F.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Z1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):R.resolve(zr());let a=-1,l=o;return s.next(u=>R.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(c)?R.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{l=l.insert(c,d)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Q())).next(c=>({batchId:a,changes:rE(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new F(n)).next(r=>{let i=jo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=jo();return this.indexManager.getCollectionParents(e,o).next(a=>R.forEach(a,l=>{const u=function(h,d){return new ta(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,d)=>{s=s.insert(h,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,ot.newInvalidDocument(c)))});let a=jo();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&ns(c.mutation,u,Ot.empty(),Le.now()),Ou(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return R.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:_n(i.createTime)}}(n)),R.resolve()}getNamedQuery(e,n){return R.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:$x(i.bundledQuery),readTime:_n(i.readTime)}}(n)),R.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this.overlays=new we(F.comparator),this.hr=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zr();return R.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),R.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){const i=zr(),o=n.length+1,s=new F(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return R.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new we((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=zr(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=zr(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return R.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new fx(n,r));let o=this.hr.get(n);o===void 0&&(o=Q(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(){this.Pr=new Xe(Fe.Ir),this.Tr=new Xe(Fe.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Fe(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Fe(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new F(new fe([])),r=new Fe(n,e),i=new Fe(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new F(new fe([])),r=new Fe(n,e),i=new Fe(n,e+1);let o=Q();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Fe(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Fe{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return F.comparator(e.key,n.key)||ee(e.pr,n.pr)}static Er(e,n){return ee(e.pr,n.pr)||F.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Xe(Fe.Ir)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new dx(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new Fe(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(s)}lookupMutationBatch(e,n){return R.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return R.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Fe(n,0),i=new Fe(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),R.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xe(ee);return n.forEach(i=>{const o=new Fe(i,0),s=new Fe(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),R.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;F.isDocumentKey(o)||(o=o.child(""));const s=new Fe(new F(o),0);let a=new Xe(ee);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),R.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){me(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return R.forEach(n.mutations,i=>{const o=new Fe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Fe(n,0),i=this.wr.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.vr=e,this.docs=function(){return new we(F.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():ot.newInvalidDocument(n))}getEntries(e,n){let r=Fn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ot.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Fn();const s=n.path,a=new F(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||NA(DA(c),r)<=0||(i.has(c.key)||Ou(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return R.resolve(o)}getAllFromCollectionGroup(e,n,r,i){B()}Fr(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Qx(this)}getSize(e){return R.resolve(this.size)}}class Qx extends bx{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.persistence=e,this.Mr=new yo(n=>op(n),sp),this.lastRemoteSnapshotVersion=z.min(),this.highestTargetId=0,this.Or=0,this.Nr=new dp,this.targetCount=0,this.Br=io.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),R.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new io(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.qn(n),R.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),R.waitFor(o).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),R.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),R.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n){this.Lr={},this.overlays={},this.kr=new tp(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Kx(this),this.indexManager=new Fx,this.remoteDocumentCache=function(i){return new qx(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Lx(n),this.$r=new zx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Hx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new Wx(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);const i=new Yx(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return R.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class Yx extends VA{constructor(e){super(),this.currentSequenceNumber=e}}class fp{constructor(e){this.persistence=e,this.zr=new dp,this.jr=null}static Hr(e){return new fp(e)}get Jr(){if(this.jr)return this.jr;throw B()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),R.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Jr,r=>{const i=F.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,z.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return R.or([()=>R.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Q(),i=Q();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new pp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=8}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Xx;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Po()<=X.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",_i(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),R.resolve()):(Po()<=X.DEBUG&&V("QueryEngine","Query:",_i(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Po()<=X.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",_i(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vn(n))):R.resolve())}ji(e,n){if(Fg(n))return R.resolve(null);let r=vn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=_d(n,null,"F"),r=vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Q(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,_d(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return Fg(n)||i.isEqual(z.min())?R.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?R.resolve(null):(Po()<=X.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_i(n)),this.es(e,s,n,PA(i,-1)).next(a=>a))})}Zi(e,n){let r=new Xe(tE(e));return n.forEach((i,o)=>{Ou(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return Po()<=X.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",_i(n)),this.zi.getDocumentsMatchingQuery(e,n,pr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new we(ee),this.rs=new yo(o=>op(o),sp),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ux(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function eP(t,e,n,r){return new Zx(t,e,n,r)}async function TE(t,e){const n=H(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Q();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}function tP(t,e){const n=H(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,d=h.keys();let f=R.resolve();return d.forEach(_=>{f=f.next(()=>c.getEntry(l,_)).next(E=>{const T=u.docVersions.get(_);me(T!==null),E.version.compareTo(T)<0&&(h.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),c.addEntry(E)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Q();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function SE(t){const e=H(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function nP(t,e){const n=H(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,h)=>{const d=i.get(h);if(!d)return;a.push(n.Qr.removeMatchingKeys(o,c.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(o,c.addedDocuments,h)));let f=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(ut.EMPTY_BYTE_STRING,z.min()).withLastLimboFreeSnapshotVersion(z.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(h,f),function(E,T,m){return E.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(d,f,c)&&a.push(n.Qr.updateTargetData(o,f))});let l=Fn(),u=Q();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(rP(o,s,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(z.min())){const c=n.Qr.getLastRemoteSnapshotVersion(o).next(h=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return R.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}function rP(t,e,n){let r=Q(),i=Q();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Fn();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(z.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function iP(t,e){const n=H(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function oP(t,e){const n=H(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,R.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Xn(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Id(t,e,n){const r=H(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ea(s))throw s;V("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Gg(t,e,n){const r=H(t);let i=z.min(),o=Q();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const h=H(l),d=h.rs.get(c);return d!==void 0?R.resolve(h.ns.get(d)):h.Qr.getTargetData(u,c)}(r,s,vn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:z.min(),n?o:Q())).next(a=>(sP(r,XA(e),a),{documents:a,hs:o})))}function sP(t,e,n){let r=t.ss.get(e)||z.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class Yg{constructor(){this.activeTargetIds=rx()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aP{constructor(){this.no=new Yg,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Yg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La=null;function Uc(){return La===null?La=function(){return 268435456+Math.round(2147483648*Math.random())}():La++,"0x"+La.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt="WebChannelConnection";class hP extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=Uc(),l=this.bo(n,r);V("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,l,u,i).then(c=>(V("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw eo("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+go}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){const i=uP[n];return`${this.fo}/v1/${r}:${i}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=Uc();return new Promise((s,a)=>{const l=new _A;l.setWithCredentials(!0),l.listenOnce(yA.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case bc.NO_ERROR:const c=l.getResponseJson();V(nt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case bc.TIMEOUT:V(nt,`RPC '${e}' ${o} timed out`),a(new M(C.DEADLINE_EXCEEDED,"Request time out"));break;case bc.HTTP_ERROR:const h=l.getStatus();if(V(nt,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const _=function(T){const m=T.toLowerCase().replace(/_/g,"-");return Object.values(C).indexOf(m)>=0?m:C.UNKNOWN}(f.status);a(new M(_,f.message))}else a(new M(C.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new M(C.UNAVAILABLE,"Connection failed."));break;default:B()}}finally{V(nt,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);V(nt,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=Uc(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=mA(),a=gA(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");V(nt,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=s.createWebChannel(c,l);let d=!1,f=!1;const _=new cP({lo:T=>{f?V(nt,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(d||(V(nt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),V(nt,`RPC '${e}' stream ${i} sending:`,T),h.send(T))},ho:()=>h.close()}),E=(T,m,p)=>{T.listen(m,y=>{try{p(y)}catch(w){setTimeout(()=>{throw w},0)}})};return E(h,Oa.EventType.OPEN,()=>{f||V(nt,`RPC '${e}' stream ${i} transport opened.`)}),E(h,Oa.EventType.CLOSE,()=>{f||(f=!0,V(nt,`RPC '${e}' stream ${i} transport closed`),_.Vo())}),E(h,Oa.EventType.ERROR,T=>{f||(f=!0,eo(nt,`RPC '${e}' stream ${i} transport errored:`,T),_.Vo(new M(C.UNAVAILABLE,"The operation could not be completed")))}),E(h,Oa.EventType.MESSAGE,T=>{var m;if(!f){const p=T.data[0];me(!!p);const y=p,w=y.error||((m=y[0])===null||m===void 0?void 0:m.error);if(w){V(nt,`RPC '${e}' stream ${i} received error:`,w);const I=w.status;let x=function(W){const L=xe[W];if(L!==void 0)return fE(L)}(I),P=w.message;x===void 0&&(x=C.INTERNAL,P="Unknown error status: "+I+" with message "+w.message),f=!0,_.Vo(new M(x,P)),h.close()}else V(nt,`RPC '${e}' stream ${i} received:`,p),_.mo(p)}}),E(a,vA.STAT_EVENT,T=>{T.stat===kg.PROXY?V(nt,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===kg.NOPROXY&&V(nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.Ro()},0),_}}function zc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $u(t){return new Tx(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new IE(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===C.RESOURCE_EXHAUSTED?($n(n.toString()),$n("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===C.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new M(C.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dP extends CE{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=Cx(this.serializer,e),r=function(o){if(!("targetChange"in o))return z.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?z.min():s.readTime?_n(s.readTime):z.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=Sd(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=yd(l)?{documents:Ax(o,l)}:{query:xx(o,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=gE(o,s.resumeToken);const u=Ed(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(z.min())>0){a.readTime=Wl(o,s.snapshotVersion.toTimestamp());const u=Ed(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Dx(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=Sd(this.serializer),n.removeTarget=e,this.t_(n)}}class fP extends CE{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=kx(e.writeResults,e.commitTime),r=_n(e.commitTime);return this.listener.T_(r,n)}return me(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Sd(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Rx(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new M(C.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,n,r,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new M(C.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.vo(e,n,r,o,s,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===C.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new M(C.UNKNOWN,o.toString())})}terminate(){this.A_=!0}}class mP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?($n(n),this.g_=!1):V("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(async()=>{ci(this)&&(V("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=H(l);u.v_.add(4),await oa(u),u.x_.set("Unknown"),u.v_.delete(4),await Fu(u)}(this))})}),this.x_=new mP(r,i)}}async function Fu(t){if(ci(t))for(const e of t.F_)await e(!0)}async function oa(t){for(const e of t.F_)await e(!1)}function RE(t,e){const n=H(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),yp(n)?gp(n):vo(n).Jo()&&mp(n,e))}function kE(t,e){const n=H(t),r=vo(n);n.C_.delete(e),r.Jo()&&AE(n,e),n.C_.size===0&&(r.Jo()?r.Xo():ci(n)&&n.x_.set("Unknown"))}function mp(t,e){if(t.O_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vo(t).c_(e)}function AE(t,e){t.O_.Ne(e),vo(t).l_(e)}function gp(t){t.O_=new vx({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.C_.get(e)||null,rt:()=>t.datastore.serializer.databaseId}),vo(t).start(),t.x_.p_()}function yp(t){return ci(t)&&!vo(t).Ho()&&t.C_.size>0}function ci(t){return H(t).v_.size===0}function xE(t){t.O_=void 0}async function yP(t){t.C_.forEach((e,n)=>{mp(t,e)})}async function vP(t,e){xE(t),yp(t)?(t.x_.S_(e),gp(t)):t.x_.set("Unknown")}async function _P(t,e,n){if(t.x_.set("Online"),e instanceof mE&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ql(t,r)}else if(e instanceof Za?t.O_.Ue(e):e instanceof pE?t.O_.Ye(e):t.O_.ze(e),!n.isEqual(z.min()))try{const r=await SE(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.O_.st(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.C_.get(u);c&&o.C_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.C_.get(l);if(!c)return;o.C_.set(l,c.withResumeToken(ut.EMPTY_BYTE_STRING,c.snapshotVersion)),AE(o,l);const h=new Xn(c.target,l,u,c.sequenceNumber);mp(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){V("RemoteStore","Failed to raise snapshot:",r),await ql(t,r)}}async function ql(t,e,n){if(!ea(e))throw e;t.v_.add(1),await oa(t),t.x_.set("Offline"),n||(n=()=>SE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{V("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Fu(t)})}function PE(t,e){return e().catch(n=>ql(t,n,e))}async function ju(t){const e=H(t),n=gr(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;EP(e);)try{const i=await iP(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,wP(e,i)}catch(i){await ql(e,i)}DE(e)&&NE(e)}function EP(t){return ci(t)&&t.D_.length<10}function wP(t,e){t.D_.push(e);const n=gr(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function DE(t){return ci(t)&&!gr(t).Ho()&&t.D_.length>0}function NE(t){gr(t).start()}async function TP(t){gr(t).d_()}async function SP(t){const e=gr(t);for(const n of t.D_)e.I_(n.mutations)}async function IP(t,e,n){const r=t.D_.shift(),i=up.from(r,e,n);await PE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ju(t)}async function CP(t,e){e&&gr(t).P_&&await async function(r,i){if(function(s){return mx(s)&&s!==C.ABORTED}(i.code)){const o=r.D_.shift();gr(r).Zo(),await PE(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ju(r)}}(t,e),DE(t)&&NE(t)}async function Jg(t,e){const n=H(t);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");const r=ci(n);n.v_.add(3),await oa(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Fu(n)}async function RP(t,e){const n=H(t);e?(n.v_.delete(2),await Fu(n)):e||(n.v_.add(2),await oa(n),n.x_.set("Unknown"))}function vo(t){return t.N_||(t.N_=function(n,r,i){const o=H(n);return o.R_(),new dP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:yP.bind(null,t),To:vP.bind(null,t),u_:_P.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),yp(t)?gp(t):t.x_.set("Unknown")):(await t.N_.stop(),xE(t))})),t.N_}function gr(t){return t.B_||(t.B_=function(n,r,i){const o=H(n);return o.R_(),new fP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:TP.bind(null,t),To:CP.bind(null,t),E_:SP.bind(null,t),T_:IP.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await ju(t)):(await t.B_.stop(),t.D_.length>0&&(V("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new vp(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new M(C.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _p(t,e){if($n("AsyncQueue",`${e}: ${t}`),ea(t))return new M(C.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||F.comparator(n.key,r.key):(n,r)=>F.comparator(n.key,r.key),this.keyedMap=jo(),this.sortedSet=new we(this.comparator)}static emptySet(e){return new Wi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(){this.L_=new we(F.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):B():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class oo{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new oo(e,n,Wi.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&na(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.q_=void 0,this.listeners=[]}}class AP{constructor(){this.queries=new yo(e=>eE(e),na),this.onlineState="Unknown",this.Q_=new Set}}async function xP(t,e){const n=H(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new kP),i)try{o.q_=await n.onListen(r)}catch(s){const a=_p(s,`Initialization of query '${_i(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.listeners.push(e),e.K_(n.onlineState),o.q_&&e.U_(o.q_)&&Ep(n)}async function PP(t,e){const n=H(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),i=o.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function DP(t,e){const n=H(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.listeners)a.U_(i)&&(r=!0);s.q_=i}}r&&Ep(n)}function NP(t,e,n){const r=H(t),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(e)}function Ep(t){t.Q_.forEach(e=>{e.next()})}class OP{constructor(e,n,r){this.query=e,this.W_=n,this.G_=!1,this.z_=null,this.onlineState="Unknown",this.options=r||{}}U_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new oo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.G_?this.j_(e)&&(this.W_.next(e),n=!0):this.H_(e,this.onlineState)&&(this.J_(e),n=!0),this.z_=e,n}onError(e){this.W_.error(e)}K_(e){this.onlineState=e;let n=!1;return this.z_&&!this.G_&&this.H_(this.z_,e)&&(this.J_(this.z_),n=!0),n}H_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Y_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}j_(e){if(e.docChanges.length>0)return!0;const n=this.z_&&this.z_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}J_(e){e=oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.G_=!0,this.W_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e){this.key=e}}class VE{constructor(e){this.key=e}}class VP{constructor(e,n){this.query=e,this.sa=n,this.oa=null,this.hasCachedResults=!1,this.current=!1,this._a=Q(),this.mutatedKeys=Q(),this.aa=tE(e),this.ua=new Wi(this.aa)}get ca(){return this.sa}la(e,n){const r=n?n.ha:new Zg,i=n?n.ua:this.ua;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const d=i.get(c),f=Ou(this.query,h)?h:null,_=!!d&&this.mutatedKeys.has(d.key),E=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let T=!1;d&&f?d.data.isEqual(f.data)?_!==E&&(r.track({type:3,doc:f}),T=!0):this.Pa(d,f)||(r.track({type:2,doc:f}),T=!0,(l&&this.aa(f,l)>0||u&&this.aa(f,u)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),T=!0):d&&!f&&(r.track({type:1,doc:d}),T=!0,(l||u)&&(a=!0)),T&&(f?(s=s.add(f),o=E?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ua:s,ha:r,Xi:a,mutatedKeys:o}}Pa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ua;this.ua=e.ua,this.mutatedKeys=e.mutatedKeys;const o=e.ha.k_();o.sort((u,c)=>function(d,f){const _=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return B()}};return _(d)-_(f)}(u.type,c.type)||this.aa(u.doc,c.doc)),this.Ia(r);const s=n?this.Ta():[],a=this._a.size===0&&this.current?1:0,l=a!==this.oa;return this.oa=a,o.length!==0||l?{snapshot:new oo(this.query,e.ua,i,o,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ea:s}:{Ea:s}}K_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ua:this.ua,ha:new Zg,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Ea:[]}}da(e){return!this.sa.has(e)&&!!this.ua.has(e)&&!this.ua.get(e).hasLocalMutations}Ia(e){e&&(e.addedDocuments.forEach(n=>this.sa=this.sa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.sa=this.sa.delete(n)),this.current=e.current)}Ta(){if(!this.current)return[];const e=this._a;this._a=Q(),this.ua.forEach(r=>{this.da(r.key)&&(this._a=this._a.add(r.key))});const n=[];return e.forEach(r=>{this._a.has(r)||n.push(new VE(r))}),this._a.forEach(r=>{e.has(r)||n.push(new OE(r))}),n}Aa(e){this.sa=e.hs,this._a=Q();const n=this.la(e.documents);return this.applyChanges(n,!0)}Ra(){return oo.fromInitialDocuments(this.query,this.ua,this.mutatedKeys,this.oa===0,this.hasCachedResults)}}class MP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class LP{constructor(e){this.key=e,this.Va=!1}}class $P{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.ma={},this.fa=new yo(a=>eE(a),na),this.ga=new Map,this.pa=new Set,this.ya=new we(F.comparator),this.wa=new Map,this.Sa=new dp,this.ba={},this.Da=new Map,this.Ca=io.Bn(),this.onlineState="Unknown",this.va=void 0}get isPrimaryClient(){return this.va===!0}}async function FP(t,e){const n=KP(t);let r,i;const o=n.fa.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ra();else{const s=await oP(n.localStore,vn(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await jP(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&RE(n.remoteStore,s)}return i}async function jP(t,e,n,r,i){t.Fa=(h,d,f)=>async function(E,T,m,p){let y=T.view.la(m);y.Xi&&(y=await Gg(E.localStore,T.query,!1).then(({documents:x})=>T.view.la(x,y)));const w=p&&p.targetChanges.get(T.targetId),I=T.view.applyChanges(y,E.isPrimaryClient,w);return ty(E,T.targetId,I.Ea),I.snapshot}(t,h,d,f);const o=await Gg(t.localStore,e,!0),s=new VP(e,o.hs),a=s.la(o.documents),l=ia.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);ty(t,n,u.Ea);const c=new MP(e,n,s);return t.fa.set(e,c),t.ga.has(n)?t.ga.get(n).push(e):t.ga.set(n,[e]),u.snapshot}async function bP(t,e){const n=H(t),r=n.fa.get(e),i=n.ga.get(r.targetId);if(i.length>1)return n.ga.set(r.targetId,i.filter(o=>!na(o,e))),void n.fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Id(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),kE(n.remoteStore,r.targetId),Cd(n,r.targetId)}).catch(Zs)):(Cd(n,r.targetId),await Id(n.localStore,r.targetId,!0))}async function BP(t,e,n){const r=GP(t);try{const i=await function(s,a){const l=H(s),u=Le.now(),c=a.reduce((f,_)=>f.add(_.key),Q());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let _=Fn(),E=Q();return l.os.getEntries(f,c).next(T=>{_=T,_.forEach((m,p)=>{p.isValidDocument()||(E=E.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,_)).next(T=>{h=T;const m=[];for(const p of a){const y=cx(p,h.get(p.key).overlayedDocument);y!=null&&m.push(new Sr(p.key,y,q1(y.value.mapValue),rn.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,m,a)}).next(T=>{d=T;const m=T.applyToLocalDocumentSet(h,E);return l.documentOverlayCache.saveOverlays(f,T.batchId,m)})}).then(()=>({batchId:d.batchId,changes:rE(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.ba[s.currentUser.toKey()];u||(u=new we(ee)),u=u.insert(a,l),s.ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await sa(r,i.changes),await ju(r.remoteStore)}catch(i){const o=_p(i,"Failed to persist write");n.reject(o)}}async function ME(t,e){const n=H(t);try{const r=await nP(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.wa.get(o);s&&(me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Va=!0:i.modifiedDocuments.size>0?me(s.Va):i.removedDocuments.size>0&&(me(s.Va),s.Va=!1))}),await sa(n,r,e)}catch(r){await Zs(r)}}function ey(t,e,n){const r=H(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.fa.forEach((o,s)=>{const a=s.view.K_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=H(s);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const d of h.listeners)d.K_(a)&&(u=!0)}),u&&Ep(l)}(r.eventManager,e),i.length&&r.ma.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UP(t,e,n){const r=H(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.wa.get(e),o=i&&i.key;if(o){let s=new we(F.comparator);s=s.insert(o,ot.newNoDocument(o,z.min()));const a=Q().add(o),l=new Lu(z.min(),new Map,new we(ee),s,a);await ME(r,l),r.ya=r.ya.remove(o),r.wa.delete(e),wp(r)}else await Id(r.localStore,e,!1).then(()=>Cd(r,e,n)).catch(Zs)}async function zP(t,e){const n=H(t),r=e.batch.batchId;try{const i=await tP(n.localStore,e);$E(n,r,null),LE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sa(n,i)}catch(i){await Zs(i)}}async function HP(t,e,n){const r=H(t);try{const i=await function(s,a){const l=H(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(me(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);$E(r,e,n),LE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await sa(r,i)}catch(i){await Zs(i)}}function LE(t,e){(t.Da.get(e)||[]).forEach(n=>{n.resolve()}),t.Da.delete(e)}function $E(t,e,n){const r=H(t);let i=r.ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.ba[r.currentUser.toKey()]=i}}function Cd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ga.get(e))t.fa.delete(r),n&&t.ma.Ma(r,n);t.ga.delete(e),t.isPrimaryClient&&t.Sa.Vr(e).forEach(r=>{t.Sa.containsKey(r)||FE(t,r)})}function FE(t,e){t.pa.delete(e.path.canonicalString());const n=t.ya.get(e);n!==null&&(kE(t.remoteStore,n),t.ya=t.ya.remove(e),t.wa.delete(n),wp(t))}function ty(t,e,n){for(const r of n)r instanceof OE?(t.Sa.addReference(r.key,e),WP(t,r)):r instanceof VE?(V("SyncEngine","Document no longer in limbo: "+r.key),t.Sa.removeReference(r.key,e),t.Sa.containsKey(r.key)||FE(t,r.key)):B()}function WP(t,e){const n=e.key,r=n.path.canonicalString();t.ya.get(n)||t.pa.has(r)||(V("SyncEngine","New document in limbo: "+n),t.pa.add(r),wp(t))}function wp(t){for(;t.pa.size>0&&t.ya.size<t.maxConcurrentLimboResolutions;){const e=t.pa.values().next().value;t.pa.delete(e);const n=new F(fe.fromString(e)),r=t.Ca.next();t.wa.set(r,new LP(n)),t.ya=t.ya.insert(n,r),RE(t.remoteStore,new Xn(vn(ap(n.path)),r,"TargetPurposeLimboResolution",tp.ae))}}async function sa(t,e,n){const r=H(t),i=[],o=[],s=[];r.fa.isEmpty()||(r.fa.forEach((a,l)=>{s.push(r.Fa(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=pp.Ki(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.ma.u_(i),await async function(l,u){const c=H(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>R.forEach(u,d=>R.forEach(d.qi,f=>c.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>R.forEach(d.Qi,f=>c.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!ea(h))throw h;V("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const d=h.targetId;if(!h.fromCache){const f=c.ns.get(d),_=f.snapshotVersion,E=f.withLastLimboFreeSnapshotVersion(_);c.ns=c.ns.insert(d,E)}}}(r.localStore,o))}async function qP(t,e){const n=H(t);if(!n.currentUser.isEqual(e)){V("SyncEngine","User change. New user:",e.toKey());const r=await TE(n.localStore,e);n.currentUser=e,function(o,s){o.Da.forEach(a=>{a.forEach(l=>{l.reject(new M(C.CANCELLED,s))})}),o.Da.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sa(n,r.us)}}function QP(t,e){const n=H(t),r=n.wa.get(e);if(r&&r.Va)return Q().add(r.key);{let i=Q();const o=n.ga.get(e);if(!o)return i;for(const s of o){const a=n.fa.get(s);i=i.unionWith(a.view.ca)}return i}}function KP(t){const e=H(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ME.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UP.bind(null,e),e.ma.u_=DP.bind(null,e.eventManager),e.ma.Ma=NP.bind(null,e.eventManager),e}function GP(t){const e=H(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HP.bind(null,e),e}class ny{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=$u(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return eP(this.persistence,new Jx,e.initialUser,this.serializer)}createPersistence(e){return new Gx(fp.Hr,this.serializer)}createSharedClientState(e){return new aP}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class YP{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ey(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=qP.bind(null,this.syncEngine),await RP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AP}()}createDatastore(e){const n=$u(e.databaseInfo.databaseId),r=function(o){return new hP(o)}(e.databaseInfo);return function(o,s,a,l){return new pP(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new gP(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ey(this.syncEngine,n,0),function(){return Xg.C()?new Xg:new lP}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const h=new $P(i,o,s,a,l,u);return c&&(h.va=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=H(n);V("RemoteStore","RemoteStore shutting down."),r.v_.add(5),await oa(r),r.M_.shutdown(),r.x_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Na(this.observer.next,e)}error(e){this.observer.error?this.Na(this.observer.error,e):$n("Uncaught Error in snapshot listener:",e.toString())}Ba(){this.muted=!0}Na(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=rt.UNAUTHENTICATED,this.clientId=z1.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{V("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(V("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(C.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=_p(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hc(t,e){t.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await TE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ry(t,e){t.asyncQueue.verifyOperationInProgress();const n=await e2(t);V("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Jg(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>Jg(e.remoteStore,o)),t._onlineComponents=e}function ZP(t){return t.name==="FirebaseError"?t.code===C.FAILED_PRECONDITION||t.code===C.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function e2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!ZP(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await Hc(t,new ny)}}else V("FirestoreClient","Using default OfflineComponentProvider"),await Hc(t,new ny);return t._offlineComponents}async function jE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),await ry(t,t._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),await ry(t,new YP))),t._onlineComponents}function t2(t){return jE(t).then(e=>e.syncEngine)}async function iy(t){const e=await jE(t),n=e.eventManager;return n.onListen=FP.bind(null,e.syncEngine),n.onUnlisten=bP.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t,e,n){if(!n)throw new M(C.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function n2(t,e,n,r){if(e===!0&&r===!0)throw new M(C.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sy(t){if(!F.isDocumentKey(t))throw new M(C.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ay(t){if(F.isDocumentKey(t))throw new M(C.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":B()}function cr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new M(C.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bu(t);throw new M(C.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new M(C.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new M(C.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new M(C.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new M(C.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new M(C.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ly({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(C.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new M(C.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ly(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wA;switch(r.type){case"firstParty":return new CA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new M(C.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=oy.get(n);r&&(V("ComponentProvider","Removing Datastore"),oy.delete(n),r.terminate())}(this),Promise.resolve()}}function r2(t,e,n,r={}){var i;const o=(t=cr(t,Bu))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=rt.MOCK_USER;else{a=tR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new M(C.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new rt(u)}t._authCredentials=new TA(new U1(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yr(this.firestore,e,this._query)}}class Pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pt(this.firestore,e,this._key)}}class hr extends yr{constructor(e,n,r){super(e,n,ap(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new F(e))}withConverter(e){return new hr(this.firestore,e,this._path)}}function i2(t,e,...n){if(t=Kt(t),BE("collection","path",e),t instanceof Bu){const r=fe.fromString(e,...n);return ay(r),new hr(t,null,r)}{if(!(t instanceof Pt||t instanceof hr))throw new M(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return ay(r),new hr(t.firestore,null,r)}}function o2(t,e,...n){if(t=Kt(t),arguments.length===1&&(e=z1.V()),BE("doc","path",e),t instanceof Bu){const r=fe.fromString(e,...n);return sy(r),new Pt(t,null,new F(r))}{if(!(t instanceof Pt||t instanceof hr))throw new M(C.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(fe.fromString(e,...n));return sy(r),new Pt(t.firestore,t instanceof hr?t.converter:null,new F(r))}}function s2(t,e){return t=Kt(t),e=Kt(e),t instanceof yr&&e instanceof yr&&t.firestore===e.firestore&&na(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(){this.Ya=Promise.resolve(),this.Za=[],this.Xa=!1,this.eu=[],this.tu=null,this.nu=!1,this.ru=!1,this.iu=[],this.jo=new IE(this,"async_queue_retry"),this.su=()=>{const n=zc();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=zc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.su)}get isShuttingDown(){return this.Xa}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ou(),this._u(e)}enterRestrictedMode(e){if(!this.Xa){this.Xa=!0,this.ru=e||!1;const n=zc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.su)}}enqueue(e){if(this.ou(),this.Xa)return new Promise(()=>{});const n=new Kr;return this._u(()=>this.Xa&&this.ru?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Za.push(e),this.au()))}async au(){if(this.Za.length!==0){try{await this.Za[0](),this.Za.shift(),this.jo.reset()}catch(e){if(!ea(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.Za.length>0&&this.jo.qo(()=>this.au())}}_u(e){const n=this.Ya.then(()=>(this.nu=!0,e().catch(r=>{this.tu=r,this.nu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw $n("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.nu=!1,r))));return this.Ya=n,n}enqueueAfterDelay(e,n,r){this.ou(),this.iu.indexOf(e)>-1&&(n=0);const i=vp.createAndSchedule(this,e,n,r,o=>this.uu(o));return this.eu.push(i),i}ou(){this.tu&&B()}verifyOperationInProgress(){}async cu(){let e;do e=this.Ya,await e;while(e!==this.Ya)}lu(e){for(const n of this.eu)if(n.timerId===e)return!0;return!1}hu(e){return this.cu().then(()=>{this.eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.cu()})}Pu(e){this.iu.push(e)}uu(e){const n=this.eu.indexOf(e);this.eu.splice(n,1)}}function uy(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class so extends Bu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new a2}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||zE(this),this._firestoreClient.terminate()}}function l2(t,e){const n=typeof t=="object"?t:ok(),r=typeof t=="string"?t:e||"(default)",i=tk(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=ZC("firestore");o&&r2(i,...o)}return i}function UE(t){return t._firestoreClient||zE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function zE(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new $A(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,bE(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new JP(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ao(ut.fromBase64String(e))}catch(n){throw new M(C.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ao(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new M(C.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new M(C.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new M(C.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ee(this._lat,e._lat)||ee(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=/^__.*__$/;class c2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Sr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ra(e,this.data,n,this.fieldTransforms)}}class HE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Sr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw B()}}class Sp{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Iu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Tu(){return this.settings.Tu}Eu(e){return new Sp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}du(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Au:!1});return i.Ru(e),i}Vu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Eu({path:r,Au:!1});return i.Iu(),i}mu(e){return this.Eu({path:void 0,Au:!0})}fu(e){return Ql(e,this.settings.methodName,this.settings.gu||!1,this.path,this.settings.pu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Iu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ru(this.path.get(e))}Ru(e){if(e.length===0)throw this.fu("Document fields must not be empty");if(WE(this.Tu)&&u2.test(e))throw this.fu('Document fields cannot begin and end with "__"')}}class h2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$u(e)}yu(e,n,r,i=!1){return new Sp({Tu:e,methodName:n,pu:r,path:Ke.emptyPath(),Au:!1,gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ip(t){const e=t._freezeSettings(),n=$u(t._databaseId);return new h2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function d2(t,e,n,r,i,o={}){const s=t.yu(o.merge||o.mergeFields?2:0,e,n,i);Cp("Data must be an object, but it was:",s,r);const a=qE(r,s);let l,u;if(o.merge)l=new Ot(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const h of o.mergeFields){const d=Rd(e,h,n);if(!s.contains(d))throw new M(C.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);KE(c,d)||c.push(d)}l=new Ot(c),u=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=s.fieldTransforms;return new c2(new It(a),l,u)}class Hu extends Tp{_toFieldTransform(e){if(e.Tu!==2)throw e.Tu===1?e.fu(`${this._methodName}() can only appear at the top level of your update data`):e.fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hu}}function f2(t,e,n,r){const i=t.yu(1,e,n);Cp("Data must be an object, but it was:",i,r);const o=[],s=It.empty();ui(r,(l,u)=>{const c=Rp(e,l,n);u=Kt(u);const h=i.Vu(c);if(u instanceof Hu)o.push(c);else{const d=aa(u,h);d!=null&&(o.push(c),s.set(c,d))}});const a=new Ot(o);return new HE(s,a,i.fieldTransforms)}function p2(t,e,n,r,i,o){const s=t.yu(1,e,n),a=[Rd(e,r,n)],l=[i];if(o.length%2!=0)throw new M(C.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(Rd(e,o[d])),l.push(o[d+1]);const u=[],c=It.empty();for(let d=a.length-1;d>=0;--d)if(!KE(u,a[d])){const f=a[d];let _=l[d];_=Kt(_);const E=s.Vu(f);if(_ instanceof Hu)u.push(f);else{const T=aa(_,E);T!=null&&(u.push(f),c.set(f,T))}}const h=new Ot(u);return new HE(c,h,s.fieldTransforms)}function m2(t,e,n,r=!1){return aa(n,t.yu(r?4:3,e))}function aa(t,e){if(QE(t=Kt(t)))return Cp("Unsupported field value:",e,t),qE(t,e);if(t instanceof Tp)return function(r,i){if(!WE(i.Tu))throw i.fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.fu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Au&&e.Tu!==4)throw e.fu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=aa(a,i.mu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ix(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Le.fromDate(r);return{timestampValue:Wl(i.serializer,o)}}if(r instanceof Le){const o=new Le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wl(i.serializer,o)}}if(r instanceof zu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ao)return{bytesValue:gE(i.serializer,r._byteString)};if(r instanceof Pt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.fu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:hp(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.fu(`Unsupported field value: ${bu(r)}`)}(t,e)}function qE(t,e){const n={};return H1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ui(t,(r,i)=>{const o=aa(i,e.du(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function QE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Le||t instanceof zu||t instanceof ao||t instanceof Pt||t instanceof Tp)}function Cp(t,e,n){if(!QE(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=bu(n);throw r==="an object"?e.fu(t+" a custom object"):e.fu(t+" "+r)}}function Rd(t,e,n){if((e=Kt(e))instanceof Uu)return e._internalPath;if(typeof e=="string")return Rp(t,e);throw Ql("Field path arguments must be of type string or ",t,!1,void 0,n)}const g2=new RegExp("[~\\*/\\[\\]]");function Rp(t,e,n){if(e.search(g2)>=0)throw Ql(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Uu(...e.split("."))._internalPath}catch{throw Ql(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ql(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new M(C.INVALID_ARGUMENT,a+t+l)}function KE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new y2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(YE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class y2 extends GE{data(){return super.data()}}function YE(t,e){return typeof e=="string"?Rp(t,e):e instanceof Uu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new M(C.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kp{}class _2 extends kp{}function E2(t,e,...n){let r=[];e instanceof kp&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof xp).length,a=o.filter(l=>l instanceof Ap).length;if(s>1||s>0&&a>0)throw new M(C.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Ap extends _2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ap(e,n,r)}_apply(e){const n=this._parse(e);return XE(e._query,n),new yr(e.firestore,e.converter,vd(e._query,n))}_parse(e){const n=Ip(e.firestore);return function(o,s,a,l,u,c,h){let d;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new M(C.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){hy(h,c);const f=[];for(const _ of h)f.push(cy(l,o,_));d={arrayValue:{values:f}}}else d=cy(l,o,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||hy(h,c),d=m2(a,s,h,c==="in"||c==="not-in");return Ne.create(u,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class xp extends kp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:an.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)XE(s,l),s=vd(s,l)}(e._query,n),new yr(e.firestore,e.converter,vd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function cy(t,e,n){if(typeof(n=Kt(n))=="string"){if(n==="")throw new M(C.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Z1(e)&&n.indexOf("/")!==-1)throw new M(C.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(fe.fromString(n));if(!F.isDocumentKey(r))throw new M(C.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ng(t,new F(r))}if(n instanceof Pt)return Ng(t,n._key);throw new M(C.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bu(n)}.`)}function hy(t,e){if(!Array.isArray(t)||t.length===0)throw new M(C.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XE(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new M(C.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new M(C.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class w2{convertValue(e,n="none"){switch(ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw B()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ui(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new zu(Pe(e.latitude),Pe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ms(e));default:return null}}convertTimestamp(e){const n=mr(e);return new Le(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=fe.fromString(e);me(wE(r));const i=new Ls(r.get(1),r.get(3)),o=new F(r.popFirst(5));return i.isEqual(n)||$n(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class JE extends GE{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new el(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(YE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class el extends JE{data(e={}){return super.data(e)}}class S2{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new el(this._firestore,this._userDataWriter,r.key,r,new Bo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new M(C.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new el(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new el(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:I2(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function I2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return B()}}class ZE extends w2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ao(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}}function C2(t,e,n,...r){t=cr(t,Pt);const i=cr(t.firestore,so),o=Ip(i);let s;return s=typeof(e=Kt(e))=="string"||e instanceof Uu?p2(o,"updateDoc",t._key,e,n,r):f2(o,"updateDoc",t._key,e),Pp(i,[s.toMutation(t._key,rn.exists(!0))])}function R2(t){return Pp(cr(t.firestore,so),[new lp(t._key,rn.none())])}function k2(t,e){const n=cr(t.firestore,so),r=o2(t),i=T2(t.converter,e);return Pp(n,[d2(Ip(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,rn.exists(!1))]).then(()=>r)}function dy(t,...e){var n,r,i;t=Kt(t);let o={includeMetadataChanges:!1},s=0;typeof e[s]!="object"||uy(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(uy(e[s])){const h=e[s];e[s]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[s+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[s+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof Pt)u=cr(t.firestore,so),c=ap(t._key.path),l={next:h=>{e[s]&&e[s](A2(u,t,h))},error:e[s+1],complete:e[s+2]};else{const h=cr(t,yr);u=cr(h.firestore,so),c=h._query;const d=new ZE(u);l={next:f=>{e[s]&&e[s](new S2(u,d,h,f))},error:e[s+1],complete:e[s+2]},v2(t._query)}return function(d,f,_,E){const T=new XP(E),m=new OP(f,T,_);return d.asyncQueue.enqueueAndForget(async()=>xP(await iy(d),m)),()=>{T.Ba(),d.asyncQueue.enqueueAndForget(async()=>PP(await iy(d),m))}}(UE(u),c,a,l)}function Pp(t,e){return function(r,i){const o=new Kr;return r.asyncQueue.enqueueAndForget(async()=>BP(await t2(r),i,o)),o.promise}(UE(t),e)}function A2(t,e,n){const r=n.docs.get(e._key),i=new ZE(t);return new JE(t,i,e._key,r,new Bo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){go=i})(ik),Nl(new Is("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new so(new SA(r.getProvider("auth-internal")),new kA(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new M(C.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ls(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ui(Ag,"4.3.0",e),Ui(Ag,"4.3.0","esm2017")})();var x2="firebase",P2="10.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ui(x2,P2,"app");const D2={projectId:""},N2=$0(D2),O2=l2(N2);console.log("initialized firebase connection");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Mi=function(){return Mi=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Mi.apply(this,arguments)},ew=function(t){return{loading:t==null,value:t}},V2=function(){return function(t,e){switch(e.type){case"error":return Mi(Mi({},t),{error:e.error,loading:!1,value:void 0});case"reset":return ew(e.defaultValue);case"value":return Mi(Mi({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},M2=function(t){var e=t?t():void 0,n=v.useReducer(V2(),ew(e)),r=n[0],i=n[1],o=v.useCallback(function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},[t]),s=v.useCallback(function(l){i({type:"error",error:l})},[]),a=v.useCallback(function(l){i({type:"value",value:l})},[]);return v.useMemo(function(){return{error:r.error,loading:r.loading,reset:o,setError:s,setValue:a,value:r.value}},[r.error,r.loading,o,s,a,r.value])},L2=function(t,e,n){var r=v.useRef(t);return v.useEffect(function(){e(t,r.current)||(r.current=t,n&&n())}),r},$2=function(t,e){var n=!t&&!e,r=!!t&&!!e&&s2(t,e);return n||r},F2=function(t,e){return L2(t,$2,e)},j2=function(t,e){var n=M2(),r=n.error,i=n.loading,o=n.reset,s=n.setError,a=n.setValue,l=n.value,u=F2(t,o);return v.useEffect(function(){if(!u.current){a(void 0);return}var c=e!=null&&e.snapshotListenOptions?dy(u.current,e.snapshotListenOptions,a,s):dy(u.current,a,s);return function(){c()}},[u.current]),[l,i,r]},b2=function(t,e){var n=j2(t,e),r=n[0],i=n[1],o=n[2],s=B2(r,e==null?void 0:e.snapshotOptions,e==null?void 0:e.initialValue);return[s,i,o,r]},B2=function(t,e,n){return v.useMemo(function(){var r;return(r=t==null?void 0:t.docs.map(function(i){return i.data(e)}))!==null&&r!==void 0?r:n},[t,e])};function tw(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=tw(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function Jn(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=tw(t))&&(r&&(r+=" "),r+=e);return r}const rs=t=>typeof t=="number"&&!isNaN(t),ii=t=>typeof t=="string",Rt=t=>typeof t=="function",tl=t=>ii(t)||Rt(t)?t:null,Wc=t=>v.isValidElement(t)||ii(t)||Rt(t)||rs(t);function U2(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function Wu(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:o=300}=t;return function(s){let{children:a,position:l,preventExitTransition:u,done:c,nodeRef:h,isIn:d}=s;const f=r?`${e}--${l}`:e,_=r?`${n}--${l}`:n,E=v.useRef(0);return v.useLayoutEffect(()=>{const T=h.current,m=f.split(" "),p=y=>{y.target===h.current&&(T.dispatchEvent(new Event("d")),T.removeEventListener("animationend",p),T.removeEventListener("animationcancel",p),E.current===0&&y.type!=="animationcancel"&&T.classList.remove(...m))};T.classList.add(...m),T.addEventListener("animationend",p),T.addEventListener("animationcancel",p)},[]),v.useEffect(()=>{const T=h.current,m=()=>{T.removeEventListener("animationend",m),i?U2(T,c,o):c()};d||(u?m():(E.current=1,T.className+=` ${_}`,T.addEventListener("animationend",m)))},[d]),j.createElement(j.Fragment,null,a)}}function fy(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const bt={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){const n=this.list.get(t).filter(r=>r!==e);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{const n=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},$a=t=>{let{theme:e,type:n,...r}=t;return j.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},qc={info:function(t){return j.createElement($a,{...t},j.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return j.createElement($a,{...t},j.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return j.createElement($a,{...t},j.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return j.createElement($a,{...t},j.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return j.createElement("div",{className:"Toastify__spinner"})}};function z2(t){const[,e]=v.useReducer(f=>f+1,0),[n,r]=v.useState([]),i=v.useRef(null),o=v.useRef(new Map).current,s=f=>n.indexOf(f)!==-1,a=v.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:s,getToast:f=>o.get(f)}).current;function l(f){let{containerId:_}=f;const{limit:E}=a.props;!E||_&&a.containerId!==_||(a.count-=a.queue.length,a.queue=[])}function u(f){r(_=>f==null?[]:_.filter(E=>E!==f))}function c(){const{toastContent:f,toastProps:_,staleId:E}=a.queue.shift();d(f,_,E)}function h(f,_){let{delay:E,staleId:T,...m}=_;if(!Wc(f)||function(le){return!i.current||a.props.enableMultiContainer&&le.containerId!==a.props.containerId||o.has(le.toastId)&&le.updateId==null}(m))return;const{toastId:p,updateId:y,data:w}=m,{props:I}=a,x=()=>u(p),P=y==null;P&&a.count++;const D={...I,style:I.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(m).filter(le=>{let[Te,ye]=le;return ye!=null})),toastId:p,updateId:y,data:w,closeToast:x,isIn:!1,className:tl(m.className||I.toastClassName),bodyClassName:tl(m.bodyClassName||I.bodyClassName),progressClassName:tl(m.progressClassName||I.progressClassName),autoClose:!m.isLoading&&(W=m.autoClose,L=I.autoClose,W===!1||rs(W)&&W>0?W:L),deleteToast(){const le=fy(o.get(p),"removed");o.delete(p),bt.emit(4,le);const Te=a.queue.length;if(a.count=p==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),Te>0){const ye=p==null?a.props.limit:1;if(Te===1||ye===1)a.displayedToast++,c();else{const Ae=ye>Te?Te:ye;a.displayedToast=Ae;for(let ne=0;ne<Ae;ne++)c()}}else e()}};var W,L;D.iconOut=function(le){let{theme:Te,type:ye,isLoading:Ae,icon:ne}=le,Se=null;const k={theme:Te,type:ye};return ne===!1||(Rt(ne)?Se=ne(k):v.isValidElement(ne)?Se=v.cloneElement(ne,k):ii(ne)||rs(ne)?Se=ne:Ae?Se=qc.spinner():($=>$ in qc)(ye)&&(Se=qc[ye](k))),Se}(D),Rt(m.onOpen)&&(D.onOpen=m.onOpen),Rt(m.onClose)&&(D.onClose=m.onClose),D.closeButton=I.closeButton,m.closeButton===!1||Wc(m.closeButton)?D.closeButton=m.closeButton:m.closeButton===!0&&(D.closeButton=!Wc(I.closeButton)||I.closeButton);let se=f;v.isValidElement(f)&&!ii(f.type)?se=v.cloneElement(f,{closeToast:x,toastProps:D,data:w}):Rt(f)&&(se=f({closeToast:x,toastProps:D,data:w})),I.limit&&I.limit>0&&a.count>I.limit&&P?a.queue.push({toastContent:se,toastProps:D,staleId:T}):rs(E)?setTimeout(()=>{d(se,D,T)},E):d(se,D,T)}function d(f,_,E){const{toastId:T}=_;E&&o.delete(E);const m={content:f,props:_};o.set(T,m),r(p=>[...p,T].filter(y=>y!==E)),bt.emit(4,fy(m,m.props.updateId==null?"added":"updated"))}return v.useEffect(()=>(a.containerId=t.containerId,bt.cancelEmit(3).on(0,h).on(1,f=>i.current&&u(f)).on(5,l).emit(2,a),()=>{o.clear(),bt.emit(3,a)}),[]),v.useEffect(()=>{a.props=t,a.isToastActive=s,a.displayedToast=n.length}),{getToastToRender:function(f){const _=new Map,E=Array.from(o.values());return t.newestOnTop&&E.reverse(),E.forEach(T=>{const{position:m}=T.props;_.has(m)||_.set(m,[]),_.get(m).push(T)}),Array.from(_,T=>f(T[0],T[1]))},containerRef:i,isToastActive:s}}function py(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function my(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function H2(t){const[e,n]=v.useState(!1),[r,i]=v.useState(!1),o=v.useRef(null),s=v.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=v.useRef(t),{autoClose:l,pauseOnHover:u,closeToast:c,onClick:h,closeOnClick:d}=t;function f(w){if(t.draggable){w.nativeEvent.type==="touchstart"&&w.nativeEvent.preventDefault(),s.didMove=!1,document.addEventListener("mousemove",m),document.addEventListener("mouseup",p),document.addEventListener("touchmove",m),document.addEventListener("touchend",p);const I=o.current;s.canCloseOnClick=!0,s.canDrag=!0,s.boundingRect=I.getBoundingClientRect(),I.style.transition="",s.x=py(w.nativeEvent),s.y=my(w.nativeEvent),t.draggableDirection==="x"?(s.start=s.x,s.removalDistance=I.offsetWidth*(t.draggablePercent/100)):(s.start=s.y,s.removalDistance=I.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function _(w){if(s.boundingRect){const{top:I,bottom:x,left:P,right:D}=s.boundingRect;w.nativeEvent.type!=="touchend"&&t.pauseOnHover&&s.x>=P&&s.x<=D&&s.y>=I&&s.y<=x?T():E()}}function E(){n(!0)}function T(){n(!1)}function m(w){const I=o.current;s.canDrag&&I&&(s.didMove=!0,e&&T(),s.x=py(w),s.y=my(w),s.delta=t.draggableDirection==="x"?s.x-s.start:s.y-s.start,s.start!==s.x&&(s.canCloseOnClick=!1),I.style.transform=`translate${t.draggableDirection}(${s.delta}px)`,I.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function p(){document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",p),document.removeEventListener("touchmove",m),document.removeEventListener("touchend",p);const w=o.current;if(s.canDrag&&s.didMove&&w){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return i(!0),void t.closeToast();w.style.transition="transform 0.2s, opacity 0.2s",w.style.transform=`translate${t.draggableDirection}(0)`,w.style.opacity="1"}}v.useEffect(()=>{a.current=t}),v.useEffect(()=>(o.current&&o.current.addEventListener("d",E,{once:!0}),Rt(t.onOpen)&&t.onOpen(v.isValidElement(t.children)&&t.children.props),()=>{const w=a.current;Rt(w.onClose)&&w.onClose(v.isValidElement(w.children)&&w.children.props)}),[]),v.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||T(),window.addEventListener("focus",E),window.addEventListener("blur",T)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",E),window.removeEventListener("blur",T))}),[t.pauseOnFocusLoss]);const y={onMouseDown:f,onTouchStart:f,onMouseUp:_,onTouchEnd:_};return l&&u&&(y.onMouseEnter=T,y.onMouseLeave=E),d&&(y.onClick=w=>{h&&h(w),s.canCloseOnClick&&c()}),{playToast:E,pauseToast:T,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:y}}function nw(t){let{closeToast:e,theme:n,ariaLabel:r="close"}=t;return j.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),e(i)},"aria-label":r},j.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},j.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function W2(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:o,className:s,style:a,controlledProgress:l,progress:u,rtl:c,isIn:h,theme:d}=t;const f=o||l&&u===0,_={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused",opacity:f?0:1};l&&(_.transform=`scaleX(${u})`);const E=Jn("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":c}),T=Rt(s)?s({rtl:c,type:i,defaultClassName:E}):Jn(E,s);return j.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:T,style:_,[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{h&&r()}})}const q2=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i}=H2(t),{closeButton:o,children:s,autoClose:a,onClick:l,type:u,hideProgressBar:c,closeToast:h,transition:d,position:f,className:_,style:E,bodyClassName:T,bodyStyle:m,progressClassName:p,progressStyle:y,updateId:w,role:I,progress:x,rtl:P,toastId:D,deleteToast:W,isIn:L,isLoading:se,iconOut:le,closeOnClick:Te,theme:ye}=t,Ae=Jn("Toastify__toast",`Toastify__toast-theme--${ye}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":P},{"Toastify__toast--close-on-click":Te}),ne=Rt(_)?_({rtl:P,position:f,type:u,defaultClassName:Ae}):Jn(Ae,_),Se=!!x||!a,k={closeToast:h,type:u,theme:ye};let $=null;return o===!1||($=Rt(o)?o(k):v.isValidElement(o)?v.cloneElement(o,k):nw(k)),j.createElement(d,{isIn:L,done:W,position:f,preventExitTransition:n,nodeRef:r},j.createElement("div",{id:D,onClick:l,className:ne,...i,style:E,ref:r},j.createElement("div",{...L&&{role:I},className:Rt(T)?T({type:u}):Jn("Toastify__toast-body",T),style:m},le!=null&&j.createElement("div",{className:Jn("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!se})},le),j.createElement("div",null,s)),$,j.createElement(W2,{...w&&!Se?{key:`pb-${w}`}:{},rtl:P,theme:ye,delay:a,isRunning:e,isIn:L,closeToast:h,hide:c,type:u,style:y,className:p,controlledProgress:Se,progress:x||0})))},qu=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},Q2=Wu(qu("bounce",!0));Wu(qu("slide",!0));Wu(qu("zoom"));Wu(qu("flip"));const kd=v.forwardRef((t,e)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=z2(t),{className:o,style:s,rtl:a,containerId:l}=t;function u(c){const h=Jn("Toastify__toast-container",`Toastify__toast-container--${c}`,{"Toastify__toast-container--rtl":a});return Rt(o)?o({position:c,rtl:a,defaultClassName:h}):Jn(h,tl(o))}return v.useEffect(()=>{e&&(e.current=r.current)},[]),j.createElement("div",{ref:r,className:"Toastify",id:l},n((c,h)=>{const d=h.length?{...s}:{...s,pointerEvents:"none"};return j.createElement("div",{className:u(c),style:d,key:`container-${c}`},h.map((f,_)=>{let{content:E,props:T}=f;return j.createElement(q2,{...T,isIn:i(T.toastId),style:{...T.style,"--nth":_+1,"--len":h.length},key:`toast-${T.key}`},E)}))}))});kd.displayName="ToastContainer",kd.defaultProps={position:"top-right",transition:Q2,autoClose:5e3,closeButton:nw,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let Qc,Mr=new Map,Uo=[],K2=1;function rw(){return""+K2++}function G2(t){return t&&(ii(t.toastId)||rs(t.toastId))?t.toastId:rw()}function is(t,e){return Mr.size>0?bt.emit(0,t,e):Uo.push({content:t,options:e}),e.toastId}function Kl(t,e){return{...e,type:e&&e.type||t,toastId:G2(e)}}function Fa(t){return(e,n)=>is(e,Kl(t,n))}function re(t,e){return is(t,Kl("default",e))}re.loading=(t,e)=>is(t,Kl("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),re.promise=function(t,e,n){let r,{pending:i,error:o,success:s}=e;i&&(r=ii(i)?re.loading(i,n):re.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(c,h,d)=>{if(h==null)return void re.dismiss(r);const f={type:c,...a,...n,data:d},_=ii(h)?{render:h}:h;return r?re.update(r,{...f,..._}):re(_.render,{...f,..._}),d},u=Rt(t)?t():t;return u.then(c=>l("success",s,c)).catch(c=>l("error",o,c)),u},re.success=Fa("success"),re.info=Fa("info"),re.error=Fa("error"),re.warning=Fa("warning"),re.warn=re.warning,re.dark=(t,e)=>is(t,Kl("default",{theme:"dark",...e})),re.dismiss=t=>{Mr.size>0?bt.emit(1,t):Uo=Uo.filter(e=>t!=null&&e.options.toastId!==t)},re.clearWaitingQueue=function(t){return t===void 0&&(t={}),bt.emit(5,t)},re.isActive=t=>{let e=!1;return Mr.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(e=!0)}),e},re.update=function(t,e){e===void 0&&(e={}),setTimeout(()=>{const n=function(r,i){let{containerId:o}=i;const s=Mr.get(o||Qc);return s&&s.getToast(r)}(t,e);if(n){const{props:r,content:i}=n,o={delay:100,...r,...e,toastId:e.toastId||t,updateId:rw()};o.toastId!==t&&(o.staleId=t);const s=o.render||i;delete o.render,is(s,o)}},0)},re.done=t=>{re.update(t,{progress:1})},re.onChange=t=>(bt.on(4,t),()=>{bt.off(4,t)}),re.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},re.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},bt.on(2,t=>{Qc=t.containerId||t,Mr.set(Qc,t),Uo.forEach(e=>{bt.emit(0,e.content,e.options)}),Uo=[]}).on(3,t=>{Mr.delete(t.containerId||t),Mr.size===0&&bt.off(0).off(1).off(5)});const iw=v.createContext(),Y2={toFirestore:function(t){return{title:t.title,date:t.date,description:t.description,location:new zu(t.location._lat,t.location._long),repeat:!!t.repeat,priority:Number(t.priority)}},fromFirestore:function(t,e){return{...t.data(e),id:t.id,ref:t.ref}}};function X2(t){const e=v.useMemo(()=>i2(O2,"tasks").withConverter(Y2),[]),n=v.useMemo(()=>E2(e),[e]),[r,i]=b2(n),[o,s]=v.useState(Kc),[a,l]=v.useState(""),[u,c]=v.useState(!1),{colorPallet:h}=Cr(),d=v.useCallback(()=>{s(Kc)},[]),f=v.useCallback(()=>{s(Kc)},[]),_=v.useCallback(w=>{s(w)},[]),E=v.useCallback(w=>{s({...w,date:{date:S0(w.date.toDate()),time:w.date.toDate().toLocaleTimeString()}})},[]),T=v.useCallback(async w=>{try{await R2(w.ref).then(()=>re("Task verwijderd!"))}catch{re.warning("Er ging iets mis bij het verwijderen!")}},[]),m=v.useCallback(w=>{re.warn(g.jsx("div",{children:g.jsxs(ai,{children:[g.jsxs("p",{children:["Wil je task met titel ",w.title," verwijderen?"]}),g.jsx(Qe,{children:g.jsx(Kh,{onClick:()=>T(w),children:"Ja"})}),g.jsx(Qe,{children:g.jsx(Kh,{children:"Nee"})})]})}),{position:"top-center",style:h.toastStyle})},[h.toastStyle,T]),p=v.useCallback(async w=>{const I={...w,date:new Date(w.date.date+"T"+w.date.time)};try{w.ref?await C2(w.ref,I).then(()=>re.info("Wijzigingen opgeslagen!")):await k2(e,I).then(()=>re.info("Nieuwe task toegevoegd!"))}catch{re.warning("Er ging iets mis bij het opslagen!")}},[e]),y=v.useMemo(()=>({tasks:r,clearEditTask:d,editTask:o,newTask:f,show:u,setShow:c,storeTaskChanges:_,title:a,setTask:E,setTitle:l,saveTask:p,deleteTask:T,notifyDelete:m}),[r,d,o,E,f,_,u,c,a,l,p,T,m]);return g.jsx(iw.Provider,{value:y,children:i?g.jsx(g.Fragment,{}):t.children})}const hi=()=>v.useContext(iw);function ow(t){const{task:e,customStyle:n}=t,{setShow:r,setTask:i,setTitle:o,notifyDelete:s}=hi();return g.jsxs(mu,{customStyle:n,children:[g.jsxs(ai,{className:"g-0",children:[g.jsx(Qe,{xs:"10",children:g.jsx(An,{title:"Task",priority:e.priority,data:e.title})}),g.jsxs(Qe,{className:"text-end",children:[g.jsx(Ss,{onClick:()=>{i(e,o("Wijzig")),r(!0)},children:g.jsx(k0,{style:{width:"35px",height:"35px"}})}),g.jsx(Ss,{onClick:()=>{s(e)},children:g.jsx(A0,{style:{width:"35px",height:"35px"}})})]})]}),g.jsx(An,{title:"Datum",data:bC(e.date)}),g.jsx(An,{title:"Om",data:BC(e.date)}),g.jsx(An,{title:"Omschrijving",data:e.description})]})}ow.propTypes={task:S.shape({title:S.string,description:S.string,location:S.shape({_lat:S.number,_long:S.number}),priority:S.number,date:S.object}),customStyle:S.shape({})};function Ad(t){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ad(t)}function Qu(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function wn(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function Ir(t){wn(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Ad(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function xd(t,e){wn(2,arguments);var n=Ir(t),r=Qu(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var s=o.getDate();return i>=s?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}var J2={};function sw(){return J2}function nl(t,e){var n,r,i,o,s,a,l,u;wn(1,arguments);var c=sw(),h=Qu((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Ir(t),f=d.getDay(),_=(f<h?7:0)+f-h;return d.setDate(d.getDate()-_),d.setHours(0,0,0,0),d}function gy(t,e){wn(2,arguments);var n=Qu(e);return xd(t,n*12)}function Z2(t){wn(1,arguments);var e=Ir(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function eD(t){wn(1,arguments);var e=Ir(t);return e.setDate(1),e.setHours(0,0,0,0),e}function rl(t,e){var n,r,i,o,s,a,l,u;wn(1,arguments);var c=sw(),h=Qu((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(s=e.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:c.weekStartsOn)!==null&&r!==void 0?r:(l=c.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Ir(t),f=d.getDay(),_=(f<h?-7:0)+6-(f-h);return d.setDate(d.getDate()+_),d.setHours(23,59,59,999),d}function tD(t){wn(1,arguments);var e=Ir(t),n=e.getDate();return n}function aw(t){wn(1,arguments);var e=Ir(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function nD(t){wn(1,arguments);var e=Ir(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function yt(t){const{title:e,onClick:n}=t,{colorPallet:r}=Cr();return g.jsx("button",{onClick:()=>n(),style:r.buttonCustom,children:e})}yt.propTypes={title:S.string,onClick:S.func};function Ku(t){const{children:e,customStyle:n}=t;return g.jsx("div",{style:n.selectionBar,children:e})}Ku.propTypes={children:S.any,customStyle:S.object};function Dp(){const{tasks:t}=hi(),{colorPallet:e}=Cr(),[n,r]=v.useState({start:nl(new Date,{weekStartsOn:1}),end:rl(new Date,{weekStartsOn:1})});return g.jsxs("div",{children:[g.jsx(lw,{weekRange:n,onWeekRangeChanged:r,customStyle:e}),[...t].sort((i,o)=>i.date.seconds-o.date.seconds).filter(i=>i.date.toDate()>=n.start&&i.date.toDate()<=n.end).map(i=>g.jsx(ow,{task:i,customStyle:e},i.id))]})}function lw(t){const{weekRange:e,onWeekRangeChanged:n,customStyle:r}=t;return g.jsxs(Ku,{customStyle:r,children:[g.jsx(yt,{title:"Vorige week",onClick:i=>n({start:nl(e.start.setDate(e.start.getDate()-7),{weekStartsOn:1}),end:rl(e.end.setDate(e.end.getDate()-7),{weekStartsOn:1})})}),g.jsx(yt,{title:"Volgende week",onClick:i=>n({start:nl(e.start.setDate(e.start.getDate()+7),{weekStartsOn:1}),end:rl(e.end.setDate(e.end.getDate()+7),{weekStartsOn:1})})}),g.jsx(yt,{title:"Deze week",onClick:i=>n({start:nl(new Date,{weekStartsOn:1}),end:rl(new Date,{weekStartsOn:1})})}),g.jsx("div",{className:"text-center",children:g.jsxs("h5",{style:{color:"white"},children:["Van ",e.start.toLocaleDateString("nl-BE")," tot ",e.end.toLocaleDateString("nl-BE")]})})]})}Dp.propTypes={task:S.shape({title:S.string,description:S.string,location:S.shape({_lat:S.number,_long:S.number}),priority:S.number,date:S.object})};lw.propTypes={weekRange:S.shape({start:S.object,end:S.object}),onWeekRangeChanged:S.func};function Gu(t){const{title:e,children:n,style:r,today:i}=t,{colorPallet:o}=Cr();return g.jsx(Qe,{style:r||(i?o.dayElementToday:o.dayElementNormal),children:g.jsxs("div",{className:"text-center",children:[i?g.jsx("p",{style:o.dayElementMarkToday,children:e}):g.jsx("p",{children:e}),g.jsx("div",{className:"g-0",children:n})]})})}Gu.propTypes={title:S.string,children:S.any,style:S.shape({}),today:S.bool};function os(){return os=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},os.apply(this,arguments)}var rD=function(e,n){n===void 0&&(n=!0),v.useEffect(function(){if(n){var r=function(o){o.key==="Escape"&&e(o)};return document.addEventListener("keyup",r),function(){n&&document.removeEventListener("keyup",r)}}},[e,n])},iD=function(e,n){n===void 0&&(n=!0),v.useEffect(function(){if(n){var r=function(){e()};return window.addEventListener("resize",r),function(){n&&window.removeEventListener("resize",r)}}},[e,n])},oD=function(e,n,r){r===void 0&&(r=!0),v.useEffect(function(){if(r){var i=function(s){var a=Array.isArray(e)?e:[e],l=!1;a.forEach(function(u){if(!u.current||u.current.contains(s.target)){l=!0;return}}),s.stopPropagation(),l||n(s)};return document.addEventListener("mousedown",i),document.addEventListener("touchstart",i),function(){r&&(document.removeEventListener("mousedown",i),document.removeEventListener("touchstart",i))}}},[e,n,r])},sD=function(e,n){n===void 0&&(n=!0),v.useEffect(function(){if(n){var r=function(o){if(o.keyCode===9){var s,a=e==null||(s=e.current)===null||s===void 0?void 0:s.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),l=Array.prototype.slice.call(a);if(l.length===1){o.preventDefault();return}var u=l[0],c=l[l.length-1];o.shiftKey&&document.activeElement===u?(o.preventDefault(),c.focus()):document.activeElement===c&&(o.preventDefault(),u.focus())}};return document.addEventListener("keydown",r),function(){n&&document.removeEventListener("keydown",r)}}},[e,n])},aD=typeof window<"u"?v.useLayoutEffect:v.useEffect,Do={popupContent:{tooltip:{position:"absolute",zIndex:999},modal:{position:"relative",margin:"auto"}},popupArrow:{height:"8px",width:"16px",position:"absolute",background:"transparent",color:"#FFF",zIndex:-1},overlay:{tooltip:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",zIndex:999},modal:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",display:"flex",zIndex:999}}},lD=["top left","top center","top right","right top","right center","right bottom","bottom left","bottom center","bottom right","left top","left center","left bottom"],uD=function(e,n,r,i,o){var s=o.offsetX,a=o.offsetY,l=i?8:0,u=r.split(" "),c=e.top+e.height/2,h=e.left+e.width/2,d=n.height,f=n.width,_=c-d/2,E=h-f/2,T="",m="0%",p="0%";switch(u[0]){case"top":_-=d/2+e.height/2+l,T="rotate(180deg)  translateX(50%)",m="100%",p="50%";break;case"bottom":_+=d/2+e.height/2+l,T="rotate(0deg) translateY(-100%) translateX(-50%)",p="50%";break;case"left":E-=f/2+e.width/2+l,T=" rotate(90deg)  translateY(50%) translateX(-25%)",p="100%",m="50%";break;case"right":E+=f/2+e.width/2+l,T="rotate(-90deg)  translateY(-150%) translateX(25%)",m="50%";break}switch(u[1]){case"top":_=e.top,m=e.height/2+"px";break;case"bottom":_=e.top-d+e.height,m=d-e.height/2+"px";break;case"left":E=e.left,p=e.width/2+"px";break;case"right":E=e.left-f+e.width,p=f-e.width/2+"px";break}return _=u[0]==="top"?_-a:_+a,E=u[0]==="left"?E-s:E+s,{top:_,left:E,transform:T,arrowLeft:p,arrowTop:m}},cD=function(e){var n={top:0,left:0,width:window.innerWidth,height:window.innerHeight};if(typeof e=="string"){var r=document.querySelector(e);r!==null&&(n=r.getBoundingClientRect())}return n},hD=function(e,n,r,i,o,s){var a=o.offsetX,l=o.offsetY,u={arrowLeft:"0%",arrowTop:"0%",left:0,top:0,transform:"rotate(135deg)"},c=0,h=cD(s),d=Array.isArray(r)?r:[r];for((s||Array.isArray(r))&&(d=[].concat(d,lD));c<d.length;){u=uD(e,n,d[c],i,{offsetX:a,offsetY:l});var f={top:u.top,left:u.left,width:n.width,height:n.height};if(f.top<=h.top||f.left<=h.left||f.top+f.height>=h.top+h.height||f.left+f.width>=h.left+h.width)c++;else break}return u},dD=0,fD=function(){var e=document.getElementById("popup-root");return e===null&&(e=document.createElement("div"),e.setAttribute("id","popup-root"),document.body.appendChild(e)),e},pD=v.forwardRef(function(t,e){var n=t.trigger,r=n===void 0?null:n,i=t.onOpen,o=i===void 0?function(){}:i,s=t.onClose,a=s===void 0?function(){}:s,l=t.defaultOpen,u=l===void 0?!1:l,c=t.open,h=c===void 0?void 0:c,d=t.disabled,f=d===void 0?!1:d,_=t.nested,E=_===void 0?!1:_,T=t.closeOnDocumentClick,m=T===void 0?!0:T,p=t.repositionOnResize,y=p===void 0?!0:p,w=t.closeOnEscape,I=w===void 0?!0:w,x=t.on,P=x===void 0?["click"]:x,D=t.contentStyle,W=D===void 0?{}:D,L=t.arrowStyle,se=L===void 0?{}:L,le=t.overlayStyle,Te=le===void 0?{}:le,ye=t.className,Ae=ye===void 0?"":ye,ne=t.position,Se=ne===void 0?"bottom center":ne,k=t.modal,$=k===void 0?!1:k,b=t.lockScroll,Z=b===void 0?!1:b,te=t.arrow,Oe=te===void 0?!0:te,ct=t.offsetX,Gt=ct===void 0?0:ct,ht=t.offsetY,ln=ht===void 0?0:ht,di=t.mouseEnterDelay,Bn=di===void 0?100:di,Tn=t.mouseLeaveDelay,Rr=Tn===void 0?100:Tn,kr=t.keepTooltipInside,Ar=kr===void 0?!1:kr,jt=t.children,ue=v.useState(h||u),dt=ue[0],Un=ue[1],Yt=v.useRef(null),ft=v.useRef(null),Sn=v.useRef(null),la=v.useRef(null),ua=v.useRef("popup-"+ ++dD),Ze=$?!0:!r,xr=v.useRef(0);aD(function(){return dt?(la.current=document.activeElement,Mp(),Aw(),Rw()):kw(),function(){clearTimeout(xr.current)}},[dt]),v.useEffect(function(){typeof h=="boolean"&&(h?G():pt())},[h,f]);var G=function(q){dt||f||(Un(!0),setTimeout(function(){return o(q)},0))},pt=function(q){var wt;!dt||f||(Un(!1),Ze&&((wt=la.current)===null||wt===void 0||wt.focus()),setTimeout(function(){return a(q)},0))},fi=function(q){q==null||q.stopPropagation(),dt?pt(q):G(q)},Yu=function(q){clearTimeout(xr.current),xr.current=setTimeout(function(){return G(q)},Bn)},Cw=function(q){q==null||q.preventDefault(),fi()},Xu=function(q){clearTimeout(xr.current),xr.current=setTimeout(function(){return pt(q)},Rr)},Rw=function(){Ze&&Z&&(document.getElementsByTagName("body")[0].style.overflow="hidden")},kw=function(){Ze&&Z&&(document.getElementsByTagName("body")[0].style.overflow="auto")},Aw=function(){var q,wt=ft==null||(q=ft.current)===null||q===void 0?void 0:q.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),$e=Array.prototype.slice.call(wt)[0];$e==null||$e.focus()};v.useImperativeHandle(e,function(){return{open:function(){G()},close:function(){pt()},toggle:function(){fi()}}});var Mp=function(){if(!(Ze||!dt)&&!(!(Yt!=null&&Yt.current)||!(Yt!=null&&Yt.current)||!(ft!=null&&ft.current))){var q=Yt.current.getBoundingClientRect(),wt=ft.current.getBoundingClientRect(),$e=hD(q,wt,Se,Oe,{offsetX:Gt,offsetY:ln},Ar);if(ft.current.style.top=$e.top+window.scrollY+"px",ft.current.style.left=$e.left+window.scrollX+"px",Oe&&Sn.current){var Pr,_o;Sn.current.style.transform=$e.transform,Sn.current.style.setProperty("-ms-transform",$e.transform),Sn.current.style.setProperty("-webkit-transform",$e.transform),Sn.current.style.top=((Pr=se.top)===null||Pr===void 0?void 0:Pr.toString())||$e.arrowTop,Sn.current.style.left=((_o=se.left)===null||_o===void 0?void 0:_o.toString())||$e.arrowLeft}}};rD(pt,I),sD(ft,dt&&Ze),iD(Mp,y),oD(r?[ft,Yt]:[ft],pt,m&&!E);var xw=function(){for(var q={key:"T",ref:Yt,"aria-describedby":ua.current},wt=Array.isArray(P)?P:[P],$e=0,Pr=wt.length;$e<Pr;$e++)switch(wt[$e]){case"click":q.onClick=fi;break;case"right-click":q.onContextMenu=Cw;break;case"hover":q.onMouseEnter=Yu,q.onMouseLeave=Xu;break;case"focus":q.onFocus=Yu,q.onBlur=Xu;break}if(typeof r=="function"){var _o=r(dt);return!!r&&j.cloneElement(_o,q)}return!!r&&j.cloneElement(r,q)},Pw=function(){var q=Ze?Do.popupContent.modal:Do.popupContent.tooltip,wt={className:"popup-content "+(Ae!==""?Ae.split(" ").map(function($e){return $e+"-content"}).join(" "):""),style:os({},q,W,{pointerEvents:"auto"}),ref:ft,onClick:function(Pr){Pr.stopPropagation()}};return!$&&P.indexOf("hover")>=0&&(wt.onMouseEnter=Yu,wt.onMouseLeave=Xu),wt},Lp=function(){return j.createElement("div",Object.assign({},Pw(),{key:"C",role:Ze?"dialog":"tooltip",id:ua.current}),Oe&&!Ze&&j.createElement("div",{ref:Sn,style:Do.popupArrow},j.createElement("svg",{"data-testid":"arrow",className:"popup-arrow "+(Ae!==""?Ae.split(" ").map(function(q){return q+"-arrow"}).join(" "):""),viewBox:"0 0 32 16",style:os({position:"absolute"},se)},j.createElement("path",{d:"M16 0l16 16H0z",fill:"currentcolor"}))),jt&&typeof jt=="function"?jt(pt,dt):jt)},Dw=!(P.indexOf("hover")>=0),Nw=Ze?Do.overlay.modal:Do.overlay.tooltip,Ow=[Dw&&j.createElement("div",{key:"O","data-testid":"overlay","data-popup":Ze?"modal":"tooltip",className:"popup-overlay "+(Ae!==""?Ae.split(" ").map(function(ze){return ze+"-overlay"}).join(" "):""),style:os({},Nw,Te,{pointerEvents:m&&E||Ze?"auto":"none"}),onClick:m&&E?pt:void 0,tabIndex:-1},Ze&&Lp()),!Ze&&Lp()];return j.createElement(j.Fragment,null,xw(),dt&&br.createPortal(Ow,fD()))});function Np(t){const{task:e,tasks:n,children:r,customStyle:i}=t,[o,s]=v.useState(!1);return g.jsxs("button",{className:"p-0 m-0 text-start text-white border-0 bg-transparent w-100",onClick:a=>{a.preventDefault(),s(!0)},children:[r,g.jsx(uw,{open:o,task:e,tasks:n,onOpenChanged:s,customStyle:i})]})}function uw(t){const{task:e,tasks:n,open:r,onOpenChanged:i,customStyle:o}=t;return g.jsx(pD,{onClose:()=>i(!1),open:r,arrowStyle:o.taskNote.arrowStyle,overlayStyle:o.taskNote.overlayStyle,contentStyle:o.taskNote.contentStyle,children:e?g.jsx(Pd,{task:e,customStyle:o}):n.map(s=>g.jsx(Pd,{task:s,customStyle:o},s.id))})}function Pd(t){const{setTask:e,setShow:n,setTitle:r,notifyDelete:i}=hi(),{task:o,customStyle:s}=t;return g.jsxs("div",{className:"rounded-2 m-2 p-2",style:s.taskNoteBackGround,children:[g.jsxs(ai,{children:[g.jsx(Qe,{xs:10,children:g.jsx(An,{title:"Task: ",data:o.title})}),g.jsxs(Qe,{className:"text-end",children:[g.jsx(Ss,{onClick:()=>{r("Wijzig"),n(!0),e(o)},children:g.jsx(k0,{style:{width:"35px",height:"35px"}})}),g.jsx(Ss,{onClick:()=>{i(o)},children:g.jsx(A0,{style:{width:"35px",height:"35px"}})})]})]}),g.jsx(An,{title:"Datum: ",data:o.date.toDate().toLocaleDateString("nl-BE")}),g.jsx(An,{title:"Tijd: ",data:o.date.toDate().toLocaleTimeString()}),g.jsx(An,{title:"Omschrijving: ",data:o.description})]})}Pd.propTypes={task:S.shape({title:S.string,description:S.string,location:S.shape({_lat:S.number,_long:S.number}),priority:S.number,date:S.object}),customStyle:S.shape({})};Np.propTypes={tasks:S.array,task:S.shape({title:S.string,description:S.string,location:S.shape({_lat:S.number,_long:S.number}),priority:S.number,date:S.object})};uw.propTypes={colorPallet:S.shape({})};function cw(t,e,n){return t.date.toDate().getMonth()===new Date(n).getMonth()&&t.date.toDate().getDate()===e&&t.date.toDate().getFullYear()===new Date(n).getFullYear()}function hw(t,e,n){return t.date.toDate().getMonth()===new Date(n).getMonth()&&t.date.toDate().getDate()===e&&t.repeat===!0}function mD(t,e){return tD(t)===e&&t.getMonth()===new Date().getMonth()}const gD=t=>{let e=[],n=Vp[t.toLocaleDateString("nl-BE",{weekday:"long"}).toLowerCase()];if(n!==1)for(let r=0;r<n-1;r++)e=[...e,r];return e},yD=t=>{const e=aw(t);let n=[],r=Vp[t.toLocaleDateString("nl-BE",{weekday:"long"}).toLowerCase()];for(let i=1;i<e+1;i++)n=[...n,i],r===7&&(n=[...n,"newrow"],r=0),r++;return n},vD=(t,e)=>{let n=[];if(nD(e).toLocaleDateString("nl-BE",{weekday:"long"}).toLowerCase()!=="zondag")for(let r=0;r<7-Vp[t.toLocaleDateString("nl-BE",{weekday:"long"}).toLowerCase()];r++)n=[...n,r];return n};function dw(){const[t,e]=v.useState(new Date),{tasks:n}=hi(),{colorPallet:r}=Cr();return g.jsxs("div",{children:[g.jsx(fw,{dateSelected:t,onDateChanged:e,customStyle:r}),g.jsxs(mu,{customStyle:r,children:[g.jsx(pw,{dayNames:wD}),g.jsx(gw,{dateSelected:t,tasks:n,customStyle:r})]})]})}function fw(t){const{dateSelected:e,onDateChanged:n,customStyle:r}=t;return g.jsxs(Ku,{customStyle:r,children:[g.jsx(yt,{title:"Vorige maand",onClick:()=>n(xd(e,-1))}),g.jsx(yt,{title:"Volgende maand",onClick:()=>n(xd(e,1))}),g.jsx(yt,{title:"Deze maand",onClick:()=>n(new Date)}),g.jsx("div",{className:"text-center",children:g.jsxs("h5",{style:{color:"white"},children:[SD[e.getMonth()]," ",e.getFullYear()]})})]})}function pw(t){const{dayNames:e}=t;return g.jsx(Qe,{xs:12,children:g.jsx(ai,{children:g.jsx(g.Fragment,{children:e.map((n,r)=>g.jsx(mw,{dayName:n},r))})})})}function mw(t){const{dayName:e}=t;return g.jsx(Qe,{className:"text-center",children:g.jsx("p",{children:e})})}function gw(t){const{dateSelected:e,tasks:n,customStyle:r}=t,i=eD(e),o=Z2(e);return g.jsxs(g.Fragment,{children:[g.jsx(Op,{startDay:i,customStyle:r}),g.jsx(yw,{startDay:i,tasks:n,dateSelected:e,customStyle:r}),g.jsx(_D,{endDay:o,customStyle:r})]})}function Op(t){const{startDay:e,customStyle:n}=t;return g.jsx(g.Fragment,{children:gD(e).map((r,i)=>g.jsx(Gu,{style:n.monthDayElementEmpty},i))})}function yw(t){const{startDay:e,tasks:n,dateSelected:r,customStyle:i}=t;return g.jsx(g.Fragment,{children:yD(e).map((o,s)=>o!=="newrow"?g.jsx(Gu,{today:mD(r,Number(o)),title:o.toString(),children:[...n].filter(a=>cw(a,Number(o),r)||hw(a,Number(o),r)).map((a,l)=>g.jsx(Np,{customStyle:i,task:a,children:g.jsx("div",{className:"rounded-2",style:i.monthTaskInfo,children:g.jsx("p",{children:a.title})})},l*100))},s):g.jsx(Qe,{xs:12},s))})}function _D(t){const{endDay:e,dateSelected:n,customStyle:r}=t;return g.jsx(g.Fragment,{children:vD(e,n).map((i,o)=>g.jsx(Gu,{style:r.monthDayElementEmpty},o))})}Op.propTypes={startDay:S.instanceOf(Date),customStyle:S.object};Op.propTypes={endDay:S.instanceOf(Date),dateSelected:S.instanceOf(Date),customStyle:S.object};yw.propTypes={startDay:S.instanceOf(Date),tasks:S.arrayOf(S.shape({title:S.string,description:S.string,location:S.shape({_lat:S.number,_long:S.number}),priority:S.number,date:S.object})),dateSelected:S.instanceOf(Date),customStyle:S.object};fw.propTypes={dateSelected:S.instanceOf(Date),onDateChanged:S.func};mw.propTypes={dayName:S.string};pw.propTypes={dayNames:S.arrayOf(S.string)};gw.propTypes={tasks:S.arrayOf(S.shape({title:S.string,description:S.string,location:S.shape({_lat:S.number,_long:S.number}),priority:S.number,date:S.object})),dateSelected:S.instanceOf(Date),customStyle:S.shape({})};function vw(){const[t,e]=v.useState(new Date(new Date().getFullYear(),0,1)),{tasks:n}=hi(),{colorPallet:r}=Cr();return g.jsxs(g.Fragment,{children:[g.jsx(_w,{dateSelected:t,onDateSelectedChanged:e,customStyle:r}),g.jsx(mu,{customStyle:r,children:ID.map((i,o)=>g.jsx(Ew,{tasks:n,month:i,customStyle:r,dateSelected:new Date(t.setMonth(i.number))},i.number))})]})}function _w(t){const{dateSelected:e,onDateSelectedChanged:n,customStyle:r}=t;return g.jsxs(Ku,{customStyle:r,children:[g.jsx(yt,{onClick:()=>n(gy(e,-1)),title:"Vorig jaar"}),g.jsx(yt,{onClick:()=>n(gy(e,1)),title:"Volgend jaar"}),g.jsx(yt,{onClick:()=>n(new Date),title:"Dit jaar"}),g.jsx("div",{className:"text-center",children:g.jsx("h5",{style:{color:"white"},children:e.getFullYear()})})]})}function Ew(t){const{dateSelected:e,tasks:n,month:r,customStyle:i}=t;return g.jsx(Qe,{xs:4,md:3,lg:2,className:"p-2",children:g.jsxs("div",{className:"rounded-2 mb-3 p-2",style:i.monthColumnStyle,children:[g.jsx("h6",{className:"text-center",children:r.month}),g.jsx(Tw,{dateSelected:e,tasks:n,customStyle:i})]})})}function ww(t){const{title:e,tasks:n,customStyle:r}=t;return g.jsx("div",{children:!n.length>0?g.jsx("strong",{children:e}):g.jsx(Np,{tasks:n,customStyle:r,children:g.jsx("div",{className:"my-1",style:r.dayForMonth,children:g.jsxs("strong",{children:[e,g.jsx("span",{className:"ms-3 text-white",children:n.length<2?n.length+" Item":n.length+" Items"})]})})})})}function Tw(t){const{dateSelected:e,tasks:n,customStyle:r}=t,i=aw(e);let o=[];for(let s=1;s<i+1;s++)o=[[...o],g.jsx(ww,{title:s,customStyle:r,tasks:n.filter(a=>cw(a,s,e)||hw(a,s,e))},s*e.getMonth)];return g.jsx("div",{children:o})}_w.propTypes={dateSelected:S.instanceOf(Date),onDateSelectedChanged:S.func};Ew.propTypes={dateSelected:S.instanceOf(Date),tasks:S.arrayOf(S.shape({title:S.string,description:S.string,location:S.shape({_lat:S.number,_long:S.number}),priority:S.number,date:S.object})),month:S.shape({number:S.number,month:S.string}),customStyle:S.shape({})};ww.protpTypes={title:S.string,tasks:S.arrayOf(S.shape({title:S.string,description:S.string,location:S.shape({_lat:S.number,_long:S.number}),priority:S.number,date:S.object})),customStyle:S.shape({})};Tw.propTypes={dateSelected:S.instanceOf(Date),tasks:S.arrayOf(S.shape({title:S.string,description:S.string,location:S.shape({_lat:S.number,_long:S.number}),priority:S.number,date:S.object})),customStyle:S.shape({})};const ED={0:g.jsx(Dp,{}),1:g.jsx(dw,{}),2:g.jsx(vw,{})},Kc={title:"",priority:0,date:{date:S0(new Date),time:"00:00"},description:"",repeat:!1,location:{_long:0,_lat:0}},wD=["Ma","Di","Wo","Do","Vr","Za","Zo"],Vp={maandag:1,dinsdag:2,woensdag:3,donderdag:4,vrijdag:5,zaterdag:6,zondag:7},TD={0:"white",1:"orange",2:"red"},SD={0:"Januari",1:"Februari",2:"Maart",3:"April",4:"Mei",5:"Juni",6:"Juli",7:"Augustus",8:"September",9:"Oktober",10:"November",11:"December"},ID=[{number:0,month:"Januari"},{number:1,month:"Februari"},{number:2,month:"Maart"},{number:3,month:"April"},{number:4,month:"Mei"},{number:5,month:"Juni"},{number:6,month:"Juli"},{number:7,month:"Augustus"},{number:8,month:"September"},{number:9,month:"Oktober"},{number:10,month:"November"},{number:11,month:"December"}],Gc={0:{taskNote:{contentStyle:{background:"#B5CB99",borderRadius:"10px"},overlayStyle:{background:"rgba(223,229,229,0.29)",overflowY:"auto"},arrowStyle:{color:"#000"}},textBlack:{color:"black"},textWhite:{color:"white"},section:{style:{backgroundColor:"#B5CB99",borderRadius:"10px",color:"white",marginTop:"1.5rem"}},body:{color:"#186F65"},selectionBar:{backgroundColor:"#B2533E",borderBottomLeftRadius:"10px",borderBottomRightRadius:"10px",padding:"10px"},optionBar:{backgroundColor:"#B2533E",padding:"10px",borderTopLeftRadius:"10px",borderTopRightRadius:"10px",marginTop:"10px"},buttonCustom:{backgroundColor:"#FCE09B",marginRight:"1.5rem",color:"black",border:"none",borderRadius:"10px",padding:"5px"},dayElementToday:{backgroundColor:"#FCE09B",color:"white",borderRadius:"10px",marginBottom:"5px",marginRight:"5px",height:"150px",overflowY:"auto"},dayElementNormal:{backgroundColor:"#FCE09B",color:"black",borderRadius:"10px",marginBottom:"5px",marginRight:"5px",height:"150px",overflowY:"auto"},monthDayElementEmpty:{backgroundColor:"#d1c7b0",color:"black",borderRadius:"10px",marginBottom:"5px",marginRight:"5px",height:"150px"},monthTaskInfo:{backgroundColor:"#B5CB99",marginLeft:"5px",marginRight:"5px",marginBottom:"5px"},dayElementMarkToday:{backgroundColor:"#B2533E"},monthColumnStyle:{backgroundColor:"#FCE09B",color:"black"},dayForMonth:{backgroundColor:"#B5CB99"},taskNoteBackGround:{backgroundColor:"#FCE09B"},toastStyle:{backgroundColor:"white",color:"black"}},1:{taskNote:{contentStyle:{background:"#2C3639",borderRadius:"10px",color:"white"},overlayStyle:{background:"rgba(223,229,229,0.29)",overflowY:"auto"},arrowStyle:{color:"#000"}},section:{style:{backgroundColor:"#3F4E4F",borderRadius:"10px",color:"white",marginTop:"1.5rem"}},body:{color:"#2C3639"},selectionBar:{backgroundColor:"#A27B5C",borderBottomLeftRadius:"10px",borderBottomRightRadius:"10px",padding:"10px"},optionBar:{backgroundColor:"#A27B5C",padding:"10px",borderTopLeftRadius:"10px",borderTopRightRadius:"10px",marginTop:"20px"},buttonCustom:{backgroundColor:"#DCD7C9",marginRight:"1.5rem",color:"black",border:"none",borderRadius:"10px",padding:"5px"},dayElementToday:{backgroundColor:"#A27B5C",color:"white",borderRadius:"10px",marginBottom:"5px",marginRight:"5px",height:"150px",overflowY:"auto"},dayElementNormal:{backgroundColor:"#A27B5C",color:"white",borderRadius:"10px",marginBottom:"5px",marginRight:"5px",height:"150px",overflowY:"auto"},monthDayElementEmpty:{backgroundColor:"#755b43",color:"white",borderRadius:"10px",marginBottom:"5px",marginRight:"5px",height:"150px"},monthTaskInfo:{backgroundColor:"#3F4E4F",marginLeft:"5px",marginRight:"5px",marginBottom:"5px"},dayElementMarkToday:{backgroundColor:"#DCD7C9",color:"black"},monthColumnStyle:{backgroundColor:"#A27B5C"},dayForMonth:{backgroundColor:"#3F4E4F"},taskNoteBackGround:{backgroundColor:"#3F4E4F"},toastStyle:{backgroundColor:"black",color:"white"}},2:{taskNote:{contentStyle:{background:"#1e2124",borderRadius:"10px",color:"white"},overlayStyle:{background:"rgba(223,229,229,0.29)",overflowY:"auto"},arrowStyle:{color:"#000"}},section:{style:{backgroundColor:"#36393e",borderRadius:"10px",color:"white",marginTop:"1.5rem"}},body:{color:"#1e2124"},selectionBar:{backgroundColor:"#282b30",borderBottomLeftRadius:"10px",borderBottomRightRadius:"10px",padding:"10px"},optionBar:{backgroundColor:"#282b30",padding:"10px",borderTopLeftRadius:"10px",borderTopRightRadius:"10px",marginTop:"20px"},buttonCustom:{backgroundColor:"#424549",marginRight:"1.5rem",color:"white",border:"none",borderRadius:"10px",padding:"5px"},dayElementToday:{backgroundColor:"#424549",color:"white",borderRadius:"10px",marginBottom:"5px",marginRight:"5px",height:"150px",overflowY:"auto"},dayElementNormal:{backgroundColor:"#424549",color:"white",borderRadius:"10px",marginBottom:"5px",marginRight:"5px",height:"150px",overflowY:"auto"},monthDayElementEmpty:{backgroundColor:"#1e2124",color:"white",borderRadius:"10px",marginBottom:"5px",marginRight:"5px",height:"150px"},monthTaskInfo:{backgroundColor:"#7289da",color:"white",marginLeft:"5px",marginRight:"5px",marginBottom:"5px"},dayElementMarkToday:{backgroundColor:"#1e2124"},monthColumnStyle:{backgroundColor:"#424549",color:"white"},dayForMonth:{backgroundColor:"#7289da"},taskNoteBackGround:{backgroundColor:"#424549"},toastStyle:{backgroundColor:"black",color:"white"}}},Sw=v.createContext();function CD(t){const[e,n]=T0("defaultColorScheme",0),[r,i]=v.useState(Gc[e]),o=v.useCallback(({color:l})=>{document.documentElement.style.setProperty("--bodyColor",l)},[]);v.useEffect(()=>{o(r.body)},[r.body,o]);const s=v.useCallback(l=>{n(l),o(Gc[l].body),i(Gc[l])},[o,n]),a=v.useMemo(()=>({colorScheme:e,setColorScheme:n,colorPallet:r,changeColorPallet:s}),[e,n,r,s]);return g.jsx(Sw.Provider,{value:a,children:t.children})}const Cr=()=>v.useContext(Sw);function Iw(t){const{children:e}=t,{colorPallet:n}=Cr();return g.jsx(ai,{style:n.optionBar,className:"g-0",children:e})}Iw.propTypes={children:S.any};function RD(){const{title:t,editTask:e,storeTaskChanges:n,saveTask:r,show:i,setShow:o}=hi();return console.log(rg(e.date.time.toString())),g.jsxs(LC,{show:!!i,onHide:()=>o(!1),children:[g.jsxs(y0,{children:[g.jsx("h5",{children:t}),g.jsx(Kh,{className:"btn-close",onClick:()=>o(!1)})]}),g.jsxs(h0,{children:[g.jsxs(Tt,{children:[g.jsx(Tt.Label,{children:"Title"}),g.jsx(Tt.Control,{required:!0,value:e.title,onChange:s=>n({...e,title:s.target.value})}),g.jsx(Tt.Label,{children:"Prioriteit"}),g.jsxs(Tt.Select,{value:e.priority,onChange:s=>n({...e,priority:Number(s.target.value)}),children:[g.jsx("option",{value:0,children:"Laag"}),g.jsx("option",{value:1,children:"Gemiddeld"}),g.jsx("option",{value:2,children:"Hoog"})]}),g.jsx(Tt.Label,{children:"Datum"}),g.jsx(Tt.Control,{required:!0,type:"date",value:e.date.date,onChange:s=>n({...e,date:{date:s.target.value,time:e.date.time}})}),g.jsx(Tt.Label,{children:"Tijd"}),g.jsx(Tt.Control,{required:!0,type:"time",value:rg(e.date.time.toString()),onChange:s=>n({...e,date:{date:e.date.date,time:s.target.value}})}),g.jsx(Tt.Label,{children:"Omschrijving"}),g.jsx(Tt.Control,{as:"textarea",rows:3,value:e.description,onChange:s=>n({...e,description:s.target.value})}),g.jsx(Tt.Label,{children:"Terugkomend"}),g.jsx(Tt.Switch,{value:e.repeat.toString(),defaultChecked:!!e.repeat,onChange:s=>n({...e,repeat:s.target.checked})})]}),g.jsx("div",{className:"text-end mt-2",children:g.jsx(yt,{title:"Save",onClick:async()=>{r(e),o(!1)}})})]})]})}function kD(){const{setShow:t,setTitle:e,newTask:n}=hi(),{colorScheme:r,changeColorPallet:i}=Cr(),[o,s]=T0("lastLayout",0),[a,l]=v.useState(ED[o]);return g.jsxs(YI,{fluid:"md",className:"g-0",children:[g.jsxs(Iw,{children:[g.jsxs(ai,{className:"g-0",children:[g.jsx(Qe,{xs:"auto",children:g.jsx(yt,{onClick:()=>{l(g.jsx(Dp,{})),s(0)},title:"Week"})}),g.jsx(Qe,{xs:"auto",children:g.jsx(yt,{onClick:()=>{l(g.jsx(dw,{})),s(1)},title:"Maand"})}),g.jsx(Qe,{xs:"auto",children:g.jsx(yt,{onClick:()=>{l(g.jsx(vw,{})),s(2)},title:"Jaar"})}),g.jsx(Qe,{xs:"auto",children:g.jsx(yt,{title:"Nieuw",onClick:()=>{e("Nieuw"),n(),t(!0)}})}),g.jsx(Qe,{xs:"auto",children:g.jsxs(Tt.Select,{defaultValue:Number(r),onChange:u=>i(Number(u.target.value)),children:[g.jsx("option",{value:0,children:"Light mode"}),g.jsx("option",{value:1,children:"Dark mode"}),g.jsx("option",{value:2,children:"Discord mode"})]})})]}),g.jsx(kd,{})]}),g.jsx(RD,{}),g.jsx(g.Fragment,{children:a})]})}function AD(){return g.jsx("div",{children:g.jsx(kD,{})})}function xD(){return g.jsx(CD,{children:g.jsx(X2,{children:g.jsx(AD,{})})})}const PD=Yc.createRoot(document.getElementById("root"));PD.render(g.jsx(j.StrictMode,{children:g.jsx(xD,{})}));
